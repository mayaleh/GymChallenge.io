(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./bundles/calendars.js":function(e,t,s){"use strict";s.r(t);var i=s("../node_modules/@babel/runtime/helpers/typeof.js"),a=s.n(i);window.sf=window.sf||{},window.sf.calendars=function(e){var t,s,i,n,r=(t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),l=function(e,t,s,i){var n,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":a()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},o="e-other-month",h="e-calendar",u="e-disabled",d="e-overlay",p="e-selected",c="e-focused-date",f=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.effect="",i.isPopupClicked=!1,i.isDateSelected=!0,i}return r(t,e),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new sf.base.Internationalization(this.locale),(sf.base.isNullOrUndefined(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(h),this.enableRtl&&this.element.classList.add("e-rtl"),sf.base.Browser.isDevice&&this.element.classList.add("e-device"),sf.base.attributes(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(h),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),sf.base.Browser.isDevice&&this.calendarElement.classList.add("e-device"),sf.base.attributes(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,t){sf.base.isNullOrUndefined(e)&&this.setProperties({min:new Date(1900,0,1)},!0),sf.base.isNullOrUndefined(t)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!sf.base.isNullOrUndefined(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,t,s,i){if(i&&!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(s)&&!sf.base.isNullOrUndefined(e)){var a=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;s.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?sf.base.removeClass([this.element],d):(this.setProperties({min:this.min},!0),sf.base.addClass([this.element],d)),this.min=sf.base.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=sf.base.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),sf.base.rippleEffect(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),sf.base.attributes(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),sf.base.rippleEffect(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),sf.base.attributes(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),sf.base.attributes(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},t.prototype.getCultureValues=function(){var e,t=[],s=(sf.base.isBlazor()?"days.":"days.stand-alone.")+this.dayHeaderFormat.toLowerCase();e="en"===this.locale||"en-US"===this.locale?sf.base.getValue(s,sf.base.getDefaultDateObject()):this.getCultureObjects(sf.base.cldrData,""+this.locale);for(var i=0,a=Object.keys(e);i<a.length;i++){var n=a[i];t.push(sf.base.getValue(n,e))}return t},t.prototype.toCapitalize=function(e){return!sf.base.isNullOrUndefined(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?sf.base.isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0])||sf.base.detach(this.element.querySelectorAll(".e-content .e-week-header")[0]):sf.base.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||sf.base.detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e,t="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(t+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?sf.base.addClass([this.element],"e-week-number"):sf.base.addClass([this.calendarElement],"e-week-number")),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var s=0;s<=6;s++)t+='<th  class="">'+this.toCapitalize(e[s])+"</th>";t="<tr>"+t+"</tr>",this.tableHeadElement.innerHTML=t,this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?sf.base.isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0])||sf.base.detach(this.element.querySelectorAll(".e-content tbody")[0]):sf.base.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0])||sf.base.detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),t=new Date(+this.max);this.globalize=new sf.base.Internationalization(this.locale),this.l10=new sf.base.L10n(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),sf.base.rippleEffect(this.todayElement),this.updateFooter(),sf.base.addClass([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||sf.base.addClass([this.todayElement],u),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(u)||sf.base.EventHandler.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,t,s,i){sf.base.isBlazor()&&t?(this.element=document.getElementById(e),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,s),this.blazorRef=t,this.serverModuleName=i):(sf.base.EventHandler.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,this.keyConfigs)),"calendar"===this.getModuleName()?this.keyboardModule=new sf.base.KeyboardEvents(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):this.keyboardModule=new sf.base.KeyboardEvents(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,t,s,i){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,s),this.blazorRef=t,this.serverModuleName=i},t.prototype.todayButtonClick=function(e){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(e))):this.navigateTo("Month",new Date(this.checkValue(e))))},t.prototype.checkDeviceMode=function(e){sf.base.Browser.isDevice&&sf.base.isBlazor()&&e&&e.invokeMethodAsync("OnDevice",!0)},t.prototype.keyActionHandle=function(e,t,s){sf.base.isBlazor()&&this.blazorRef&&(e.preventDefault(),this.tableBodyElement||(this.element=sf.base.closest(e.target,".e-calendar"),this.tableBodyElement=this.element.querySelector("tbody")),s=!1);var i,a=this.tableBodyElement.querySelector("tr td.e-focused-date");if(i=s?sf.base.isNullOrUndefined(a)||+t!==parseInt(a.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):a:this.tableBodyElement.querySelector("tr td.e-selected"),sf.base.isBlazor()&&this.blazorRef){this.tableBodyElement.focus();var n=e.target,r={Action:e.action,Key:e.key,Events:e,SelectDate:i?i.id:null,FocusedDate:a?a.id:null,classList:i?i.classList.toString():a?a.classList.toString():"e-cell",Id:a?a.id:i?i.id:null,TargetClassList:n.classList.toString()};this.blazorRef.invokeMethodAsync("OnCalendarKeyboardEvent",r),n.classList.contains("e-today")&&(n.blur(),this.tableBodyElement.focus()),"sf.calendars.Calendar"===this.serverModuleName&&(this.tableBodyElement=null)}else{var l=this.getViewNumber(this.currentView()),o=this.getViewNumber(this.depth),h=l===o&&this.getViewNumber(this.start)>=o;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,l,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,l,e,this.max,this.min),e.preventDefault();break;case"moveUp":0===l?this.KeyboardNavigate(-7,l,e,this.max,this.min):this.KeyboardNavigate(-4,l,e,this.max,this.min),e.preventDefault();break;case"moveDown":0===l?this.KeyboardNavigate(7,l,e,this.max,this.min):this.KeyboardNavigate(4,l,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(t);else{var d=sf.base.isNullOrUndefined(a)?i:a;if(!sf.base.isNullOrUndefined(d)&&!d.classList.contains(u))if(h){var p=new Date(parseInt(""+d.id,0));this.selectDate(e,p,d)}else this.contentClick(null,--l,d,t)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":sf.base.isNullOrUndefined(a)&&(sf.base.isNullOrUndefined(i)||h)||this.contentClick(null,--l,a||i,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),sf.base.detach(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,l),sf.base.detach(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}},t.prototype.KeyboardNavigate=function(e,t,s,i,a){var n=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(sf.base.detach(this.tableBodyElement),this.renderDecades(s)):this.currentDate=n;break;case 1:this.addMonths(this.currentDate,e),this.calendarMode,this.isMonthYearRange(this.currentDate)?(sf.base.detach(this.tableBodyElement),this.renderYears(s)):this.currentDate=n;break;case 0:this.addDay(this.currentDate,e,s,i,a),this.isMinMaxRange(this.currentDate)?(sf.base.detach(this.tableBodyElement),this.renderMonths(s)):this.currentDate=n}},t.prototype.preRender=function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(e){t.triggerNavigate(e)}},t.prototype.minMaxDate=function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),s=new Date(new Date(+this.min).setHours(0,0,0,0)),i=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+s&&+t!=+i||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,t){var s,i=this.weekNumber?8:7;s="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,e,t):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(s,i,"e-month",e,t):this.islamicModule.islamicRenderTemplate(s,i,"e-month",e,t)},t.prototype.renderDays=function(e,t,s,i,a){var n,r=[],l=new Date(this.checkValue(e)),h=(this.weekNumber,l.getMonth());this.titleUpdate(e,"days");var c=l;for(l=new Date(c.getFullYear(),c.getMonth(),0,c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());l.getDay()!==this.firstDayOfWeek;)this.setStartDate(l,-864e5);for(var f=0;f<42;++f){var m=this.createElement("td",{className:"e-cell"}),b=this.createElement("span");f%7==0&&this.weekNumber&&(b.textContent=""+this.getWeek(l),m.appendChild(b),sf.base.addClass([m],"e-week-number"),r.push(m)),n=new Date(+l),l=this.minMaxDate(l);var v={type:"dateTime",skeleton:sf.base.isBlazor()?"D":"full"},y=this.globalize.parseDate(this.globalize.formatDate(l,v),v),g=this.dayCell(l),D=this.globalize.formatDate(l,{type:"date",skeleton:sf.base.isBlazor()?"D":"full"}),E=this.createElement("span");E.textContent=this.globalize.formatDate(l,{format:"d",type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"});var C=this.min>l||this.max<l;C?(sf.base.addClass([g],u),sf.base.addClass([g],d)):E.setAttribute("title",""+D),h!==l.getMonth()&&sf.base.addClass([g],o),0!==l.getDay()&&6!==l.getDay()||sf.base.addClass([g],"e-weekend"),g.appendChild(E),this.renderDayCellArgs={date:l,isDisabled:!1,element:g,isOutOfRange:C};var w=this.renderDayCellArgs;if(this.renderDayCellEvent(w),w.isDisabled)if(i){if(!sf.base.isNullOrUndefined(a)&&a.length>0)for(var V=0;V<a.length;V++){+new Date(this.globalize.formatDate(w.date,{type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"}))===+new Date(this.globalize.formatDate(a[V],{type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"}))&&(a.splice(V,1),V=-1)}}else s&&+s==+w.date&&this.setProperties({value:null},!0);this.renderDayCellArgs.isDisabled&&!g.classList.contains(p)&&(sf.base.addClass([g],u),sf.base.addClass([g],d),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var O=g.classList.contains(o),k=g.classList.contains(u);if(k||sf.base.EventHandler.add(g,"click",this.clickHandler,this),!i||sf.base.isNullOrUndefined(a)||k)!k&&this.getDateVal(l,s)?sf.base.addClass([g],p):this.updateFocus(O,k,l,g,e);else{for(var N=0;N<a.length;N++){var M="Gregorian"===this.calendarMode?"gregorian":"islamic",I={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:M};this.globalize.formatDate(l,I)===this.globalize.formatDate(a[N],I)&&this.getDateVal(l,a[N])||this.getDateVal(l,s)?sf.base.addClass([g],p):this.updateFocus(O,k,l,g,e)}a.length<=0&&this.updateFocus(O,k,l,g,e)}y.getMonth()===(new Date).getMonth()&&y.getDate()===(new Date).getDate()&&y.getFullYear()===(new Date).getFullYear()&&sf.base.addClass([g],"e-today"),r.push(this.renderDayCellArgs.element),l=new Date(+n),this.addDay(l,1,null,this.max,this.min)}return r},t.prototype.updateFocus=function(e,t,s,i,a){a.getDate()!==s.getDate()||e||t?(a>=this.max&&parseInt(i.id,0)===+this.max&&!e&&!t&&sf.base.addClass([i],c),a<=this.min&&parseInt(i.id,0)===+this.min&&!e&&!t&&sf.base.addClass([i],c)):sf.base.addClass([i],c)},t.prototype.renderYears=function(e,t){this.removeTableHeadElement();var s=[],i=sf.base.isNullOrUndefined(t),a=new Date(this.checkValue(this.currentDate)),n=a.getMonth(),r=a.getFullYear(),l=a,o=l.getFullYear(),h=new Date(this.checkValue(this.min)).getFullYear(),d=new Date(this.checkValue(this.min)).getMonth(),f=new Date(this.checkValue(this.max)).getFullYear(),m=new Date(this.checkValue(this.max)).getMonth();l.setMonth(0),this.titleUpdate(this.currentDate,"months");this.min>l||this.max;l.setDate(1);for(var b=0;b<12;++b){var v=this.dayCell(l),y=this.createElement("span"),g=t&&t.getMonth()===l.getMonth(),D=t&&t.getFullYear()===r&&g;y.textContent=this.toCapitalize(this.globalize.formatDate(l,{format:sf.base.isBlazor()?"MMM":null,type:"dateTime",skeleton:"MMM"})),this.min&&(o<h||b<d&&o===h)||this.max&&(o>f||b>m&&o>=f)?sf.base.addClass([v],u):!i&&D?sf.base.addClass([v],p):l.getMonth()===n&&this.currentDate.getMonth()===n&&sf.base.addClass([v],c),l.setDate(1),l.setMonth(l.getMonth()+1),v.classList.contains(u)||sf.base.EventHandler.add(v,"click",this.clickHandler,this),v.appendChild(y),s.push(v)}this.renderTemplate(s,4,"e-year",e,t)},t.prototype.renderDecades=function(e,t){this.removeTableHeadElement();var s=[],i=new Date(this.checkValue(this.currentDate));i.setMonth(0),i.setDate(1);var a=i.getFullYear(),n=new Date(i.setFullYear(a-a%10)),r=new Date(i.setFullYear(a-a%10+9)),l=n.getFullYear(),o=r.getFullYear(),h=this.globalize.formatDate(n,{format:sf.base.isBlazor()?"yyyy":null,type:"dateTime",skeleton:"y"}),d=this.globalize.formatDate(r,{format:sf.base.isBlazor()?"yyyy":null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+d;for(var f=new Date(a-a%10-1,0,1).getFullYear(),m=0;m<12;++m){var b=f+m;i.setFullYear(b);var v=this.dayCell(i);sf.base.attributes(v,{role:"gridcell"});var y=this.createElement("span");y.textContent=this.globalize.formatDate(i,{format:sf.base.isBlazor()?"yyyy":null,type:"dateTime",skeleton:"y"}),b<l||b>o?(sf.base.addClass([v],"e-other-year"),sf.base.isNullOrUndefined(t)||i.getFullYear()!==t.getFullYear()||sf.base.addClass([v],p),(b<new Date(this.checkValue(this.min)).getFullYear()||b>new Date(this.checkValue(this.max)).getFullYear())&&sf.base.addClass([v],u)):b<new Date(this.checkValue(this.min)).getFullYear()||b>new Date(this.checkValue(this.max)).getFullYear()?sf.base.addClass([v],u):sf.base.isNullOrUndefined(t)||i.getFullYear()!==t.getFullYear()?i.getFullYear()!==this.currentDate.getFullYear()||v.classList.contains(u)||sf.base.addClass([v],c):sf.base.addClass([v],p),v.classList.contains(u)||sf.base.EventHandler.add(v,"click",this.clickHandler,this),v.appendChild(y),s.push(v)}this.renderTemplate(s,4,"e-decade",e,t)},t.prototype.dayCell=function(e){var t="Gregorian"===this.calendarMode?"gregorian":"islamic",s={skeleton:sf.base.isBlazor()?"F":"full",type:"dateTime",calendar:t},i=this.globalize.parseDate(this.globalize.formatDate(e,s),s).valueOf(),a={className:"e-cell",attrs:{id:""+sf.base.getUniqueID(""+i),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",a)},t.prototype.firstDay=function(e){var t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+o):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(t.length)for(var s=0;s<t.length;s++)if(!t[s].classList.contains(u)){e=new Date(parseInt(t[s].id,0));break}return e},t.prototype.lastDay=function(e,t){var s=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==t){var i=Math.abs(s.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return i&&s.setHours(this.firstDay(e).getHours()+i/60),this.findLastDay(s)}return this.findLastDay(this.firstDay(s))},t.prototype.checkDateValue=function(e){return!sf.base.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+o);if(t.length)for(var s=t.length-1;s>=0;s--)if(!t[s].classList.contains(u)){e=new Date(parseInt(t[s].id,0));break}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?sf.base.isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0])||sf.base.detach(this.tableHeadElement):sf.base.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0])||sf.base.detach(this.tableHeadElement)},t.prototype.renderTemplate=function(e,t,s,i,a){var n,r=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),sf.base.removeClass([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),sf.base.addClass([this.contentElement,this.headerElement],[s]);for(var l=t,h=0,u=0;u<e.length/t;++u){for(n=this.createElement("tr",{attrs:{role:"row"}}),h=0+h;h<l;h++)e[h].classList.contains("e-week-number")||sf.base.isNullOrUndefined(e[h].children[0])||(sf.base.addClass([e[h].children[0]],["e-day"]),sf.base.rippleEffect(e[h].children[0],{duration:600,isCenterRipple:!0})),n.appendChild(e[h]),this.weekNumber&&7===h&&e[7].classList.contains(o)&&sf.base.addClass([n],"e-month-hide"),!this.weekNumber&&6===h&&e[6].classList.contains(o)&&sf.base.addClass([n],"e-month-hide"),this.weekNumber?41===h&&e[41].classList.contains(o)&&sf.base.addClass([n],"e-month-hide"):35===h&&e[35].classList.contains(o)&&sf.base.addClass([n],"e-month-hide");l+=t,h+=0,this.tableBodyElement.appendChild(n)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(r!==this.getViewNumber(this.currentView())||0===r&&r!==this.getViewNumber(this.currentView()))&&this.navigateHandler(i),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,t){this.clickEventEmitter(e);var s=e.currentTarget,i=this.getViewNumber(this.currentView());s.classList.contains(o)?this.contentClick(e,0,null,t):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===i?this.contentClick(e,1,null,t):s.classList.contains(o)||0!==i?this.contentClick(e,0,s,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,t,s,i){var a=this.getViewNumber(this.currentView()),n=this.getIdValue(e,s);switch(t){case 0:a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(sf.base.detach(this.tableBodyElement),this.currentDate=n,this.effect="e-zoomin",this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(n.getMonth()),n.getMonth()>0&&this.currentDate.getMonth()!==n.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(n.getFullYear())):this.currentDate=n,this.effect="e-zoomin",sf.base.detach(this.tableBodyElement),this.renderMonths(e));break;case 1:if(a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,n,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(n.getFullYear());else{var r=this.islamicModule.getIslamicDate(n);this.currentDate=this.islamicModule.toGregorian(r.year,r.month,1)}this.effect="e-zoomin",sf.base.detach(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,t,s){switch(e){case 0:sf.base.detach(this.tableBodyElement),this.renderMonths(t),s&&!sf.base.isNullOrUndefined(this.tableBodyElement.querySelectorAll("."+c)[0])&&this.tableBodyElement.querySelectorAll("."+c)[0].classList.remove(c);break;case 1:sf.base.detach(this.tableBodyElement),this.renderYears(t);break;case 2:sf.base.detach(this.tableBodyElement),this.renderDecades(t)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t,s,i){this.effect="";for(var a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];switch(r){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),"min"===r?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),sf.base.detach(this.tableBodyElement),this.minMaxUpdate(),s&&this.validateValues(s,i),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(sf.base.detach(this.todayElement),sf.base.detach(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(sf.base.removeClass([this.todayElement],u),sf.base.detach(this.todayElement),sf.base.detach(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new sf.base.Internationalization(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():sf.base.isNullOrUndefined(this.todayElement)||sf.base.isNullOrUndefined(this.footer)||(sf.base.detach(this.todayElement),sf.base.detach(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,t){if(e&&!sf.base.isNullOrUndefined(t)&&t.length>0){for(var s=this.copyValues(t),i=0;i<s.length;i++){var a=s[i],n="Gregorian"===this.calendarMode?"gregorian":"islamic",r=void 0;r="Gregorian"===this.calendarMode?this.globalize.formatDate(a,{type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"}):this.globalize.formatDate(a,{type:"dateTime",skeleton:"full",calendar:"islamic"});var l={type:"date",skeleton:sf.base.isBlazor()?"d":"yMd",calendar:n},o=this.globalize.formatDate(this.min,l),h={type:"date",skeleton:sf.base.isBlazor()?"d":"yMd",calendar:n},u=this.globalize.formatDate(this.max,h);(+new Date(r)<+new Date(o)||+new Date(r)>+new Date(u))&&(s.splice(i,1),i=-1)}this.setProperties({values:s},!0)}},t.prototype.setValueUpdate=function(){sf.base.isNullOrUndefined(this.tableBodyElement)||(sf.base.detach(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var t=[];if(!sf.base.isNullOrUndefined(e)&&e.length>0)for(var s=0;s<e.length;s++)t.push(new Date(+e[s]));return t},t.prototype.titleUpdate=function(e,t){var s,i,a=new sf.base.Internationalization(this.locale),n="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(s=a.formatDate(e,{type:"dateTime",skeleton:sf.base.isBlazor()?"y":"yMMMM",calendar:n}),i=a.formatDate(e,{format:sf.base.isBlazor()?"yyyy":null,type:"dateTime",skeleton:"y",calendar:n})):(s=a.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:n}),i=a.formatDate(e,{type:"dateTime",format:"y",calendar:n})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(s);break;case"months":this.headerTitleElement.textContent=i}},t.prototype.setActiveDescendant=function(){var e,t,s=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),a="Gregorian"===this.calendarMode?"gregorian":"islamic",n=this.currentView();return t="Month"===n?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:sf.base.isBlazor()?"D":"full",calendar:a}):"Year"===n?"islamic"!==a?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:sf.base.isBlazor()?"y":"yMMMM",calendar:a}):this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"GyMMM",calendar:a}):this.globalize.formatDate(this.currentDate,{format:sf.base.isBlazor()?"yyyy":null,type:"date",skeleton:"y",calendar:a}),(i||s)&&(sf.base.isNullOrUndefined(i)||i.setAttribute("aria-selected","true"),(s||i).setAttribute("aria-label",t),e=(s||i).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){("calendar"===this.getModuleName()||this.calendarElement)&&sf.base.removeClass([this.element],[h]),"calendar"===this.getModuleName()&&(sf.base.EventHandler.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&sf.base.EventHandler.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),sf.base.isNullOrUndefined(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",e.prototype.destroy.call(this)},t.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++t,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.navigateTo=function(e,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e))},t.prototype.currentView=function(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"},t.prototype.getDateVal=function(e,t){return!sf.base.isNullOrUndefined(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.getCultureObjects=function(e,t){var s=(sf.base.isBlazor()?".dates.days.":".dates.calendars.gregorian.days.format.")+this.dayHeaderFormat.toLowerCase(),i=(sf.base.isBlazor()?".dates.days.":".dates.calendars.islamic.days.format.")+this.dayHeaderFormat.toLowerCase(),a=sf.base.isBlazor()?"":"main.";return"Gregorian"===this.calendarMode?sf.base.getValue(a+""+this.locale+s,e):sf.base.getValue("main."+this.locale+i,e)},t.prototype.getWeek=function(e){var t=new Date(this.checkValue(e)).valueOf(),s=new Date(e.getFullYear(),0,1).valueOf(),i=t-s;return Math.ceil((i/864e5+new Date(s).getDay()+1)/7)},t.prototype.setStartDate=function(e,t){var s=e.getTimezoneOffset(),i=new Date(e.getTime()+t),a=i.getTimezoneOffset()-s;e.setTime(i.getTime()+6e4*a)},t.prototype.addMonths=function(e,t){if("Gregorian"===this.calendarMode){var s=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(s,this.getMaxDays(e)))}else{var i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year,i.month+t,1)}},t.prototype.addYears=function(e,t){if("Gregorian"===this.calendarMode){var s=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(s,this.getMaxDays(e)))}else{var i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year+t,i.month,1)}},t.prototype.getIdValue=function(e,t){var s;s=e?e.currentTarget:t;var i="Gregorian"===this.calendarMode?"gregorian":"islamic",a={type:"dateTime",skeleton:sf.base.isBlazor()?"F":"full",calendar:i},n=this.globalize.formatDate(new Date(parseInt(""+s.getAttribute("id"),0)),a),r=this.globalize.parseDate(n,a),l=r.valueOf()-r.valueOf()%1e3;return new Date(l)},t.prototype.adjustLongHeaderSize=function(){sf.base.removeClass([this.element],"e-calendar-day-header-lg"),"Wide"===this.dayHeaderFormat&&sf.base.addClass(["calendar"===this.getModuleName()?this.element:this.calendarElement],"e-calendar-day-header-lg")},t.prototype.selectDate=function(e,t,s,i,a){var n=s||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(i&&!this.checkPresentDate(t,a)){var r=this.copyValues(a);!sf.base.isNullOrUndefined(a)&&r.length>0?(r.push(new Date(this.checkValue(t))),this.setProperties({values:r},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}var l=sf.base.closest(n,"."+h);if(sf.base.isNullOrUndefined(l)&&(l=this.tableBodyElement),i||sf.base.isNullOrUndefined(l.querySelector("."+p))||sf.base.removeClass([l.querySelector("."+p)],p),i||sf.base.isNullOrUndefined(l.querySelector("."+c))||sf.base.removeClass([l.querySelector("."+c)],c),i){r=this.copyValues(a);for(var o=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),u=0;u<o.length;u++){var d=l.querySelectorAll("td."+c)[0],f=l.querySelectorAll("td."+p)[0];o[u]===d&&sf.base.removeClass([o[u]],c),o[u]!==f||this.checkPresentDate(new Date(parseInt(f.getAttribute("id").split("_")[0],10)),a)||sf.base.removeClass([o[u]],p)}if(n.classList.contains(p)){sf.base.removeClass([n],p);for(var m=0;m<r.length;m++){var b="Gregorian"===this.calendarMode?"gregorian":"islamic",v={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:b};if(this.globalize.formatDate(t,v)===this.globalize.formatDate(r[m],v)){u=r.indexOf(r[m]);r.splice(u,1),sf.base.addClass([n],c)}}this.setProperties({values:r},!0)}else sf.base.addClass([n],p)}else sf.base.addClass([n],p);this.isDateSelected=!0},t.prototype.getFromatStringValue=function(){return sf.base.isBlazor()?"M"+sf.base.getDefaultDateObject().dateSeperator+"d"+sf.base.getDefaultDateObject().dateSeperator+"yy":null},t.prototype.checkPresentDate=function(e,t){var s=!1;if(!sf.base.isNullOrUndefined(t))for(var i=0;i<t.length;i++){var a="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:a})===this.globalize.formatDate(t[i],{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:a})&&(s=!0)}return s},t.prototype.setAriaActiveDescendant=function(){sf.base.attributes(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?(sf.base.EventHandler.remove(this.previousIcon,"click",this.navigatePreviousHandler),sf.base.addClass([this.previousIcon],""+u),sf.base.addClass([this.previousIcon],""+d),this.previousIcon.setAttribute("aria-disabled","true")):(sf.base.EventHandler.add(this.previousIcon,"click",this.navigatePreviousHandler),sf.base.removeClass([this.previousIcon],""+u),sf.base.removeClass([this.previousIcon],""+d),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){sf.base.extend(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){sf.base.extend(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?(sf.base.EventHandler.remove(this.nextIcon,"click",this.navigateNextHandler),sf.base.addClass([this.nextIcon],u),sf.base.addClass([this.nextIcon],d),this.nextIcon.setAttribute("aria-disabled","true")):(sf.base.EventHandler.add(this.nextIcon,"click",this.navigateNextHandler),sf.base.removeClass([this.nextIcon],u),sf.base.removeClass([this.nextIcon],d),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,t,s){var i,a,n=t.getFullYear();return i=n,a=0,s&&(i=(n-=n%s)-n%s+s-1),e.getFullYear()>i?a=1:e.getFullYear()<n&&(a=-1),a},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,t){return this.compare(e,t,0)},t.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},t.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.prototype.addDay=function(e,t,s,i,a){var n=t,r=new Date(+e);if(!sf.base.isNullOrUndefined(this.tableBodyElement)&&!sf.base.isNullOrUndefined(s)){for(;this.findNextTD(new Date(+e),n,i,a);)n+=t;var l=new Date(r.setDate(r.getDate()+n));n=+l>+i||+l<+a?n===t?t-t:t:n}e.setDate(e.getDate()+n)},t.prototype.findNextTD=function(e,t,s,i){var a=new Date(e.setDate(e.getDate()+t)),n=[],r=!1;if((!sf.base.isNullOrUndefined(a)&&a.getMonth())===(!sf.base.isNullOrUndefined(this.currentDate)&&this.currentDate.getMonth())){n=("Gregorian"===this.calendarMode?this.renderDays(a,null):this.islamicModule.islamicRenderDays(this.currentDate,a)).filter((function(e){return e.classList.contains(u)}))}else n=this.tableBodyElement.querySelectorAll("td."+u);if(+a<=+s&&+a>=+i&&n.length)for(var l=0;l<n.length&&!(r=+a==+new Date(parseInt(n[l].id,0)));l++);return r},t.prototype.getMaxDays=function(e){var t,s,i=new Date(this.checkValue(e));for(t=28,s=i.getMonth();i.getMonth()===s;)++t,i.setDate(t);return t-1},t.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},l([sf.base.Property(new Date(1900,0,1))],t.prototype,"min",void 0),l([sf.base.Property(new Date(2099,11,31))],t.prototype,"max",void 0),l([sf.base.Property(null)],t.prototype,"firstDayOfWeek",void 0),l([sf.base.Property("Gregorian")],t.prototype,"calendarMode",void 0),l([sf.base.Property("Month")],t.prototype,"start",void 0),l([sf.base.Property("Month")],t.prototype,"depth",void 0),l([sf.base.Property(!1)],t.prototype,"weekNumber",void 0),l([sf.base.Property(!0)],t.prototype,"showTodayButton",void 0),l([sf.base.Property("Short")],t.prototype,"dayHeaderFormat",void 0),l([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),l([sf.base.Property(null)],t.prototype,"keyConfigs",void 0),l([sf.base.Property(null)],t.prototype,"serverTimezoneOffset",void 0),l([sf.base.Event()],t.prototype,"created",void 0),l([sf.base.Event()],t.prototype,"destroyed",void 0),l([sf.base.Event()],t.prototype,"navigated",void 0),l([sf.base.Event()],t.prototype,"renderDayCell",void 0),t=l([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),m=function(e){function t(t,s){return e.call(this,t,s)||this}return r(t,e),t.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&sf.base.throwError("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"===a()(this.values)&&!sf.base.isNullOrUndefined(this.values)&&this.values.length>0){for(var t=[],s=[],i=0;i<this.values.length;i++)-1===t.indexOf(+this.values[i])&&(t.push(+this.values[i]),s.push(this.values[i]));this.setProperties({values:s},!0);for(var n=0;n<this.values.length;n++)if(!this.checkDateValue(this.values[n]))if("string"==typeof this.values[n]&&this.checkDateValue(new Date(this.checkValue(this.values[n])))){var r=new Date(this.checkValue(this.values[n]));this.values.splice(n,1),this.values.splice(n,0,r)}else this.values.splice(n,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),e.prototype.render.call(this),"calendar"===this.getModuleName()){var l=sf.base.closest(this.element,"form");l&&sf.base.EventHandler.add(l,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)},t.prototype.setTimeZone=function(e){if(!sf.base.isNullOrUndefined(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),e.prototype.validateDate.call(this,this.value),!sf.base.isNullOrUndefined(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!sf.base.isNullOrUndefined(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!sf.base.isNullOrUndefined(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||sf.base.isNullOrUndefined(this.value)?e.prototype.minMaxUpdate.call(this,this.value):!sf.base.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max?e.prototype.minMaxUpdate.call(this,this.min):!sf.base.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&e.prototype.minMaxUpdate.call(this,this.max)},t.prototype.generateTodayVal=function(e){var t=new Date;return e?(t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds()),t.setMilliseconds(e.getMilliseconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),t},t.prototype.todayButtonClick=function(){if(this.showTodayButton){var t=this.generateTodayVal(this.value);if(this.setProperties({value:t},!0),this.isMultiSelection){var s=this.copyValues(this.values);e.prototype.checkPresentDate.call(this,t,this.values)||(s.push(t),this.setProperties({values:s}))}e.prototype.todayButtonClick.call(this,new Date(+this.value))}},t.prototype.keyActionHandle=function(t){e.prototype.keyActionHandle.call(this,t,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var t=this;this.changeHandler=function(e){t.triggerChange(e)},this.checkView(),e.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,e.prototype.createContent.call(this)},t.prototype.minMaxDate=function(t){return e.prototype.minMaxDate.call(this,t)},t.prototype.renderMonths=function(t){e.prototype.renderMonths.call(this,t,this.value)},t.prototype.renderDays=function(t,s){var i=e.prototype.renderDays.call(this,t,s,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&e.prototype.validateValues.call(this,this.isMultiSelection,this.values),i},t.prototype.renderYears=function(t){"Gregorian"===this.calendarMode?e.prototype.renderYears.call(this,t,this.value):this.islamicModule.islamicRenderYears(t,this.value)},t.prototype.renderDecades=function(t){"Gregorian"===this.calendarMode?e.prototype.renderDecades.call(this,t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)},t.prototype.renderTemplate=function(t,s,i,a){"Gregorian"===this.calendarMode?e.prototype.renderTemplate.call(this,t,s,i,a,this.value):this.islamicModule.islamicRenderTemplate(t,s,i,a,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()},t.prototype.clickHandler=function(t){var s=t.currentTarget;if(this.isPopupClicked=!0,s.classList.contains(o))if(this.isMultiSelection){var i=this.copyValues(this.values);i.push(this.getIdValue(t,null)),this.setProperties({values:i},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(t,null)},!0);var a=this.currentView();e.prototype.clickHandler.call(this,t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!sf.base.isNullOrUndefined(this.tableBodyElement.querySelectorAll("."+c)[0])&&"Year"===a&&this.tableBodyElement.querySelectorAll("."+c)[0].classList.remove(c)},t.prototype.switchView=function(t,s){e.prototype.switchView.call(this,t,s,this.isMultiSelection)},t.prototype.getModuleName=function(){return e.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){e.prototype.getPersistData.call(this);return this.addOnPersist(["value","values"])},t.prototype.onPropertyChanged=function(t,s){this.effect="",this.rangeValidation(this.min,this.max);for(var i=0,a=Object.keys(t);i<a.length;i++){switch(a[i]){case"value":this.isDateSelected&&("string"==typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:s.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof t.values||"number"==typeof t.values)this.setProperties({values:null},!0);else{for(var n=this.copyValues(this.values),r=0;r<n.length;r++){var l=n[r];this.checkDateValue(l)&&!e.prototype.checkPresentDate.call(this,l,n)&&n.push(l)}this.setProperties({values:n},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;default:e.prototype.onPropertyChanged.call(this,t,s,this.isMultiSelection,this.values)}}},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),"calendar"===this.getModuleName()){var t=sf.base.closest(this.element,"form");t&&sf.base.EventHandler.remove(t,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(t,s){this.minMaxUpdate(),e.prototype.navigateTo.call(this,t,s)},t.prototype.currentView=function(){return e.prototype.currentView.call(this)},t.prototype.addDate=function(t){if("string"!=typeof t&&"number"!=typeof t){var s=this.copyValues(this.values);if("object"===a()(t)&&t.length>0)for(var i=t,n=0;n<i.length;n++)this.checkDateValue(i[n])&&!e.prototype.checkPresentDate.call(this,i[n],s)&&(!sf.base.isNullOrUndefined(s)&&s.length>0?s.push(i[n]):s=[new Date(+i[n])]);else this.checkDateValue(t)&&!e.prototype.checkPresentDate.call(this,t,s)&&(!sf.base.isNullOrUndefined(s)&&s.length>0?s.push(t):s=[new Date(+t)]);this.setProperties({values:s},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,s),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if("string"!=typeof e&&"number"!=typeof e&&!sf.base.isNullOrUndefined(this.values)&&this.values.length>0){var t=this.copyValues(this.values);if("object"===a()(e)&&e.length>0)for(var s=e,i=0;i<s.length;i++)for(var n=0;n<t.length;n++)+t[n]==+s[i]&&t.splice(n,1);else for(n=0;n<t.length;n++)+t[n]==+e&&t.splice(n,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),e.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(t,s,i){e.prototype.selectDate.call(this,t,s,i,this.isMultiSelection,this.values),this.isMultiSelection&&!sf.base.isNullOrUndefined(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){this.changedArgs.event=e||null,this.changedArgs.isInteracted=!sf.base.isNullOrUndefined(e),sf.base.isNullOrUndefined(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?sf.base.isNullOrUndefined(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},l([sf.base.Property(null)],t.prototype,"value",void 0),l([sf.base.Property(null)],t.prototype,"values",void 0),l([sf.base.Property(!1)],t.prototype,"isMultiSelection",void 0),l([sf.base.Event()],t.prototype,"change",void 0),t=l([sf.base.NotifyPropertyChanges],t)}(f),b=function(){function e(e){this.calendarInstance=e}return e.prototype.getModuleName=function(){return"islamic"},e.prototype.islamicTitleUpdate=function(e,t){var s=new sf.base.Internationalization(this.calendarInstance.locale);switch(t){case"days":this.calendarInstance.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",format:"MMMMyyyy",calendar:"islamic"});break;case"months":this.calendarInstance.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",format:"yyyy",calendar:"islamic"})}},e.prototype.islamicRenderDays=function(e,t,s,i){var a,n=[],r=new Date(this.islamicInValue(e));this.calendarInstance.weekNumber;this.islamicTitleUpdate(e,"days");var l=this.getIslamicDate(r),o=this.toGregorian(l.year,l.month,1),h=l.month;for(r=o;r.getDay()!==this.calendarInstance.firstDayOfWeek;)this.calendarInstance.setStartDate(r,-864e5);for(var u=0;u<42;++u){var d=this.calendarInstance.createElement("td",{className:"e-cell"}),p=this.calendarInstance.createElement("span");u%7==0&&this.calendarInstance.weekNumber&&(p.textContent=""+this.calendarInstance.getWeek(r),d.appendChild(p),sf.base.addClass([d],"e-week-number"),n.push(d)),a=new Date(+r),r=this.calendarInstance.minMaxDate(r);var c={type:"dateTime",skeleton:"full",calendar:"islamic"},f=this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(r,c),c),m=this.islamicDayCell(r),b=this.calendarInstance.globalize.formatDate(r,{type:"date",skeleton:"full",calendar:"islamic"}),v=this.calendarInstance.createElement("span");v.textContent=this.calendarInstance.globalize.formatDate(r,{type:"date",skeleton:"d",calendar:"islamic"});var y=this.calendarInstance.min>r||this.calendarInstance.max<r;y?(sf.base.addClass([m],"e-disabled"),sf.base.addClass([m],"e-overlay")):v.setAttribute("title",""+b),h!==this.getIslamicDate(r).month&&sf.base.addClass([m],"e-other-month"),0!==r.getDay()&&6!==r.getDay()||sf.base.addClass([m],"e-weekend"),m.appendChild(v),this.calendarInstance.renderDayCellArgs={date:r,isDisabled:!1,element:m,isOutOfRange:y};var g=this.calendarInstance.renderDayCellArgs;if(this.calendarInstance.renderDayCellEvent(g),g.isDisabled)if(this.calendarInstance.isMultiSelection){if(!sf.base.isNullOrUndefined(this.calendarInstance.values)&&this.calendarInstance.values.length>0)for(var D=0;D<i.length;D++){+new Date(this.calendarInstance.globalize.formatDate(g.date,{type:"date",skeleton:"yMd",calendar:"islamic"}))===+new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[D],{type:"date",skeleton:"yMd",calendar:"islamic"}))&&(this.calendarInstance.values.splice(D,1),D=-1)}}else t&&+t==+g.date&&this.calendarInstance.setProperties({value:null},!0);this.calendarInstance.renderDayCellArgs.isDisabled&&!m.classList.contains("e-selected")&&(sf.base.addClass([m],"e-disabled"),sf.base.addClass([m],"e-overlay"),+this.calendarInstance.renderDayCellArgs.date==+this.calendarInstance.todayDate&&(this.calendarInstance.todayDisabled=!0));var E=m.classList.contains("e-other-month"),C=m.classList.contains("e-disabled");if(C||sf.base.EventHandler.add(m,"click",this.calendarInstance.clickHandler,this.calendarInstance),!this.calendarInstance.isMultiSelection||sf.base.isNullOrUndefined(this.calendarInstance.values)||E||C)E||C||!this.calendarInstance.getDateVal(r,t)?this.calendarInstance.updateFocus(E,C,r,m,e):sf.base.addClass([m],"e-selected");else{for(var w=0;w<this.calendarInstance.values.length;w++){this.calendarInstance.globalize.formatDate(r,{type:"date",skeleton:"short",calendar:"islamic"})===this.calendarInstance.globalize.formatDate(this.calendarInstance.values[w],{type:"date",skeleton:"short",calendar:"islamic"})&&this.calendarInstance.getDateVal(r,this.calendarInstance.values[w])?sf.base.addClass([m],"e-selected"):this.calendarInstance.updateFocus(E,C,r,m,e)}this.calendarInstance.values.length<=0&&this.calendarInstance.updateFocus(E,C,r,m,e)}f.getDate()===(new Date).getDate()&&f.getMonth()===(new Date).getMonth()&&f.getFullYear()===(new Date).getFullYear()&&sf.base.addClass([m],"e-today"),r=new Date(+a),n.push(this.calendarInstance.renderDayCellArgs.element),this.calendarInstance.addDay(r,1,null,this.calendarInstance.max,this.calendarInstance.min)}return n},e.prototype.islamicIconHandler=function(){new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);var e=new Date(this.islamicInValue(this.calendarInstance.currentDate));switch(this.calendarInstance.currentView()){case"Month":var t=this.islamicCompareMonth(e,this.calendarInstance.min)<1,s=this.islamicCompareMonth(e,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(t),this.calendarInstance.nextIconHandler(s);break;case"Year":var i=this.hijriCompareYear(e,this.calendarInstance.min)<1,a=this.hijriCompareYear(e,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(i),this.calendarInstance.nextIconHandler(a);break;case"Decade":var n=this.hijriCompareDecade(e,this.calendarInstance.min)<1,r=this.hijriCompareDecade(e,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(n),this.calendarInstance.nextIconHandler(r)}},e.prototype.islamicNext=function(){this.calendarInstance.effect="";var e=this.calendarInstance.getViewNumber(this.calendarInstance.currentView()),t=this.getIslamicDate(this.calendarInstance.currentDate);switch(this.calendarInstance.currentView()){case"Year":this.calendarInstance.currentDate=this.toGregorian(t.year+1,t.month,1),this.calendarInstance.switchView(e);break;case"Month":this.calendarInstance.currentDate=this.toGregorian(t.year,t.month+1,1),this.calendarInstance.switchView(e);break;case"Decade":this.calendarInstance.currentDate=this.toGregorian(t.year+10,t.month,1),this.calendarInstance.switchView(e)}},e.prototype.islamicPrevious=function(){var e=this.calendarInstance.getViewNumber(this.calendarInstance.currentView());this.calendarInstance.effect="";var t=this.getIslamicDate(this.calendarInstance.currentDate);switch(this.calendarInstance.currentView()){case"Month":this.calendarInstance.currentDate=this.toGregorian(t.year,t.month-1,1),this.calendarInstance.switchView(e);break;case"Year":this.calendarInstance.currentDate=this.toGregorian(t.year-1,t.month,1),this.calendarInstance.switchView(e);break;case"Decade":this.calendarInstance.currentDate=this.toGregorian(t.year-10,t.month-1,1),this.calendarInstance.switchView(e)}},e.prototype.islamicRenderYears=function(e,t){this.calendarInstance.removeTableHeadElement();var s=[],i=sf.base.isNullOrUndefined(t),a=new Date(this.islamicInValue(this.calendarInstance.currentDate)),n=this.getIslamicDate(a);a=sf.base.HijriParser.toGregorian(n.year,1,1);var r=n.month,l=n.year,o=n.year,h=this.getIslamicDate(this.calendarInstance.min).year,u=this.getIslamicDate(this.calendarInstance.min).month,d=this.getIslamicDate(this.calendarInstance.max).year,p=this.getIslamicDate(this.calendarInstance.max).month;this.islamicTitleUpdate(this.calendarInstance.currentDate,"months");this.calendarInstance.min>a||this.calendarInstance.max;for(var c=1;c<=12;++c){var f=this.getIslamicDate(a);a=sf.base.HijriParser.toGregorian(f.year,c,1);var m=this.islamicDayCell(a),b=this.calendarInstance.createElement("span"),v=t&&this.getIslamicDate(t).month===this.getIslamicDate(a).month,y=t&&this.getIslamicDate(t).year===l&&v;b.textContent=this.calendarInstance.globalize.formatDate(a,{type:"dateTime",format:"MMM",calendar:"islamic"}),this.calendarInstance.min&&(o<h||c<u&&o===h)||this.calendarInstance.max&&(o>d||c>p&&o>=d)?sf.base.addClass([m],"e-disabled"):!i&&y?sf.base.addClass([m],"e-selected"):this.getIslamicDate(a).month===r&&this.getIslamicDate(this.calendarInstance.currentDate).month===r&&sf.base.addClass([m],"e-focused-date"),m.classList.contains("e-disabled")||sf.base.EventHandler.add(m,"click",this.calendarInstance.clickHandler,this.calendarInstance),m.appendChild(b),s.push(m)}this.islamicRenderTemplate(s,4,"e-year",e,t)},e.prototype.islamicRenderDecade=function(e,t){this.calendarInstance.removeTableHeadElement();var s=[],i=new Date(this.islamicInValue(this.calendarInstance.currentDate)),a=this.getIslamicDate(i),n=(i=sf.base.HijriParser.toGregorian(a.year,1,1)).getFullYear(),r=new Date(this.islamicInValue(n-n%10)),l=new Date(this.islamicInValue(n-n%10+9)),o=r.getFullYear(),h=l.getFullYear(),u=this.calendarInstance.globalize.formatDate(r,{type:"dateTime",format:"y",calendar:"islamic"}),d=this.calendarInstance.globalize.formatDate(l,{type:"dateTime",format:"y",calendar:"islamic"});this.calendarInstance.headerTitleElement.textContent=u+" - "+d;for(var p=new Date(n-n%10-2,0,1).getFullYear(),c=1;c<=12;++c){var f=p+c;i.setFullYear(f),i.setDate(1),i.setMonth(0);var m=this.getIslamicDate(i);i=sf.base.HijriParser.toGregorian(m.year,1,1);var b=this.islamicDayCell(i);sf.base.attributes(b,{role:"gridcell"});var v=this.calendarInstance.createElement("span");v.textContent=this.calendarInstance.globalize.formatDate(i,{type:"dateTime",format:"y",calendar:"islamic"}),f<o||f>h?sf.base.addClass([b],"e-other-month"):f<new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()||f>new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()?sf.base.addClass([b],"e-disabled"):sf.base.isNullOrUndefined(t)||this.getIslamicDate(i).year!==this.getIslamicDate(t).year?i.getFullYear()!==this.calendarInstance.currentDate.getFullYear()||b.classList.contains("e-disabled")||sf.base.addClass([b],"e-focused-date"):sf.base.addClass([b],"e-selected"),b.classList.contains("e-disabled")||sf.base.EventHandler.add(b,"click",this.calendarInstance.clickHandler,this.calendarInstance),b.appendChild(v),s.push(b)}this.islamicRenderTemplate(s,4,"e-decade",e,t)},e.prototype.islamicDayCell=function(e){var t={skeleton:"full",type:"dateTime",calendar:"islamic"},s=this.calendarInstance.globalize.formatDate(e,t),i=this.calendarInstance.globalize.parseDate(s,t).valueOf(),a={className:"e-cell",attrs:{id:""+sf.base.getUniqueID(""+i),"aria-selected":"false",role:"gridcell"}};return this.calendarInstance.createElement("td",a)},e.prototype.islamicRenderTemplate=function(e,t,s,i,a){var n,r=this.calendarInstance.getViewNumber(this.calendarInstance.currentView());this.calendarInstance.tableBodyElement=this.calendarInstance.createElement("tbody"),this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement),sf.base.removeClass([this.calendarInstance.contentElement,this.calendarInstance.headerElement],["e-month","e-decade","e-year"]),sf.base.addClass([this.calendarInstance.contentElement,this.calendarInstance.headerElement],[s]);for(var l=t,o=0,h=0;h<e.length/t;++h){for(n=this.calendarInstance.createElement("tr",{attrs:{role:"row"}}),o=0+o;o<l;o++)e[o].classList.contains("e-week-number")||sf.base.isNullOrUndefined(e[o].children[0])||(sf.base.addClass([e[o].children[0]],["e-day"]),sf.base.rippleEffect(e[o].children[0],{duration:600,isCenterRipple:!0})),n.appendChild(e[o]),this.calendarInstance.weekNumber&&7===o&&e[7].classList.contains("e-other-month")&&sf.base.addClass([n],"e-month-hide"),!this.calendarInstance.weekNumber&&6===o&&e[6].classList.contains("e-other-month")&&sf.base.addClass([n],"e-month-hide"),this.calendarInstance.weekNumber?41===o&&e[41].classList.contains("e-other-month")&&sf.base.addClass([n],"e-month-hide"):35===o&&e[35].classList.contains("e-other-month")&&sf.base.addClass([n],"e-month-hide");l+=t,o+=0,this.calendarInstance.tableBodyElement.appendChild(n)}this.calendarInstance.table.querySelector("tbody").className=this.calendarInstance.effect,this.islamicIconHandler(),(r!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView())||0===r&&r!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))&&this.calendarInstance.navigateHandler(i),this.calendarInstance.setAriaActiveDescendant(),this.calendarInstance.changedArgs={value:this.calendarInstance.value,values:this.calendarInstance.values},this.calendarInstance.changeHandler()},e.prototype.islamicCompareMonth=function(e,t){var s=this.getIslamicDate(e),i=this.getIslamicDate(t);return s.year>i.year?1:s.year<i.year?-1:s.month===i.month?0:s.month>i.month?1:-1},e.prototype.islamicCompare=function(e,t,s){var i,a,n=this.getIslamicDate(e),r=this.getIslamicDate(t).year;return i=r,a=0,s&&(i=(r-=r%s)-r%s+s-1),n.year>i?a=1:("Decade"===this.calendarInstance.currentView()&&n.year<r&&!(e.getFullYear()>=2060&&e.getFullYear()<=2069)||n.year<r&&"Year"===this.calendarInstance.currentView())&&(a=-1),a},e.prototype.getIslamicDate=function(e){return sf.base.HijriParser.getHijriDate(e)},e.prototype.toGregorian=function(e,t,s){return sf.base.HijriParser.toGregorian(e,t,s)},e.prototype.hijriCompareYear=function(e,t){return this.islamicCompare(e,t,0)},e.prototype.hijriCompareDecade=function(e,t){return this.islamicCompare(e,t,10)},e.prototype.destroy=function(){this.calendarInstance=null},e.prototype.islamicInValue=function(e){return e instanceof Date?e.toUTCString():""+e},e}(),v=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=function(e,t,s,i){var n,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":a()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},g="e-datepicker",D=["title","class","style"],E=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.previousElementValue="",i.isDateIconClicked=!1,i.isAltKeyPressed=!1,i.isInteracted=!0,i.isBlazorServer=!1,i.invalidValueString=null,i.checkPreviousValue=null,i.datepickerOptions=t,i}return v(t,e),t.prototype.render=function(){this.initialize(),this.bindEvents(),this.renderComplete(),this.isBlazorServer||this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!sf.base.isNullOrUndefined(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3),this.updateInput()}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):sf.base.attributes(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):sf.base.addClass([this.inputWrapper.container],["e-non-edit"])},t.prototype.initialize=function(){if(this.isBlazorServer){var e=this.element.parentElement;this.inputWrapper={container:e,clearButton:e.querySelector(".e-clear-icon"),buttons:[e.querySelector(".e-date-icon")]},sf.inputs.Input.bindInitialEvent({element:this.inputElement,floatLabelType:this.floatLabelType}),this.showClearButton&&this.inputWrapper.clearButton&&sf.inputs.Input.wireClearBtnEvents(this.inputElement,this.inputWrapper.clearButton,this.inputWrapper.container),this.setAllowEdit()}else this.checkInvalidValue(this.value),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput();this.previousElementValue=this.inputElement.value,this.previousDate=sf.base.isNullOrUndefined(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){var e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){var t={placeholder:this.placeholder};this.globalize=new sf.base.Internationalization(this.locale),this.l10n=new sf.base.L10n("datepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}var s=this.cssClass;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass||(s=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=sf.inputs.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:s,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),sf.base.attributes(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),sf.inputs.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),sf.base.addClass([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(){var t;if(this.value&&!this.isCalendar()&&(this.isBlazorServer||this.disabledDates()),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(e.prototype.validateDate.call(this),this.minMaxUpdates(),e.prototype.minMaxUpdate.call(this)),!sf.base.isNullOrUndefined(this.value)){var s=this.value,i=void 0,a=sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?i="Gregorian"===this.calendarMode?this.globalize.formatDate(this.value,{format:a,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}):this.globalize.formatDate(this.value,{format:a,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.formatDate(this.value,t)),+s<=+this.max&&+s>=+this.min)this.updateInputValue(i);else{var n=+s>=+this.max||!+this.value||!+this.value||+s<=+this.min;!this.strictMode&&n&&this.updateInputValue(i)}}sf.base.isNullOrUndefined(this.value)&&this.strictMode&&this.updateInputValue(""),!this.strictMode&&sf.base.isNullOrUndefined(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!sf.base.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!sf.base.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var t=null,s=null,i=null;if("datetimepicker"===this.getModuleName()){var a=new sf.base.Internationalization(this.locale);"Gregorian"===this.calendarMode?(s={format:this.dateTimeFormat,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"},i={format:a.getDatePattern({skeleton:sf.base.isBlazor()?"d":"yMd"}),type:"dateTime"}):(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,s)),sf.base.isNullOrUndefined(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,i))),t},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date||sf.base.isNullOrUndefined(e))){var t=null,s=e;"number"==typeof e&&(s=e.toString());if("datetimepicker"===this.getModuleName()){var i=new sf.base.Internationalization(this.locale);"Gregorian"===this.calendarMode?({format:this.dateTimeFormat,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"},{format:i.getDatePattern({skeleton:sf.base.isBlazor()?"d":"yMd"}),type:"dateTime"}):({format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},{format:i.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};var a=!1;if("string"!=typeof s)s=null,a=!0;else if("string"==typeof s&&(s=s.trim()),!(t=this.checkStringValue(s))){var n=null;n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(s)&&!n.test(s)||/^[a-zA-Z0-9- ]*$/.test(s)||isNaN(+new Date(this.checkValue(s)))?a=!0:t=new Date(s)}a?(this.strictMode||(this.invalidValueString=s),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}},t.prototype.bindInputEvent=function(){sf.base.isNullOrUndefined(this.formatString)||(-1===this.formatString.indexOf("y")?sf.base.EventHandler.add(this.inputElement,"input",this.inputHandler,this):sf.base.EventHandler.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){this.enabled?(sf.base.EventHandler.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler,this),sf.base.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),sf.base.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),this.bindInputEvent(),sf.base.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&sf.base.EventHandler.add(this.formElement,"reset",this.resetFormHandler,this)):(sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.base.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&sf.base.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.resetFormHandler)),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new sf.base.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.resetFormHandler=function(){if(!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.isBlazorServer||(this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass()))}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=sf.base.isNullOrUndefined(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"})},t.prototype.inputChangeHandler=function(e){e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),this.clear(e)},t.prototype.clear=function(e){this.isBlazorServer||this.setProperties({value:null},!0),this.updateInputValue("");var t={event:e};this.trigger("cleared",t),this.invalidValueString="",this.isBlazorServer||(this.updateInput(),this.popupUpdate(),this.changeEvent(e)),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnValueCleared")},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){sf.inputs.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){sf.base.Browser.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),this.isBlazorServer||e.preventDefault(),this.readonly||(this.isCalendar()&&!this.isBlazorServer?this.hide(e):(!this.isBlazorServer||this.isBlazorServer&&this.inputWrapper.container.nextElementSibling)&&(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),sf.base.addClass([this.inputWrapper.container],["e-input-focus"]),sf.base.addClass(this.inputWrapper.buttons,"e-active")))},t.prototype.updateHtmlAttributeToWrapper=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];if(!sf.base.isNullOrUndefined(this.htmlAttributes[s])&&D.indexOf(s)>-1)if("class"===s){var i=this.htmlAttributes[s].replace(/\s+/g," ").trim();""!==i&&sf.base.addClass([this.inputWrapper.container],i.split(" "))}else if("style"===s){var a=this.inputWrapper.container.getAttribute(s);sf.base.isNullOrUndefined(a)?a=this.htmlAttributes[s]:";"===a.charAt(a.length-1)?a+=this.htmlAttributes[s]:a=a+";"+this.htmlAttributes[s],this.inputWrapper.container.setAttribute(s,a)}else this.inputWrapper.container.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateHtmlAttributeToElement=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];D.indexOf(s)<0&&this.inputElement.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateCssClass=function(e,t){sf.base.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&sf.inputs.Input.setCssClass(e,[this.popupWrapper],t)},t.prototype.CalendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},t.prototype.inputFocusHandler=function(){var e={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState()},t.prototype.inputHandler=function(e){this.isPopupClicked=!1},t.prototype.inputBlurHandler=function(e){if(this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),""===this.inputElement.value&&sf.base.isNullOrUndefined(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()){var t={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.trigger("blur",t)}this.isCalendar()&&(this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new sf.base.KeyboardEvents(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1},t.prototype.documentHandler=function(t){!sf.base.isNullOrUndefined(this.popupObj)&&(this.inputWrapper.container.contains(t.target)||this.popupObj.element&&this.popupObj.element.contains(t.target))&&"touchstart"!==t.type&&t.preventDefault();var s=t.target;sf.base.closest(s,".e-datepicker.e-popup-wrapper")||sf.base.closest(s,".e-input-group")===this.inputWrapper.container||s.classList.contains("e-day")?sf.base.closest(s,".e-datepicker.e-popup-wrapper")&&(s.classList.contains("e-day")&&!sf.base.isNullOrUndefined(t.target.parentElement)&&t.target.parentElement.classList.contains("e-selected")&&sf.base.closest(s,".e-content")&&sf.base.closest(s,".e-content").classList.contains("e-"+this.depth.toLowerCase())||sf.base.closest(s,".e-footer-container")&&s.classList.contains("e-today")&&s.classList.contains("e-btn")&&+new Date(+this.value)==+e.prototype.generateTodayVal.call(this,this.value)&&!this.isBlazorServer)&&this.hide(t):(this.hide(t),this.focusOut())},t.prototype.inputKeyActionHandle=function(e){var t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e)),"datepicker"===this.getModuleName()&&(this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnPopupHide",!0):this.show(null,e));break;case"escape":this.hide(e);break;case"enter":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(t){this.previousDate=!sf.base.isNullOrUndefined(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(e.prototype.keyActionHandle.call(this,t),this.isBlazorServer||sf.base.attributes(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if((sf.base.isNullOrUndefined(this.value)&&!sf.base.isNullOrUndefined(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll(".e-selected").length>0&&sf.base.removeClass(this.popupObj.element.querySelectorAll(".e-selected"),["e-selected"]),!sf.base.isNullOrUndefined(this.value)&&!this.isBlazorServer&&+this.value>=+this.min&&+this.value<=+this.max)){var t=new Date(this.checkValue(this.value));e.prototype.navigateTo.call(this,"Month",t)}},t.prototype.strictModeUpdate=function(){var e,t,s,i;(e="datetimepicker"===this.getModuleName()?sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString:sf.base.isNullOrUndefined(this.formatString)?this.formatString:this.formatString.replace("dd","d"),sf.base.isNullOrUndefined(e))||e.split("M").length-1<3&&(e=e.replace("MM","M"));s="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,s))?i=this.globalize.parseDate(this.inputElement.value,s):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.parseDate(this.inputElement.value,t)):(i=this.globalize.parseDate(this.inputElement.value,s),!sf.base.isNullOrUndefined(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&i.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&i&&i.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&i?(this.updateInputValue(this.globalize.formatDate(i,s)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0),this.strictMode&&!i&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),sf.base.isNullOrUndefined(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.isBlazorServer?(this.popupWrapper=this.inputWrapper.container.nextElementSibling,this.calendarElement=this.popupWrapper.firstElementChild,this.tableBodyElement=sf.base.select("tbody",this.calendarElement),this.contentElement=sf.base.select(".e-content",this.calendarElement)):(this.popupWrapper=this.createElement("div",{className:g+" e-popup-wrapper"}),sf.base.isNullOrUndefined(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass)),sf.base.Browser.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=g+" e-date-modal",document.body.className+=" e-date-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new sf.popups.Popup(this.popupWrapper,{content:this.isBlazorServer?null:this.calendarElement,relateTo:sf.base.Browser.isDevice?document.body:this.inputWrapper.container,position:sf.base.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:sf.base.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=sf.base.extend(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new sf.base.KeyboardEvents(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new sf.base.KeyboardEvents(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&!e.isBlazorServer&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),sf.base.detach(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.setAriaAttributes()},targetExitViewport:function(){sf.base.Browser.isDevice||e.hide()}}),this.isBlazorServer||(this.popupObj.element.className+=" "+this.cssClass),this.setAriaAttributes()},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,t=this.createElement("div",{className:"e-model-header"}),s=this.createElement("h1",{className:"e-model-year"}),i=this.createElement("div"),a=this.createElement("span",{className:"e-model-day"}),n=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},s.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},a.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(s),i.appendChild(a),i.appendChild(n),t.appendChild(i),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!sf.base.isNullOrUndefined(e),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.changeEvent=function(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.selectCalendar=function(e){var t,s,i;s="datetimepicker"===this.getModuleName()&&sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(i="Gregorian"===this.calendarMode?{format:s,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:s,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i)):(i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i))),sf.base.isNullOrUndefined(t)||this.updateInputValue(t)},t.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))},t.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?sf.base.formatUnit(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:sf.base.formatUnit(this.width):"100%"},t.prototype.show=function(t,s){var i=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var a=!0,n=void 0;sf.base.isNullOrUndefined(this.value)||+this.value>=+this.min&&+this.value<=+this.max?n=this.value||null:(n=new Date(this.checkValue(this.value)),this.isBlazorServer||this.setProperties({value:null},!0)),this.isCalendar()||(this.isBlazorServer||(e.prototype.render.call(this),this.setProperties({value:n||null},!0)),this.previousDate=n,this.createCalendar()),sf.base.Browser.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){a=!1},popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj,event:s||null,cancel:!1,appendTo:sf.base.Browser.isDevice?this.mobilePopupWrapper:document.body};var r=this.preventArgs;this.trigger("open",r,(function(t){if(i.preventArgs=t,a&&!i.preventArgs.cancel){i.isBlazorServer&&(i.popupWrapper.style.visibility="",i.popupWrapper.style.width="auto",i.popupWrapper.style.height="auto"),sf.base.addClass(i.inputWrapper.buttons,"e-active"),i.preventArgs.appendTo.appendChild(i.popupWrapper),i.popupObj.refreshPosition(i.inputElement);var s={name:"FadeIn",duration:sf.base.Browser.isDevice?0:300};1e3===i.zIndex?i.popupObj.show(new sf.base.Animation(s),i.element):i.popupObj.show(new sf.base.Animation(s),null),i.isBlazorServer||e.prototype.setOverlayIndex.call(i,i.mobilePopupWrapper,i.popupObj.element,i.modal,sf.base.Browser.isDevice),i.setAriaAttributes()}else i.popupObj.destroy(),i.isBlazorServer&&i.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),i.popupWrapper=i.popupObj=null;sf.base.isNullOrUndefined(i.inputElement)||""!==i.inputElement.value||!sf.base.isNullOrUndefined(i.tableBodyElement)&&i.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(sf.base.addClass([i.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),sf.base.removeClass(i.tableBodyElement.querySelectorAll("td.e-selected"),"e-selected")),sf.base.EventHandler.add(document,"mousedown touchstart",i.documentHandler,i)}))}},t.prototype.hide=function(e){var t=this;if(sf.base.isNullOrUndefined(this.popupWrapper))sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var s=!0;this.preventArgs={preventDefault:function(){s=!1},popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj,event:e||null,cancel:!1},sf.base.removeClass(this.inputWrapper.buttons,"e-active"),sf.base.removeClass([document.body],"e-date-overflow");var i=this.preventArgs;this.isCalendar()?this.trigger("close",i,(function(e){t.closeEventCallback(s,e)})):this.closeEventCallback(s,i)}},t.prototype.closeEventCallback=function(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.isBlazorServer?(this.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),this.isAltKeyPressed=!1,this.popupWrapper=this.popupObj=null):(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy()),sf.base.removeClass(this.inputWrapper.buttons,"e-active")),this.setAriaAttributes(),sf.base.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),sf.base.Browser.isDevice&&(sf.base.isNullOrUndefined(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentHandler),sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),sf.base.addClass([this.inputWrapper.container],["e-input-focus"]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(sf.base.removeClass([this.inputWrapper.container],["e-input-focus"]),this.inputElement.blur())},t.prototype.currentView=function(){var t;return this.calendarElement&&(t=e.prototype.currentView.call(this)),t},t.prototype.navigateTo=function(t,s){this.calendarElement&&e.prototype.navigateTo.call(this,t,s)},t.prototype.destroy=function(){this.isBlazorServer||(e.prototype.destroy.call(this),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&e.prototype.destroy.call(this));var t={"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.inputElement&&(sf.inputs.Input.removeAttributes(t,this.inputElement),sf.base.isNullOrUndefined(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&sf.base.detach(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.isBlazorServer||this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),sf.base.removeClass([this.inputElement],["e-input"])),sf.base.removeClass([this.element],[g]),sf.base.detach(this.inputWrapper.container)),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)sf.base.isNullOrUndefined(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),sf.base.removeClass([this.inputElementCopy],[g,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=sf.base.closest(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.isBlazorServer=!(!sf.base.isBlazor()||!this.isServerRendered||"datepicker"!==this.getModuleName()),this.isBlazorServer||(this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=sf.base.getUniqueID("ej2-datetimepicker"),null!==this.ngTag&&sf.base.attributes(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=sf.base.getUniqueID("ej2-datepicker"),null!==this.ngTag&&sf.base.attributes(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement()),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.isBlazorServer||(this.element.removeAttribute("tabindex"),e.prototype.preRender.call(this))},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,t){var s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",s),e.removeAttribute("name");for(var i=["required","aria-required","form"],a=0;a<i.length;a++)if(!sf.base.isNullOrUndefined(e.getAttribute(i[a]))){var n=e.getAttribute(i[a]);t.setAttribute(i[a],n),e.removeAttribute(i[a])}},t.prototype.checkFormat=function(){var e=new sf.base.Internationalization(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||sf.base.isNullOrUndefined(this.format.skeleton))"datetimepicker"===this.getModuleName()?this.formatString=this.dateTimeFormat:this.formatString=null;else{var t=this.format.skeleton;"datetimepicker"===this.getModuleName()?this.formatString=e.getDatePattern({skeleton:t,type:"dateTime"}):this.formatString=e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new sf.base.Internationalization(this.locale),this.checkFormat(),this.checkView();var t,s=e?sf.base.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var i=0,a=s;i<a.length;i++){var n=a[i];if(!sf.base.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"disabled":if((sf.base.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e)&&!this.isBlazorServer){var r="disabled"!==this.inputElement.getAttribute(n)&&""!==this.inputElement.getAttribute(n)&&"true"!==this.inputElement.getAttribute(n);this.setProperties({enabled:r},!e)}break;case"readonly":if((sf.base.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e)&&!this.isBlazorServer){var l="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({readonly:l},!e)}break;case"placeholder":if((sf.base.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&!this.isBlazorServer){this.inputElement.getAttribute(n);this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e)}break;case"style":this.isBlazorServer||this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"name":this.isBlazorServer||this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"value":if((sf.base.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.value||e)&&!this.isBlazorServer){var o=this.inputElement.getAttribute(n);this.setProperties(sf.base.setValue(n,this.globalize.parseDate(o,t),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var h=this.inputElement.getAttribute(n);this.setProperties(sf.base.setValue(n,this.globalize.parseDate(h),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var u=this.inputElement.getAttribute(n);this.setProperties(sf.base.setValue(n,this.globalize.parseDate(u),{}),!e)}break;case"type":"text"===this.inputElement.getAttribute(n)||this.isBlazorServer||this.inputElement.setAttribute("type","text")}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(){var t,s;t=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value));var i=this.previousDate;this.minMaxUpdates(),this.isBlazorServer||e.prototype.render.call(this),this.previousDate=i;var n,r='*[id^="/id"]'.replace("/id",""+(t&&+t));this.strictMode||("string"==typeof this.value||"object"===a()(this.value)&&+this.value!=+t)&&this.setProperties({value:t},!0),sf.base.isNullOrUndefined(this.calendarElement.querySelectorAll(r)[0])||this.calendarElement.querySelectorAll(r)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?n="Gregorian"===this.calendarMode?this.globalize.formatDate(t,{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}):this.globalize.formatDate(t,{format:sf.base.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=this.globalize.formatDate(t,s)),this.popupObj||this.updateInputValue(n)},t.prototype.setAriaAttributes=function(){if(this.isBlazorServer)if(this.isCalendar()){var e=this.tableBodyElement.querySelector("tr td.e-focused-date"),t=this.tableBodyElement.querySelector("tr td.e-selected"),s=e||t?(e||t).getAttribute("id"):"null";sf.base.attributes(this.inputElement,{"aria-activedescendant":""+s})}else sf.base.attributes(this.inputElement,{"aria-activedescendant":"null"});else this.isCalendar()?(sf.inputs.Input.addAttributes({"aria-expanded":"true"},this.inputElement),sf.base.attributes(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(sf.inputs.Input.addAttributes({"aria-expanded":"false"},this.inputElement),sf.base.attributes(this.inputElement,{"aria-activedescendant":"null"}))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!sf.base.isNullOrUndefined(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&sf.base.isNullOrUndefined(this.value)||t?(sf.base.addClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"true"})):(sf.base.removeClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"false"}))},t.prototype.onPropertyChanged=function(t,s){"Gregorian"===this.calendarMode?(this.formatString,sf.base.isBlazor()):this.formatString;for(var i=0,a=Object.keys(t);i<a.length;i++){switch(a[i]){case"value":this.isInteracted=!1,this.invalidValueString=null,this.isBlazorServer||this.checkInvalidValue(t.value),t.value=this.value,this.previousElementValue=this.inputElement.value,this.isBlazorServer||(sf.base.isNullOrUndefined(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),+this.previousDate!=+this.value&&this.changeTrigger(null)),this.isInteracted=!0;break;case"format":this.checkFormat(),this.bindInputEvent(),this.isBlazorServer||this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":sf.inputs.Input.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":sf.inputs.Input.setReadonly(this.readonly,this.inputElement);break;case"enabled":sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled(),this.bindEvents();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),sf.inputs.Input.setPlaceholder(this.placeholder,this.inputElement),this.isBlazorServer||this.updateInput();break;case"enableRtl":sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&!this.isBlazorServer&&e.prototype.onPropertyChanged.call(this,t,s);break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0);break;case"cssClass":this.updateCssClass(t.cssClass,s.cssClass);break;case"showClearButton":sf.inputs.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"strictMode":this.invalidValueString=null,this.isBlazorServer||this.updateInput();break;case"width":this.setWidth(t.width);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&!this.isBlazorServer&&e.prototype.onPropertyChanged.call(this,t,s)}this.hide(null)}},y([sf.base.Property(null)],t.prototype,"width",void 0),y([sf.base.Property(null)],t.prototype,"value",void 0),y([sf.base.Property(null)],t.prototype,"cssClass",void 0),y([sf.base.Property(!1)],t.prototype,"strictMode",void 0),y([sf.base.Property(null)],t.prototype,"format",void 0),y([sf.base.Property(!0)],t.prototype,"enabled",void 0),y([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),y([sf.base.Property(null)],t.prototype,"values",void 0),y([sf.base.Property(!1)],t.prototype,"isMultiSelection",void 0),y([sf.base.Property(!0)],t.prototype,"showClearButton",void 0),y([sf.base.Property(!0)],t.prototype,"allowEdit",void 0),y([sf.base.Property(null)],t.prototype,"keyConfigs",void 0),y([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),y([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),y([sf.base.Property(!1)],t.prototype,"readonly",void 0),y([sf.base.Property(null)],t.prototype,"placeholder",void 0),y([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),y([sf.base.Property(null)],t.prototype,"serverTimezoneOffset",void 0),y([sf.base.Event()],t.prototype,"open",void 0),y([sf.base.Event()],t.prototype,"cleared",void 0),y([sf.base.Event()],t.prototype,"close",void 0),y([sf.base.Event()],t.prototype,"blur",void 0),y([sf.base.Event()],t.prototype,"focus",void 0),y([sf.base.Event()],t.prototype,"created",void 0),y([sf.base.Event()],t.prototype,"destroyed",void 0),t=y([sf.base.NotifyPropertyChanges],t)}(m),C=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),w=function(e,t,s,i){var n,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":a()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},V="e-left-calendar",O="e-right-calendar",k="e-daterangepicker",N="e-active",M="e-start-date",I="e-end-date",A="e-range-hover",S="e-disabled",x="e-calendar",T="e-header",U="e-focused-date",P="e-day-span",B="e-date-disabled",H="e-icon-disabled",W="e-overlay",z="e-list-item",L="e-hover",F=["title","class","style"],j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),w([sf.base.Property()],t.prototype,"label",void 0),w([sf.base.Property()],t.prototype,"start",void 0),w([sf.base.Property()],t.prototype,"end",void 0),t}(sf.base.ChildProperty),R=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.isCustomRange=!1,i.isCustomWindow=!1,i.presetsItem=[],i.liCollections=[],i.previousEleValue="",i.isKeyPopup=!1,i.dateDisabled=!1,i.isRangeIconClicked=!1,i.isMaxDaysClicked=!1,i.disabledDays=[],i.preventBlur=!1,i.preventFocus=!1,i.invalidValueString=null,i.dateRangeOptions=t,i}return C(t,e),t.prototype.render=function(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.renderComplete()},t.prototype.preRender=function(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),sf.base.removeClass([this.cloneElement],[k,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=sf.base.getUniqueID("ej2-datetimepicker"),null!==this.angularTag&&sf.base.attributes(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){var t=this.value.split(" "+this.separator+" ");this.value=[new Date(t[0]),new Date(t[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),e.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=sf.base.closest(this.element,"form")},t.prototype.updateValue=function(){this.formatString,sf.base.isBlazor();this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):sf.base.isNullOrUndefined(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())},t.prototype.initProperty=function(){this.globalize=new sf.base.Internationalization(this.locale),this.checkFormat(),this.checkView(),(sf.base.isNullOrUndefined(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()},t.prototype.checkFormat=function(){if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||sf.base.isNullOrUndefined(this.format.skeleton))this.formatString=null;else{var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({skeleton:e,type:"date"})}else this.formatString=null},t.prototype.initialize=function(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),sf.base.merge(this.defaultKeyConfigs,{shiftTab:"shift+tab"});var e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new sf.base.L10n("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()},t.prototype.setDataAttribute=function(e){var t={};if(e)t=this.htmlAttributes;else for(var s=0;s<this.element.attributes.length;s++)t[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name);for(var i=0,a=Object.keys(t);i<a.length;i++){var n=a[i];0===n.indexOf("data")&&(this.firstHiddenChild.setAttribute(n,t[n]),this.secondHiddenChild.setAttribute(n,t[n]))}},t.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):sf.base.attributes(this.inputElement,{readonly:""}),this.updateClearIconState()},t.prototype.updateClearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):sf.base.addClass([this.inputWrapper.container],["e-non-edit"])},t.prototype.validationAttribute=function(e,t){var s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",s),e.removeAttribute("name");for(var i=["required","aria-required","form"],a=0;a<i.length;a++)if(!sf.base.isNullOrUndefined(e.getAttribute(i[a]))){var n=e.getAttribute(i[a]);t.setAttribute(i[a],n),e.removeAttribute(i[a])}},t.prototype.updateHtmlAttributeToWrapper=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];if(F.indexOf(s)>-1)if("class"===s){var i=this.htmlAttributes[s].replace(/\s+/g," ").trim();""!==i&&sf.base.addClass([this.inputWrapper.container],i.split(" "))}else if("style"===s){var a=this.inputWrapper.container.getAttribute(s);a=sf.base.isNullOrUndefined(a)?this.htmlAttributes[s]:a+this.htmlAttributes[s],this.inputWrapper.container.setAttribute(s,a)}else this.inputWrapper.container.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateHtmlAttributeToElement=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];F.indexOf(s)<0&&this.inputElement.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateCssClass=function(e,t){sf.base.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&sf.inputs.Input.setCssClass(e,[this.popupWrapper],t)},t.prototype.processPresets=function(){this.presetsItem=[];var e=0;if(!sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var t=0,s=this.presets;t<s.length;t++){var i=s[t],a=i.label.replace(/\s+/g,"")+"_"+ ++e;"string"==typeof i.end?this.presetsItem.push({id:a,text:i.label,end:new Date(this.checkValue(i.end)),start:new Date(this.checkValue(i.start))}):this.presetsItem.push({id:a,text:i.label,start:i.start,end:i.end})}var n=sf.base.isNullOrUndefined(this.startValue)?null:new Date(+this.startValue),r=sf.base.isNullOrUndefined(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:n,end:r}),sf.base.isNullOrUndefined(this.startValue)||sf.base.isNullOrUndefined(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},t.prototype.bindEvents=function(){this.enabled?(sf.base.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),sf.base.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),sf.base.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),sf.base.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=sf.base.extend(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new sf.base.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&sf.base.EventHandler.add(this.formElement,"reset",this.formResetHandler,this),this.inputElement.setAttribute("tabindex",this.tabIndex)):(sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),sf.base.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||sf.base.isNullOrUndefined(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1)},t.prototype.updateHiddenInput=function(){if(this.firstHiddenChild&&this.secondHiddenChild){var e={type:"datetime",skeleton:sf.base.isBlazor()?"d":"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}},t.prototype.inputChangeHandler=function(e){e.stopPropagation(),this.updateHiddenInput()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.resetHandler=function(e){this.valueType=this.value,e.preventDefault(),this.clear();var t={event:e};this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e)},t.prototype.restoreValue=function(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()},t.prototype.formResetHandler=function(e){if(this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){var t=this.inputElement.getAttribute("value");sf.base.isNullOrUndefined(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(sf.base.isNullOrUndefined(this.value)||sf.base.isNullOrUndefined(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),t="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(sf.inputs.Input.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},t.prototype.clear=function(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),sf.base.isNullOrUndefined(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()},t.prototype.rangeIconHandler=function(e){this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||sf.base.isNullOrUndefined(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),sf.base.addClass([this.inputWrapper.container],["e-input-focus"]))},t.prototype.checkHtmlAttributes=function(e){this.globalize=new sf.base.Internationalization(this.locale);for(var t=e?sf.base.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],s={format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"},i=0,a=t;i<a.length;i++){var n=a[i];if(!sf.base.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"disabled":if(sf.base.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){var r="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({enabled:!r},!e)}break;case"readonly":if(sf.base.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){var l="readonly"===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({readonly:l},!e)}break;case"placeholder":(sf.base.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"value":if(sf.base.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){var o=this.inputElement.getAttribute(n);this.setProperties(sf.base.setValue(n,o,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"min":if(sf.base.isNullOrUndefined(this.min)||+this.min==+new Date(1900,0,1)||e){var h=this.globalize.parseDate(this.inputElement.getAttribute(n),s);this.setProperties(sf.base.setValue(n,h,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"max":if(sf.base.isNullOrUndefined(this.max)||+this.max==+new Date(2099,11,31)||e){h=this.globalize.parseDate(this.inputElement.getAttribute(n),s);this.setProperties(sf.base.setValue(n,h,{}),!e)}break;case"startDate":if(sf.base.isNullOrUndefined(this.startDate)){h=this.globalize.parseDate(this.inputElement.getAttribute(n),s);this.startValue=h,this.setValue()}break;case"endDate":if(sf.base.isNullOrUndefined(this.endDate)){h=this.globalize.parseDate(this.inputElement.getAttribute(n),s);this.endValue=h,this.setValue()}break;case"minDays":sf.base.isNullOrUndefined(this.minDays)&&this.setProperties(sf.base.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"maxDays":sf.base.isNullOrUndefined(this.maxDays)&&this.setProperties(sf.base.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(n)&&this.inputElement.setAttribute("type","text")}}},t.prototype.createPopup=function(){for(var e=0;e<this.presetsItem.length;e++)e!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[e].id&&this.presetsItem.splice(e,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(e=0;e<=this.presetsItem.length-2;e++){var t=this.presetsItem[e].start,s=this.presetsItem[e].end;this.startValue&&this.endValue&&+t.setMilliseconds(0)==+this.startValue.setMilliseconds(0)&&+s.setMilliseconds(0)==+this.endValue.setMilliseconds(0)&&(this.activeIndex=e,this.isCustomRange=!1)}this.popupWrapper=sf.base.createElement("div",{id:this.element.id+"_popup",className:k+" e-popup"}),this.adjustLongHeaderWidth();var i=!this.isCustomRange||this.isMobile;!sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&i?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},t.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||this.disabledDateRender(),this.updateHeader()},t.prototype.clearCalendarEvents=function(){sf.base.EventHandler.clearEvents(this.leftCalPrevIcon),sf.base.EventHandler.clearEvents(this.leftCalNextIcon),sf.base.EventHandler.clearEvents(this.rightCalPrevIcon),sf.base.EventHandler.clearEvents(this.rightCalNextIcon)},t.prototype.updateNavIcons=function(){e.prototype.iconHandler.call(this)},t.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(S)&&sf.base.EventHandler.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(S)&&sf.base.EventHandler.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(S)&&sf.base.EventHandler.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(S)&&sf.base.EventHandler.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},t.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),sf.base.EventHandler.add(this.startButton.element,"click",this.deviceHeaderClick,this),sf.base.EventHandler.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+O+" ."+T+" .e-title"),this.headerTitleElement=this.popupObj.element.querySelector("."+V+" ."+T+" .e-title"),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new sf.base.KeyboardEvents(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new sf.base.KeyboardEvents(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},t.prototype.calendarIconRipple=function(){sf.base.rippleEffect(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),sf.base.rippleEffect(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),sf.base.rippleEffect(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),sf.base.rippleEffect(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},t.prototype.deviceCalendarEvent=function(){sf.base.EventHandler.clearEvents(this.nextIcon),sf.base.EventHandler.clearEvents(this.previousIcon),sf.base.rippleEffect(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),sf.base.rippleEffect(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(S)&&sf.base.EventHandler.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(S)&&sf.base.EventHandler.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},t.prototype.deviceNavNext=function(e){var t=sf.base.closest(e.target,"."+x);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()},t.prototype.deviceNavPrevious=function(e){var t=sf.base.closest(e.target,"."+x);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()},t.prototype.updateDeviceCalendar=function(e){e&&(this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector(".e-content"),this.tableBodyElement=sf.base.select(".e-content tbody",e),this.table=e.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+T+" .e-title"),this.headerElement=e.querySelector("."+T))},t.prototype.deviceHeaderClick=function(e){if(e.currentTarget.classList.contains("e-start-btn")&&!sf.base.isNullOrUndefined(this.startValue)){this.endButton.element.classList.remove(N),this.startButton.element.classList.add(N);var t=this.popupObj.element.querySelector("."+x);this.updateDeviceCalendar(t),sf.base.isNullOrUndefined(this.calendarElement.querySelector("."+M+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),sf.base.remove(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)){this.startButton.element.classList.remove(N),this.endButton.element.classList.add(N);t=this.popupObj.element.querySelector("."+x);this.updateDeviceCalendar(t),sf.base.isNullOrUndefined(this.calendarElement.querySelector("."+I+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),sf.base.remove(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+x)),this.selectableDates()}},t.prototype.inputFocusHandler=function(){this.preventBlur=!1;var e={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.preventFocus||(this.preventFocus=!0,this.trigger("focus",e)),this.updateClearIconState(),this.updateHiddenInput()},t.prototype.inputBlurHandler=function(e){if(!this.preventBlur){var t=this.inputElement.value;if(sf.base.isNullOrUndefined(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!sf.base.isNullOrUndefined(t)&&""!==t.trim()){var s=t.split(" "+this.separator+" ");if(s.length>1){this.invalidValueString=null;var i={format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"},a=this.globalize.parseDate(s[0].trim(),i),n=this.globalize.parseDate(s[1].trim(),i);if(!(sf.base.isNullOrUndefined(a)||isNaN(+a)||sf.base.isNullOrUndefined(n)||isNaN(+n))){var r=this.startValue;this.startValue=a;var l=this.endValue;if(this.endValue=n,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;var o={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.trigger("blur",o)}return this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=r,this.endValue=l))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}if(this.strictMode?(sf.base.isNullOrUndefined(t)||""!==t.trim()||(this.startValue=null,this.endValue=null),sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(sf.base.isNullOrUndefined(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;o={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.trigger("blur",o)}}this.updateHiddenInput()},t.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},t.prototype.errorClass=function(){var e=this.inputElement.value.trim();(sf.base.isNullOrUndefined(this.endValue)&&sf.base.isNullOrUndefined(this.startValue)&&""!==e||!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(sf.base.addClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(sf.base.removeClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"false"}))},t.prototype.keyCalendarUpdate=function(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t},t.prototype.navInCalendar=function(e,t,s,i,a){var n,r,l=this.getViewNumber(this.currentView()),o=this.min;switch(r=sf.base.isNullOrUndefined(this.maxDays)||!this.isMaxDaysClicked||sf.base.isNullOrUndefined(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":n=new Date(+this.currentDate),this.addDay(n,1,e,r,o),t&&+n==+i&&(a=this.keyCalendarUpdate(!1,a)),this.KeyboardNavigate(1,l,e,r,o),this.keyNavigation(a,e);break;case"moveLeft":n=new Date(+this.currentDate),this.addDay(n,-1,e,r,o),t||+n==+s&&(a=this.keyCalendarUpdate(!0,a)),this.KeyboardNavigate(-1,l,e,r,o),this.keyNavigation(a,e);break;case"moveUp":0===l?(n=new Date(+this.currentDate),this.addDay(n,-7,e,r,o),+n<=+s&&!t&&(a=this.keyCalendarUpdate(!0,a)),this.KeyboardNavigate(-7,l,e,r,o)):this.KeyboardNavigate(-4,l,e,this.max,this.min),this.keyNavigation(a,e);break;case"moveDown":0===l?(n=new Date(+this.currentDate),this.addDay(n,7,e,r,o),t&&+n>=+i&&(a=this.keyCalendarUpdate(!1,a)),this.KeyboardNavigate(7,l,e,r,o)):this.KeyboardNavigate(4,l,e,this.max,this.min),this.keyNavigation(a,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),sf.base.remove(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),this.keyNavigation(a,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,l),sf.base.remove(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),this.keyNavigation(a,e)}},t.prototype.keyInputHandler=function(t,s){var i,a=this.getViewNumber(this.currentView()),n=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),r=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),l=sf.base.closest(t.target,"."+O),o=(l=sf.base.isNullOrUndefined(l)?this.leftCalendar:l).classList.contains(V);this.updateCalendarElement(l);var h=this.tableBodyElement.querySelector("tr td.e-selected"),u=l.querySelector("tr td."+U),d=l.querySelector("tr td."+M),p=l.querySelector("tr td."+I),c=this.getViewNumber(this.depth),f=a===c&&this.getViewNumber(this.start)>=c,m=sf.base.closest(t.target,"."+V),b=sf.base.closest(t.target,"."+O),v=sf.base.closest(t.target,".e-presets");switch(sf.base.isNullOrUndefined(u)?sf.base.isNullOrUndefined(p)||this.dateDisabled?sf.base.isNullOrUndefined(d)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",t.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(t),this.preventFocus=!0,this.inputElement.focus(),sf.base.addClass([this.inputWrapper.container],["e-input-focus"]));break;case"select":if(f){var y=sf.base.isNullOrUndefined(u)?d:u;sf.base.isNullOrUndefined(y)||y.classList.contains(S)||this.selectRange(null,y)}else(sf.base.isNullOrUndefined(h)||f)&&sf.base.isNullOrUndefined(u)||(sf.base.isNullOrUndefined(this.value)||(s=this.calendarElement.classList.contains(V)?this.startDate:this.endDate),this.controlDown=t,this.contentClick(null,--a,u||h,s));t.preventDefault();break;case"controlHome":var g=new Date(this.currentDate.getFullYear(),0,1);!o&&+g<+r&&(l=this.keyCalendarUpdate(!0,l)),e.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(l,t);break;case"altRightArrow":sf.base.isNullOrUndefined(m)?sf.base.isNullOrUndefined(b)?sf.base.isNullOrUndefined(v)||this.cancelButton.element.focus():sf.base.isNullOrUndefined(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),t.preventDefault();break;case"altLeftArrow":sf.base.isNullOrUndefined(m)?sf.base.isNullOrUndefined(b)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),t.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(V),this.calendarNavigation(t,this.calendarElement),t.preventDefault();break;case"controlDown":sf.base.isNullOrUndefined(h)&&sf.base.isNullOrUndefined(u)||f||(sf.base.isNullOrUndefined(this.value)||(s=this.calendarElement.classList.contains(V)?this.startDate:this.endDate),this.controlDown=t,this.contentClick(null,--a,h||u,s)),t.preventDefault();break;case"controlEnd":g=new Date(this.currentDate.getFullYear(),11,31),o&&+g>+n&&(l=this.keyCalendarUpdate(!1,l)),e.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(l,t);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!o&&+i<=+r&&(l=this.keyCalendarUpdate(!0,l)),this.addMonths(this.currentDate,-1),e.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,t);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),o&&+i>=+n&&(l=this.keyCalendarUpdate(!1,l)),this.addMonths(this.currentDate,1),e.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,t);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!o&&+i<=+r&&(l=this.keyCalendarUpdate(!0,l)),this.addYears(this.currentDate,-1),e.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,t);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),o&&+i>=+n&&(l=this.keyCalendarUpdate(!1,l)),this.addYears(this.currentDate,1),e.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,t);break;case"shiftTab":sf.base.isNullOrUndefined(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),t.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(t);break;default:this.navInCalendar(t,o,r,n,l),this.checkMinMaxDays()}this.presetHeight()},t.prototype.keyNavigation=function(e,t){this.bindCalendarCellEvents(e),e.classList.contains(V)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()},t.prototype.inputHandler=function(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||sf.base.isNullOrUndefined(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}},t.prototype.bindCalendarCellEvents=function(e){for(var t=0,s=e?e.querySelectorAll("."+x+" td"):this.popupObj.element.querySelectorAll("."+x+" td");t<s.length;t++){var i=s[t];sf.base.EventHandler.clearEvents(i);i.classList.contains(S)||i.classList.contains(B)||i.classList.contains("e-week-number")||(this.isMobile||sf.base.EventHandler.add(i,"mouseover",this.hoverSelection,this),sf.base.EventHandler.add(i,"mousedown",this.selectRange,this))}},t.prototype.removeFocusedDate=function(){for(var e=!sf.base.isNullOrUndefined(this.startValue)||!sf.base.isNullOrUndefined(this.endValue),t=0,s=this.popupObj.element.querySelectorAll("."+x+" ."+U);t<s.length;t++){var i=s[t],a=new Date,n=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains("e-today")||i.classList.contains("e-today")&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(a,n)&&!this.isSameYear(a,n)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(a,n)||e))&&(i.classList.remove(U),i.classList.contains(M)||i.classList.contains(I)||i.removeAttribute("aria-label"))}},t.prototype.hoverSelection=function(e,t){var s=t||e.currentTarget,i=this.getIdValue(null,s);if(!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)&&sf.base.isNullOrUndefined(this.startValue)||!sf.base.isNullOrUndefined(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)))for(var a=0,n=this.popupObj.element.querySelectorAll("."+x+" td");a<n.length;a++){var r=n[a],l=!r.classList.contains(S)||r.classList.contains(B);if(!r.classList.contains("e-week-number")&&l){var o=this.getIdValue(null,r),h=new Date(+this.startValue);new Date(+o).setHours(0,0,0,0)>=h.setHours(0,0,0,0)&&+o<=+i?sf.base.addClass([r],A):sf.base.removeClass([r],[A])}}},t.prototype.isSameStartEnd=function(e,t){var s=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(s=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(s=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(s=!0),s},t.prototype.updateRange=function(e){if(!sf.base.isNullOrUndefined(this.startValue))for(var t=0,s=e;t<s.length;t++)for(var i=0,a=s[t].querySelectorAll("."+x+" td");i<a.length;i++){var n=a[i];if(!n.classList.contains("e-week-number")&&!n.classList.contains(S)){var r=this.getIdValue(null,n),l=this.getIdValue(null,n);if(sf.base.isNullOrUndefined(this.endValue)?sf.base.removeClass([n],[A]):this.currentView()===this.depth&&+l.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+l.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&sf.base.addClass([n],A),!n.classList.contains("e-other-month")){var o=new Date(+this.startValue),h=new Date(+r);this.currentView()===this.depth&&+h.setHours(0,0,0,0)==+o.setHours(0,0,0,0)&&+h.setHours(0,0,0,0)>=+o.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(sf.base.addClass([n],[M,"e-selected"]),this.addSelectedAttributes(n,this.startValue,!0));var u=new Date(+this.endValue);"Year"===this.currentView()?h=new Date(h.getFullYear(),h.getMonth()+1,0):"Decade"===this.currentView()&&(h=new Date(h.getFullYear(),11,31)),this.currentView()===this.depth&&!sf.base.isNullOrUndefined(this.endValue)&&+h.setHours(0,0,0,0)==+u.setHours(0,0,0,0)&&+h.setHours(0,0,0,0)<=+u.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(sf.base.addClass([n],[I,"e-selected"]),this.addSelectedAttributes(n,this.startValue,!1)),+r!=+this.startValue||sf.base.isNullOrUndefined(this.endValue)||+r!=+this.endValue||this.addSelectedAttributes(n,this.endValue,!1,!0)}}}},t.prototype.checkMinMaxDays=function(){(!sf.base.isNullOrUndefined(this.minDays)&&this.minDays>0||!sf.base.isNullOrUndefined(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+x)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+V)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+O))))},t.prototype.rangeArgs=function(e){var t,s,i=sf.base.isNullOrUndefined(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"}),a=sf.base.isNullOrUndefined(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"});return sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)?(t="",s=0):(t=i+" "+this.separator+" "+a,s=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:s,event:e||null,element:this.element,isInteracted:!sf.base.isNullOrUndefined(e),text:t}},t.prototype.otherMonthSelect=function(e,t,s){var i=+this.getIdValue(null,e),a='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+i),n=this.popupObj&&this.popupObj.element.querySelector(a);sf.base.isNullOrUndefined(n)||(t?(sf.base.addClass([n],[M,"e-selected"]),this.addSelectedAttributes(n,this.startValue,!0)):(sf.base.addClass([n],[I,"e-selected"]),this.addSelectedAttributes(n,this.endValue,!0)),s&&this.addSelectedAttributes(e,this.endValue,!1,!0))},t.prototype.selectRange=function(e,t){var s,i,a;e&&e.preventDefault();var n=(a=sf.base.isNullOrUndefined(e)?this.getIdValue(null,t):this.getIdValue(e,null)).getFullYear(),r=a.getMonth(),l=new Date(n,r,1),o=new Date(n,r+1,0),h=new Date(n,0,1),u=new Date(n,11,31);sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(N)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(N))&&this.removeSelection();var d=t||e.currentTarget;if(sf.base.isNullOrUndefined(this.startValue))sf.base.isNullOrUndefined(this.previousStartValue)||(a.setHours(this.previousStartValue.getHours()),a.setMinutes(this.previousStartValue.getMinutes()),a.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?l:h,this.endValue=null,this.setValue(),sf.base.addClass([d],M),this.addSelectedAttributes(d,this.startValue,!0),d.classList.contains("e-other-month")&&this.otherMonthSelect(d,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(N),this.startButton.element.classList.remove(N),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+a==+this.startValue||+a>+this.startValue){if(+a==+this.startValue&&!sf.base.isNullOrUndefined(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),sf.base.isNullOrUndefined(this.previousEndValue)||(a.setHours(this.previousEndValue.getHours()),a.setMinutes(this.previousEndValue.getMinutes()),a.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?o:u,this.setValue();var p=this.popupObj.element.querySelectorAll("."+I);if(this.isMobile){this.startButton.element.classList.remove(N),this.endButton.element.classList.add(N);for(var c=0,f=p;c<f.length;c++){var m=f[c];m.removeAttribute("aria-label"),m.classList.contains(M)?(this.addSelectedAttributes(m,this.startValue,!0),sf.base.removeClass([m],[I])):(m.setAttribute("aria-selected","false"),sf.base.removeClass([m],[I,"e-selected"]))}}sf.base.addClass([d],I),+this.endValue==+this.startValue?this.addSelectedAttributes(d,this.endValue,!1,!0):this.addSelectedAttributes(d,this.endValue,!1),d.classList.contains("e-other-month")&&(+this.endValue==+this.startValue?this.otherMonthSelect(d,!1,!0):this.otherMonthSelect(d,!1));for(var b=0,v=p=this.popupObj.element.querySelectorAll("."+I);b<v.length;b++){var y=v[b];y.classList.contains(M)&&sf.base.removeClass([y],[A])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+a<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?l:h,this.setValue(),this.removeSelectedAttributes(),sf.base.removeClass(this.popupObj.element.querySelectorAll("."+M),[M,"e-selected"]),sf.base.addClass([d],M),this.addSelectedAttributes(d,this.startValue,!0),d.classList.contains("e-other-month")&&this.otherMonthSelect(d,!0),this.checkMinMaxDays());e&&(s=sf.base.closest(e.target,"."+V)),sf.base.isNullOrUndefined(s)?(e&&(i=e&&sf.base.closest(e.target,"."+O)),sf.base.isNullOrUndefined(i)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),sf.base.addClass([d],"e-selected"),this.updateHeader(),this.removeFocusedDate()},t.prototype.selectableDates=function(){if(!sf.base.isNullOrUndefined(this.startValue)){var e=this.calendarElement.querySelectorAll("."+x+" td"),t=!1;if(this.currentView()===this.depth){for(var s=0,i=e;s<i.length;s++){if(!(r=i[s]).classList.contains(M)&&!r.classList.contains("e-week-number")&&!r.classList.contains(S)){if(+this.getIdValue(null,r)<+this.startValue){sf.base.addClass([r],[B,S,W]),sf.base.EventHandler.clearEvents(r);continue}break}if(r.classList.contains(M)&&!r.classList.contains("e-other-month")){t=!0;break}}t&&(this.previousIcon.classList.contains(S)||sf.base.addClass([this.previousIcon],[H,S,W]))}else{for(var a=0,n=e;a<n.length;a++){var r=n[a],l=this.startValue.getMonth(),o=this.startValue.getFullYear(),h=this.getIdValue(null,r);if(this.startButton.element.classList.contains(N)||!("Year"===this.currentView()&&h.getMonth()<l&&h.getFullYear()<=o||"Decade"===this.currentView()&&h.getMonth()<=l&&h.getFullYear()<o))break;sf.base.addClass([r],[S])}e[0].classList.contains(S)?this.previousIconHandler(!0):e[e.length-1].classList.contains(S)&&this.nextIconHandler(!0)}}},t.prototype.updateMinMaxDays=function(e){if(!sf.base.isNullOrUndefined(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)||this.isMobile&&this.endButton.element.classList.contains(N)){if(!sf.base.isNullOrUndefined(this.minDays)&&this.minDays>0||!sf.base.isNullOrUndefined(this.maxDays)&&this.maxDays>0){var t=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.minDays-1))),s=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));t=!sf.base.isNullOrUndefined(this.minDays)&&this.minDays>0?t:null,s=!sf.base.isNullOrUndefined(this.maxDays)&&this.maxDays>0?s:null,"Year"===this.currentView()?(t=sf.base.isNullOrUndefined(t)?null:new Date(t.getFullYear(),t.getMonth(),0),s=sf.base.isNullOrUndefined(s)?null:new Date(s.getFullYear(),s.getMonth(),1)):"Decade"===this.currentView()&&(t=sf.base.isNullOrUndefined(t)?null:new Date(t.getFullYear()-1,11,1),s=sf.base.isNullOrUndefined(s)?null:new Date(s.getFullYear(),0,1));for(var i=void 0,a=0,n=e.querySelectorAll("."+x+" td");a<n.length;a++){var r=n[a];if(!r.classList.contains(M)&&!r.classList.contains("e-week-number")){var l=this.getIdValue(null,r);if(!sf.base.isNullOrUndefined(t)&&+l==+t&&r.classList.contains(S)&&t.setDate(t.getDate()+1),!r.classList.contains(S)){if(+l<=+this.startValue)continue;!sf.base.isNullOrUndefined(t)&&+l<+t&&(sf.base.addClass([r],[B,S,W]),sf.base.EventHandler.clearEvents(r)),!sf.base.isNullOrUndefined(s)&&+l>+s&&(sf.base.addClass([r],[B,S,W]),this.isMaxDaysClicked=!0,sf.base.EventHandler.clearEvents(r),sf.base.isNullOrUndefined(i)&&!r.classList.contains("e-other-month")&&(i=r))}}}if(!sf.base.isNullOrUndefined(i))if(this.isMobile)this.nextIcon.classList.contains(S)||sf.base.addClass([this.nextIcon],[H,S,W]);else{var o=sf.base.closest(i,"."+O);(o=sf.base.isNullOrUndefined(o)?this.leftCalendar:o).classList.contains(V)?(this.rightCalNextIcon.classList.contains(S)||sf.base.addClass([this.rightCalNextIcon],[H,S,W]),this.leftCalNextIcon.classList.contains(S)||sf.base.addClass([this.leftCalNextIcon],[H,S,W]),this.rightCalPrevIcon.classList.contains(S)||sf.base.addClass([this.rightCalPrevIcon],[H,S,W])):this.rightCalNextIcon.classList.contains(S)||sf.base.addClass([this.rightCalNextIcon],[H,S,W])}}}else this.isMaxDaysClicked=!1},t.prototype.removeClassDisabled=function(){for(var e=0,t=this.popupObj.element.querySelectorAll("."+x+" td."+B);e<t.length;e++){var s=t[e];s.classList.contains(B)&&(sf.base.removeClass([s],[B,S,W]),sf.base.EventHandler.add(s,"click",this.selectRange,this),this.isMobile||sf.base.EventHandler.add(s,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(H)&&sf.base.removeClass([this.nextIcon],[H,S,W]),this.previousIcon.classList.contains(H)&&sf.base.removeClass([this.previousIcon],[H,S,W])):(this.rightCalNextIcon.classList.contains(H)&&sf.base.removeClass([this.rightCalNextIcon],[H,S,W]),this.rightCalPrevIcon.classList.contains(H)&&sf.base.removeClass([this.rightCalPrevIcon],[H,S,W]),this.leftCalNextIcon.classList.contains(H)&&sf.base.removeClass([this.leftCalNextIcon],[H,S,W]))},t.prototype.updateHeader=function(){var e={type:"date",skeleton:sf.base.isBlazor()?"D":"yMMMd"};if(sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue))this.popupObj.element.querySelector("."+P).textContent=this.l10n.getConstant("selectedDays");else{var t=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;sf.base.isNullOrUndefined(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+P).textContent=t.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(sf.base.isNullOrUndefined(this.startValue)?this.startButton.element.textContent=this.l10n.getConstant("startLabel"):this.startButton.element.textContent=this.globalize.formatDate(this.startValue,e),sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)?this.endButton.element.textContent=this.l10n.getConstant("endLabel"):this.endButton.element.textContent=this.globalize.formatDate(this.endValue,e)):(sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)?this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector(".e-end-label").textContent=this.globalize.formatDate(this.endValue,e),sf.base.isNullOrUndefined(this.startValue)?this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector(".e-start-label").textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+P).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+P).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")},t.prototype.removeSelection=function(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll(".e-selected").length>0&&sf.base.removeClass(this.popupObj.element.querySelectorAll(".e-selected"),[M,I,"e-selected"]),this.popupObj.element.querySelectorAll("."+U).length>0&&sf.base.removeClass(this.popupObj.element.querySelectorAll("."+U),U),this.popupObj.element.querySelectorAll("."+A).length>0&&sf.base.removeClass(this.popupObj.element.querySelectorAll("."+A),[A]))},t.prototype.addSelectedAttributes=function(e,t,s,i){if(e){var a=this.globalize.formatDate(t,{type:"date",skeleton:sf.base.isBlazor()?"D":"full"});!sf.base.isNullOrUndefined(i)&&i?e.setAttribute("aria-label","The current start and end date is "+a):e.setAttribute("aria-label","The current "+(s?"start":"end")+" date is "+a),e.setAttribute("aria-selected","true")}},t.prototype.removeSelectedAttributes=function(){if(this.popupObj){for(var e=0,t=this.popupObj.element.querySelectorAll("."+M);e<t.length;e++){(a=t[e]).setAttribute("aria-selected","false"),a.removeAttribute("aria-label")}for(var s=0,i=this.popupObj.element.querySelectorAll("."+I);s<i.length;s++){var a;(a=i[s]).setAttribute("aria-selected","false"),a.removeAttribute("aria-label")}}},t.prototype.updateCalendarElement=function(e){e.classList.contains(V)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector(".e-content"),this.tableBodyElement=sf.base.select(".e-content tbody",e),this.table=e.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+T+" .e-title"),this.headerElement=e.querySelector("."+T)},t.prototype.navPrevMonth=function(e){e.preventDefault();var t=sf.base.closest(e.target,"."+V);t=sf.base.isNullOrUndefined(t)?sf.base.closest(e.target,"."+O):t,this.updateCalendarElement(t),this.navigatePrevious(e),!sf.base.isNullOrUndefined(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)},t.prototype.deviceNavigation=function(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+x)]),this.endButton.element.classList.contains(N)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+x)),this.endButton.element.classList.contains(N)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},t.prototype.updateControl=function(e){e.classList.contains(O)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])},t.prototype.navNextMonth=function(e){e.preventDefault();var t=sf.base.closest(e.target,"."+V);t=sf.base.isNullOrUndefined(t)?sf.base.closest(e.target,"."+O):t,this.updateCalendarElement(t),this.navigateNext(e),!sf.base.isNullOrUndefined(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)},t.prototype.isPopupOpen=function(){return!(sf.base.isNullOrUndefined(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))},t.prototype.createRangeHeader=function(){var e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){var t=this.createElement("button",{className:"e-end-btn"}),s=this.createElement("button",{className:"e-start-btn"});this.startButton=new sf.buttons.Button({content:this.l10n.getConstant("startLabel")},s),this.endButton=new sf.buttons.Button({content:this.l10n.getConstant("endLabel")},t),e.appendChild(s),e.appendChild(t)}else{var i=this.createElement("a",{className:"e-start-label"}),a=this.createElement("a",{className:"e-end-label"}),n=this.createElement("span",{className:"e-change-icon e-icons"});sf.base.attributes(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),sf.base.attributes(a,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(i),e.appendChild(n),e.appendChild(a),i.textContent=this.l10n.getConstant("startLabel"),a.textContent=this.l10n.getConstant("endLabel")}return e},t.prototype.disableInput=function(){this.strictMode?sf.base.isNullOrUndefined(this.previousStartValue)||sf.base.isNullOrUndefined(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents()},t.prototype.validateMinMax=function(){this.min=sf.base.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=sf.base.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(sf.base.isNullOrUndefined(this.minDays)||sf.base.isNullOrUndefined(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!sf.base.isNullOrUndefined(this.minDays)&&this.minDays<0&&(this.minDays=null),!sf.base.isNullOrUndefined(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()},t.prototype.validateRangeStrict=function(){sf.base.isNullOrUndefined(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),sf.base.isNullOrUndefined(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()},t.prototype.validateRange=function(){this.validateMinMaxDays()},t.prototype.validateMinMaxDays=function(){if(!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)){var e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;if(!sf.base.isNullOrUndefined(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){var t=new Date(+this.startValue);t.setDate(t.getDate()+(this.minDays-1)),+t>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=t,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();sf.base.isNullOrUndefined(this.maxDays)||!(this.maxDays>0)||e<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}},t.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(x),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),sf.base.attributes(this.calendarElement,{role:"calendar"}),e.prototype.createHeader.call(this),e.prototype.createContent.call(this)},t.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},t.prototype.isSameDecade=function(e,t){var s=e.getFullYear(),i=t.getFullYear();return s-s%10==i-i%10},t.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.selectNextMonth=function(){if(sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);var e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}},t.prototype.selectNextYear=function(){if(sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);var e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))},t.prototype.selectNextDecade=function(){if(sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){var e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))},t.prototype.selectStartMonth=function(){sf.base.isNullOrUndefined(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!sf.base.isNullOrUndefined(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?this.currentDate=new Date(+this.startValue):this.currentDate=new Date((new Date).setHours(0,0,0,0)),(!sf.base.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!sf.base.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},t.prototype.createCalendar=function(){var t=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){sf.base.isNullOrUndefined(this.startValue)||(this.currentDate=new Date(+this.startValue)),e.prototype.validateDate.call(this),e.prototype.minMaxUpdate.call(this),e.prototype.render.call(this);var s=this.calendarElement.querySelector("."+x+" .e-prev"),i=this.calendarElement.querySelector("."+x+" .e-next");sf.base.remove(this.calendarElement.querySelector("."+x+" .e-icon-container")),this.calendarElement.querySelector("."+x+" ."+T).appendChild(i),this.calendarElement.querySelector("."+x+" ."+T).appendChild(s),sf.base.prepend([s],this.calendarElement.querySelector("."+x+" ."+T)),this.deviceCalendar=this.calendarElement,t.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+x+" ."+T+" .e-title")}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(V),this.leftCalPrevIcon=this.calendarElement.querySelector("."+V+" .e-prev"),this.leftCalNextIcon=this.calendarElement.querySelector("."+V+" .e-next"),this.leftTitle=this.calendarElement.querySelector("."+V+" .e-title"),sf.base.remove(this.calendarElement.querySelector("."+V+" .e-icon-container")),this.calendarElement.querySelector("."+V+" ."+T).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+V+" ."+T).appendChild(this.leftCalPrevIcon),sf.base.prepend([this.leftCalPrevIcon],this.calendarElement.querySelector("."+V+" ."+T)),this.leftCalendar=this.calendarElement;var a=this.createElement("div",{className:"e-left-container"}),n=this.createElement("div",{className:"e-right-container"});a.appendChild(this.leftCalendar),t.appendChild(a),this.isMobile||sf.base.EventHandler.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),sf.base.addClass([this.calendarElement],O),this.rightCalendar=this.calendarElement,sf.base.removeClass([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),sf.base.removeClass([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+O+" .e-prev"),this.rightCalNextIcon=this.calendarElement.querySelector("."+O+" .e-next"),this.rightTitle=this.calendarElement.querySelector("."+O+" .e-title"),sf.base.remove(this.calendarElement.querySelector("."+O+" .e-icon-container")),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector("."+O+" ."+T).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+O+" ."+T).appendChild(this.rightCalPrevIcon),sf.base.prepend([this.rightCalPrevIcon],this.calendarElement.querySelector("."+O+" ."+T)),n.appendChild(this.rightCalendar),t.appendChild(n),this.isMobile||sf.base.EventHandler.add(this.rightTitle,"click",this.rightNavTitle,this)}return t},t.prototype.leftNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))},t.prototype.calendarNavigation=function(t,s){this.table=s.querySelector("table"),this.headerTitleElement=s.querySelector(".e-title"),this.tableBodyElement=s.querySelector("tbody"),this.tableHeadElement=s.querySelector("thead"),this.contentElement=s.querySelector(".e-content"),this.updateCalendarElement(s),e.prototype.navigateTitle.call(this,t),this.updateNavIcons()},t.prototype.rightNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))},t.prototype.clickEventEmitter=function(e){this.isMobile||(sf.base.closest(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},t.prototype.currentView=function(){return e.prototype.currentView.call(this)},t.prototype.getCalendarView=function(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"},t.prototype.navigatedEvent=function(t){if(this.trigger("navigated",this.navigatedArgs),!sf.base.isNullOrUndefined(this.popupObj)){var s=this.getCalendarView(this.currentView());this.isMobile?s===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||s!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):((this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)!==this.leftCalendar||(!t||t.currentTarget.children[0].classList.contains("e-icons"))&&sf.base.isNullOrUndefined(this.controlDown)?(t&&!t.currentTarget.children[0].classList.contains("e-icons")||!sf.base.isNullOrUndefined(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&sf.base.isNullOrUndefined(this.endValue)&&("Month"===s&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===s&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?e.prototype.navigateTo.call(this,s,new Date(+this.startValue)):e.prototype.navigateTo.call(this,s,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),e.prototype.navigateTo.call(this,s,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}},t.prototype.createControl=function(){var e=this.createElement("div",{className:"e-date-range-container"}),t=this.createElement("div",{className:"e-range-header"}),s=this.createRangeHeader();t.appendChild(s);var i=this.createElement("div",{className:P});sf.base.attributes(i,{"aria-label":"Selected Days"}),i.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(i);var a=this.createElement("div",{className:"e-separator"}),n=this.createCalendar();e.appendChild(t),e.appendChild(a),e.appendChild(n);var r=this.createElement("div",{className:"e-footer"}),l=this.createElement("button",{className:"e-cancel e-flat e-css"}),o=this.createElement("button");sf.base.addClass([o],["e-apply","e-flat","e-primary","e-css"]),r.appendChild(o),r.appendChild(l);var h=!sf.base.isNullOrUndefined(this.startValue)&&!sf.base.isNullOrUndefined(this.endValue);(this.cancelButton=new sf.buttons.Button({content:this.l10n.getConstant("cancelText")},l),this.applyButton=new sf.buttons.Button({content:this.l10n.getConstant("applyText"),disabled:!h},o),sf.base.EventHandler.add(o,"click",this.applyFunction,this),sf.base.EventHandler.add(l,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile)||(sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),sf.base.addClass([e],"e-range-border"),sf.base.addClass([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector(".e-presets").style.height=this.popupWrapper.querySelector(".e-date-range-container").getBoundingClientRect().height+"px"));this.popupWrapper.appendChild(r),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},t.prototype.cancelFunction=function(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),sf.base.addClass([this.inputWrapper.container],["e-input-focus"])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)},t.prototype.deviceHeaderUpdate=function(){sf.base.isNullOrUndefined(this.startValue)&&sf.base.isNullOrUndefined(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(N)):sf.base.isNullOrUndefined(this.startValue)||this.startButton.element.classList.add(N)},t.prototype.applyFunction=function(e){var t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),sf.base.addClass([this.inputWrapper.container],["e-input-focus"])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),sf.base.isNullOrUndefined(this.startValue)||sf.base.isNullOrUndefined(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,sf.inputs.Input.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),sf.base.closest(e.target,".e-input-group")||t||this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=sf.base.extend(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new sf.base.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))},t.prototype.onMouseClick=function(e,t){if("touchstart"!==e.type){var s=t||e.target,i=sf.base.closest(s,"."+z),a=i&&i.classList.contains(N);i&&i.classList.contains(z)&&this.setListSelection(i,e),this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,i&&i.classList.contains(z)&&"custom_range"===i.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():a||"keydown"!==e.type||this.inputElement.focus())}},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,"."+z);t&&t.classList.contains(z)&&!t.classList.contains(L)&&sf.base.addClass([t],L)},t.prototype.onMouseLeave=function(e){var t=sf.base.closest(e.target,"."+L);sf.base.isNullOrUndefined(t)||sf.base.removeClass([t],L)},t.prototype.setListSelection=function(e,t){if(e&&(!e.classList.contains(N)||this.isMobile&&e.classList.contains(N))){if(this.isMobile&&e.classList.contains(N))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),sf.base.addClass([e],N),e.setAttribute("aria-selected","true");var s=this.presetsItem[this.activeIndex];"custom_range"===s.id?this.renderCustomPopup():this.applyPresetRange(s,t)}},t.prototype.removeListSelection=function(){var e=this.presetElement.querySelector("."+N);sf.base.isNullOrUndefined(e)||(sf.base.removeClass([e],N),e.removeAttribute("aria-selected"))},t.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},t.prototype.applyPresetRange=function(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},t.prototype.showPopup=function(e,t){this.presetHeight(),1e3===this.zIndex?this.popupObj.show(null,this.element):this.popupObj.show(null,null),this.isMobile&&this.popupObj.refreshPosition()},t.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:k+" e-popup"}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},t.prototype.listRippleEffect=function(){for(var e=0,t=this.liCollections;e<t.length;e++){var s=t[e];sf.base.rippleEffect(s)}},t.prototype.createPresets=function(){if(!sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:"e-presets",attrs:{tabindex:"0"}});var e=sf.lists.ListBase.createList(this.createElement,this.presetsItem,null,!0);sf.base.attributes(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);var t=this.presetElement.querySelector("#custom_range");sf.base.isNullOrUndefined(t)||(t.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+z),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!sf.base.isNullOrUndefined(this.activeIndex)&&this.activeIndex>-1&&sf.base.addClass([this.liCollections[this.activeIndex]],N)}},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(sf.base.EventHandler.add(this.presetElement,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.presetElement,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){sf.base.isNullOrUndefined(this.presetElement)||(sf.base.EventHandler.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(sf.base.EventHandler.remove(this.presetElement,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.presetElement,"mouseout",this.onMouseLeave)))},t.prototype.renderPopup=function(){var e=this;this.popupWrapper.classList.add("e-control");var t=this.popupWrapper.getBoundingClientRect().width;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass.trim()||(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new sf.popups.Popup(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:sf.base.isNullOrUndefined(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-t,offsetY:4,collision:this.isMobile?sf.base.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){sf.base.attributes(e.inputElement,{"aria-expanded":"true"}),sf.base.addClass([e.inputWrapper.buttons[0]],N),e.isMobile||(e.cancelButton&&(e.btnKeyboardModule=new sf.base.KeyboardEvents(e.cancelButton.element,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),e.btnKeyboardModule=new sf.base.KeyboardEvents(e.applyButton.element,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),sf.base.isNullOrUndefined(e.leftCalendar)||e.isRangeIconClicked||e.calendarFocus(),sf.base.isNullOrUndefined(e.presetElement)||(e.keyInputConfigs=sf.base.extend(e.keyInputConfigs,e.keyConfigs),e.presetKeyboardModule=new sf.base.KeyboardEvents(e.presetElement,{eventName:"keydown",keyAction:e.presetKeyActionHandler.bind(e),keyConfigs:e.keyInputConfigs}),e.presetKeyboardModule=new sf.base.KeyboardEvents(e.presetElement,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),sf.base.isNullOrUndefined(e.leftCalendar)?(e.preventBlur=!0,e.presetElement.focus()):e.presetElement.setAttribute("tabindex","-1")),e.popupKeyBoardHandler()),e.isMobile&&!sf.base.Browser.isDevice&&sf.base.EventHandler.add(document,"keydown",e.popupCloseHandler,e)},close:function(){sf.base.attributes(e.inputElement,{"aria-expanded":"false"}),sf.base.removeClass([e.inputWrapper.buttons[0]],N),e.isRangeIconClicked&&e.inputWrapper.container.children[1].focus(),sf.base.isUndefined(e.presets[0].start&&e.presets[0].end&&e.presets[0].label)||e.unWireListEvents(),sf.base.isNullOrUndefined(e.popupObj)||(sf.base.isNullOrUndefined(e.popupObj.element.parentElement)||sf.base.detach(e.popupObj.element),e.popupObj.destroy(),e.popupObj=null),e.isMobile&&!sf.base.Browser.isDevice&&sf.base.EventHandler.remove(document,"keydown",e.popupCloseHandler)},targetExitViewport:function(){sf.base.Browser.isDevice||e.hide()}}),this.isMobile&&(this.popupObj.element.classList.add("e-device"),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(sf.base.addClass([this.modal],["e-device",k,"e-range-modal"]),document.body.className+=" e-range-overflow",this.modal.style.display="block"),sf.base.EventHandler.add(document,"mousedown touchstart",this.documentHandler,this)},t.prototype.popupCloseHandler=function(e){switch(e.keyCode){case 27:this.hide(e)}},t.prototype.calendarFocus=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+M);if(e){var t=sf.base.closest(e,"."+O);t=sf.base.isNullOrUndefined(t)?this.leftCalendar:t,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,t.children[1].firstElementChild.focus()),sf.base.addClass([e],U)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},t.prototype.presetHeight=function(){var e=this.popupObj&&this.popupObj.element.querySelector(".e-presets"),t=this.popupObj&&this.popupObj.element.querySelector(".e-date-range-container");sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(t)||(e.style.height=t.getBoundingClientRect().height+"px")},t.prototype.presetKeyActionHandler=function(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":var t=this.getHoverLI(),s=this.getActiveLI();if(!sf.base.isNullOrUndefined(this.leftCalendar)&&!sf.base.isNullOrUndefined(s))if(sf.base.isNullOrUndefined(t)||!sf.base.isNullOrUndefined(s)&&s===t)if(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(s),"custom_range"===this.presetsItem[this.activeIndex].id)return this.calendarFocus(),s.classList.remove(L),void e.preventDefault();sf.base.isNullOrUndefined(t)&&sf.base.isNullOrUndefined(s)||this.onMouseClick(e,t||s),e.preventDefault();break;case"tab":if(this.leftCalendar){var i=this.getHoverLI();sf.base.isNullOrUndefined(i)||i.classList.remove(L)}else this.hide(e),e.preventDefault()}},t.prototype.listMoveDown=function(e){var t=this.getHoverLI(),s=this.getActiveLI();if(sf.base.isNullOrUndefined(t))if(sf.base.isNullOrUndefined(s))sf.base.addClass([this.liCollections[0]],L);else{i=s.nextElementSibling;!sf.base.isNullOrUndefined(i)&&i.classList.contains(z)&&sf.base.addClass([i],L)}else{var i=t.nextElementSibling;!sf.base.isNullOrUndefined(i)&&i.classList.contains(z)&&(sf.base.removeClass([t],L),sf.base.addClass([i],L))}},t.prototype.listMoveUp=function(e){var t=this.getHoverLI(),s=this.getActiveLI();if(sf.base.isNullOrUndefined(t)){if(!sf.base.isNullOrUndefined(s)){i=s.previousElementSibling;!sf.base.isNullOrUndefined(i)&&i.classList.contains(z)&&sf.base.addClass([i],L)}}else{var i=t.previousElementSibling;!sf.base.isNullOrUndefined(i)&&i.classList.contains(z)&&(sf.base.removeClass([t],L),sf.base.addClass([i],L))}},t.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+L)},t.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+N)},t.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new sf.base.KeyboardEvents(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=sf.base.extend(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new sf.base.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},t.prototype.setScrollPosition=function(){var e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector("."+L),s=this.presetElement.querySelector("."+N),i=sf.base.isNullOrUndefined(t)?s:t;if(!sf.base.isNullOrUndefined(i)){var a=i.nextElementSibling,n=a?a.offsetTop:i.offsetTop,r=i.getBoundingClientRect().height;n+i.offsetTop>e?this.presetElement.scrollTop=a?n-(e/2+r/2):n:this.presetElement.scrollTop=0}},t.prototype.popupKeyActionHandle=function(e){var t=sf.base.closest(e.target,".e-presets");switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":sf.base.isNullOrUndefined(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":sf.base.isNullOrUndefined(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():sf.base.isNullOrUndefined(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}},t.prototype.documentHandler=function(e){if(!sf.base.isNullOrUndefined(this.popupObj)){var t=e.target;this.inputWrapper.container.contains(t)&&(sf.base.isNullOrUndefined(this.popupObj)||sf.base.closest(t,this.popupWrapper.id))||"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),!sf.base.isNullOrUndefined(this.targetElement)&&(sf.base.isNullOrUndefined(this.targetElement)||t===this.targetElement)||sf.base.closest(t,"#"+this.popupObj.element.id)||sf.base.closest(t,".e-input-group")===this.inputWrapper.container||sf.base.closest(t,".e-daterangepicker.e-popup")&&!t.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}},t.prototype.createInput=function(){var e=this.cssClass;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=sf.inputs.Input.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),sf.base.attributes(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),sf.inputs.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),sf.base.isNullOrUndefined(this.placeholder)||""===this.placeholder.trim()||sf.inputs.Input.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),sf.base.addClass([this.inputWrapper.container],"e-date-range-wrapper"),sf.base.isNullOrUndefined(this.inputElement.getAttribute("name"))&&sf.base.attributes(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate},t.prototype.setEleWidth=function(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?sf.base.formatUnit(this.width):"100%"},t.prototype.adjustLongHeaderWidth=function(){"Wide"===this.dayHeaderFormat&&sf.base.addClass([this.popupWrapper],"e-daterange-day-header-lg")},t.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||e||this.disabledDateRender(),this.errorClass(),this.previousStartValue=sf.base.isNullOrUndefined(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=sf.base.isNullOrUndefined(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},t.prototype.updateInput=function(){if(!sf.base.isNullOrUndefined(this.endValue)&&!sf.base.isNullOrUndefined(this.startValue)){var e={format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"},t=this.globalize.formatDate(this.startValue,e),s=this.globalize.formatDate(this.endValue,e);sf.inputs.Input.setValue(t+" "+this.separator+" "+s,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&sf.base.isNullOrUndefined(this.value)&&this.invalidValueString&&sf.inputs.Input.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.checkInvalidRange=function(e){if(!sf.base.isNullOrUndefined(e)){var t=!1,s=void 0,i=void 0,n=null,r=null,l=null,o=!1,h=!1,u=!1;if("string"==typeof e){var d=e.split(" "+this.separator+" ");2===d.length?(n=d[0],r=d[1]):(t=!0,l=e)}else e.length>0?(s=e[0],i=e[1]):(s=e.start,i=e.end),s instanceof Date||"object"===a()(s)?s instanceof Date?o=!0:sf.base.isNullOrUndefined(s)||(u=!0):n=this.getstringvalue(s),i instanceof Date||"object"===a()(i)?i instanceof Date?h=!0:sf.base.isNullOrUndefined(i)||(u=!0):r=this.getstringvalue(i);(sf.base.isNullOrUndefined(n)&&!o&&!sf.base.isNullOrUndefined(r)||!sf.base.isNullOrUndefined(n)&&!h&&sf.base.isNullOrUndefined(r))&&(t=!0),u&&(n=r=l=null,t=!0),n&&(t=t||this.checkInvalidValue(n)),r&&(t=t||this.checkInvalidValue(r)),t&&(o&&!u&&(n=s.toLocaleDateString()),h&&!u&&(r=i.toLocaleDateString()),sf.base.isNullOrUndefined(n)||sf.base.isNullOrUndefined(r)?sf.base.isNullOrUndefined(n)?sf.base.isNullOrUndefined(r)||(l=r):l=n:l=n+" "+this.separator+" "+r,this.invalidValueString=l,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}},t.prototype.getstringvalue=function(e){var t=null;return sf.base.isNullOrUndefined(e)||"number"!=typeof e?sf.base.isNullOrUndefined(e)||"string"!=typeof e||(t=""+e):t=e.toString(),t},t.prototype.checkInvalidValue=function(e){var t,s=e,i=!1;if(t={format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"},"string"!=typeof s)i=!0;else{var a=new sf.base.Internationalization(this.locale);if(!this.checkDateValue(a.parseDate(s,t))){var n=null;n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(s)&&!n.test(s)||/^[a-zA-Z0-9- ]*$/.test(s)||isNaN(+new Date(this.checkValue(s))))&&(i=!0)}}return i},t.prototype.isDateDisabled=function(e){if(sf.base.isNullOrUndefined(e))return!1;var t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};var s=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(s),!!s.isDisabled},t.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var e=new Date(+this.startValue),t=0;+e<=+this.endValue;){this.virtualRenderCellArgs={date:e,isDisabled:!1};var s=this.virtualRenderCellArgs;this.virtualRenderCellEvent(s),s.isDisabled&&(this.disabledDays.push(new Date(+s.date)),+e>+this.startValue&&+e<+this.endValue&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t},t.prototype.virtualRenderCellEvent=function(e){sf.base.extend(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.disabledDates=function(){var e=!1,t=!1;return sf.base.isNullOrUndefined(this.endValue)||sf.base.isNullOrUndefined(this.startValue)||(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t},t.prototype.setModelValue=function(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?(+this.startDate==+this.value[0]&&+this.endDate==+this.value[1]||this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()},t.prototype.dispatchEvent=function(e,t){var s=document.createEvent("HTMLEvents");s.initEvent(t,!1,!0),e.dispatchEvent(s),this.firstHiddenChild.dispatchEvent(s)},t.prototype.changeTrigger=function(e){+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)},t.prototype.navigateTo=function(t,s){if(this.isPopupOpen()){if("month"===t.toLowerCase())t="Month";else if("year"===t.toLowerCase())t="Year";else{if("decade"!==t.toLowerCase())return;t="Decade"}this.getViewNumber(t)<this.getViewNumber(this.depth)&&(t=this.depth),this.isMobile?e.prototype.navigateTo.call(this,t,s):(s<this.min?s=new Date(+this.min):s>=this.max&&(s=new Date(+this.max)),"Month"===t&&this.isSameMonth(s,this.max)?s=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===t&&this.isSameYear(s,this.max)?s=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===t&&this.isSameDecade(s,this.max)&&(s=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=s,this.navigate(this.leftCalendar,this.leftCalCurrentDate,t),s="Month"===t?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===t?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=s,this.navigate(this.rightCalendar,this.rightCalCurrentDate,t),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}},t.prototype.navigate=function(t,s,i){this.calendarElement=t,this.table=t.querySelector("table"),this.tableBodyElement=t.querySelector("tbody"),this.headerTitleElement=t.querySelector(".e-title"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.previousIcon=t.querySelector(".e-prev"),this.nextIcon=t.querySelector(".e-next"),this.effect="e-zoomin",e.prototype.navigateTo.call(this,i,s)},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&(sf.base.addClass([this.inputWrapper.container],["e-input-focus"]),this.inputElement.focus())},t.prototype.focusOut=function(){var e=this.preventBlur;document.activeElement===this.inputElement&&(sf.base.removeClass([this.inputWrapper.container],["e-input-focus"]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)},t.prototype.destroy=function(){this.hide(null);var t={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(sf.base.removeClass([this.inputElement],[k]),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.inputs.Input.removeAttributes(t,this.inputElement),sf.base.isNullOrUndefined(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),sf.base.isNullOrUndefined(this.inputWrapper)||(sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),sf.base.detach(this.inputWrapper.container))),sf.base.isNullOrUndefined(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),e.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler),sf.base.isNullOrUndefined(this.firstHiddenChild)||sf.base.isNullOrUndefined(this.secondHiddenChild)||(sf.base.detach(this.firstHiddenChild),sf.base.detach(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)sf.base.isNullOrUndefined(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))},t.prototype.getModuleName=function(){return"daterangepicker"},t.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},t.prototype.getSelectedRange=function(){var e;return sf.base.isNullOrUndefined(this.startValue)||sf.base.isNullOrUndefined(this.endValue)?e=0:(e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,this.disabledDateRender(),sf.base.isNullOrUndefined(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}},t.prototype.show=function(t,s){var i=this;if(this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),!(this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen())){t&&(this.targetElement=t),this.createPopup(),(this.isMobile||sf.base.Browser.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:sf.base.isBlazor()&&this.isServerRendered?null:this,event:s||null,appendTo:this.isMobile||sf.base.Browser.isDevice?this.mobileRangePopupWrap:document.body};var a=this.openEventArgs;this.trigger("open",a,(function(a){if(i.openEventArgs=a,!i.openEventArgs.cancel){i.openEventArgs.appendTo.appendChild(i.popupWrapper),i.showPopup(t,s);var n=!i.isCustomRange||i.isMobile&&i.isCustomRange;!sf.base.isUndefined(i.presets[0].start&&i.presets[0].end&&i.presets[0].label)&&n&&i.setScrollPosition(),i.checkMinMaxDays(),i.isMobile&&!sf.base.isNullOrUndefined(i.startDate)&&sf.base.isNullOrUndefined(i.endDate)&&(i.endButton.element.classList.add(N),i.startButton.element.classList.remove(N),i.endButton.element.removeAttribute("disabled"),i.selectableDates()),e.prototype.setOverlayIndex.call(i,i.mobileRangePopupWrap,i.popupObj.element,i.modal,i.isMobile||sf.base.Browser.isDevice)}}))}},t.prototype.hide=function(e){var t=this;if(this.popupObj){if(sf.base.isNullOrUndefined(this.previousEndValue)&&sf.base.isNullOrUndefined(this.previousStartValue)?this.clearRange():(sf.base.isNullOrUndefined(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),sf.base.isNullOrUndefined(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()){this.closeEventArgs={cancel:!1,popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj,date:this.inputElement.value,model:sf.base.isBlazor()&&this.isServerRendered?null:this,event:e||null};var s=this.closeEventArgs;this.trigger("close",s,(function(e){t.closeEventArgs=e,t.closeEventArgs.cancel?sf.base.removeClass([t.inputWrapper.buttons[0]],N):(t.isMobile&&(sf.base.isNullOrUndefined(t.startButton)||sf.base.isNullOrUndefined(t.endButton)||(sf.base.EventHandler.remove(t.startButton.element,"click touchstart",t.deviceHeaderClick),sf.base.EventHandler.remove(t.endButton.element,"click touchstart",t.deviceHeaderClick))),t.popupObj&&(t.popupObj.hide(),t.preventBlur&&(t.inputElement.focus(),sf.base.addClass([t.inputWrapper.container],["e-input-focus"]))),t.isMobile||(sf.base.isNullOrUndefined(t.leftKeyboardModule)||sf.base.isNullOrUndefined(t.rightKeyboardModule)||(t.leftKeyboardModule.destroy(),t.rightKeyboardModule.destroy()),sf.base.isNullOrUndefined(t.presetElement)||t.presetKeyboardModule.destroy(),sf.base.isNullOrUndefined(t.cancelButton)||t.btnKeyboardModule.destroy()),t.targetElement=null,sf.base.removeClass([document.body],"e-range-overflow"),sf.base.EventHandler.remove(document,"mousedown touchstart",t.documentHandler),t.isMobile&&t.modal&&(t.modal.style.display="none",t.modal.outerHTML="",t.modal=null),(t.isMobile||sf.base.Browser.isDevice)&&(sf.base.isNullOrUndefined(t.mobileRangePopupWrap)||(t.mobileRangePopupWrap.remove(),t.mobileRangePopupWrap=null)),t.isKeyPopup=t.dateDisabled=!1),t.updateClearIconState(),t.updateHiddenInput(),t.isMobile&&t.allowEdit&&!t.readonly&&t.inputElement.removeAttribute("readonly")}))}}else this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.setLocale=function(){this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),sf.inputs.Input.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()},t.prototype.refreshChange=function(){this.checkView(),this.refreshControl(),this.changeTrigger()},t.prototype.setDate=function(){sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},t.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())},t.prototype.clearModelvalue=function(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&t.value.length>0?this.setProperties({value:null},!0):(t.value&&t.value.start||t.value&&!t.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()},t.prototype.createHiddenInput=function(){sf.base.isNullOrUndefined(this.firstHiddenChild)&&sf.base.isNullOrUndefined(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),sf.base.isNullOrUndefined(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),sf.base.attributes(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:"e-daterange-hidden"}),sf.base.attributes(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:"e-daterange-hidden"});var e={type:"datetime",skeleton:sf.base.isBlazor()?"d":"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)},t.prototype.onPropertyChanged=function(e,t){for(var s={format:this.formatString,type:"date",skeleton:sf.base.isBlazor()?"d":"yMd"},i=0,a=Object.keys(e);i<a.length;i++){var n=a[i];switch(this.hide(null),n){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":sf.inputs.Input.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":sf.inputs.Input.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),sf.inputs.Input.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":sf.inputs.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,s)),+this.initStartDate!=+e.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(e.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,s)),+this.initEndDate!=+e.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(e.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,t);else{var r=e.value.split(" "+this.separator+" ");this.value=[new Date(r[0]),new Date(r[1])],this.updateValue(),this.setDate()}else!sf.base.isNullOrUndefined(e.value)&&e.value.length>0||!sf.base.isNullOrUndefined(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?1===e.value.length||e.value.start?this.clearModelvalue(e,t):null!==e.value[1]&&null!==e.value.start||this.clearModelvalue(e,t):+this.initStartDate==+e.value[0]&&+this.initEndDate==+e.value[1]&&+this.initStartDate==+(e.value.start||+this.initEndDate!=+e.value.start)||((1===e.value.length||e.value.start)&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(sf.base.isNullOrUndefined(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t));break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}},w([sf.base.Property(null)],t.prototype,"value",void 0),w([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),w([sf.base.Property(new Date(1900,0,1))],t.prototype,"min",void 0),w([sf.base.Property(new Date(2099,11,31))],t.prototype,"max",void 0),w([sf.base.Property(null)],t.prototype,"locale",void 0),w([sf.base.Property(null)],t.prototype,"firstDayOfWeek",void 0),w([sf.base.Property(!1)],t.prototype,"weekNumber",void 0),w([sf.base.Property("Gregorian")],t.prototype,"calendarMode",void 0),w([sf.base.Event()],t.prototype,"created",void 0),w([sf.base.Event()],t.prototype,"destroyed",void 0),w([sf.base.Event()],t.prototype,"change",void 0),w([sf.base.Event()],t.prototype,"cleared",void 0),w([sf.base.Event()],t.prototype,"navigated",void 0),w([sf.base.Event()],t.prototype,"renderDayCell",void 0),w([sf.base.Property(null)],t.prototype,"startDate",void 0),w([sf.base.Property(null)],t.prototype,"endDate",void 0),w([sf.base.Collection([{}],j)],t.prototype,"presets",void 0),w([sf.base.Property("")],t.prototype,"width",void 0),w([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),w([sf.base.Property(!0)],t.prototype,"showClearButton",void 0),w([sf.base.Property(!0)],t.prototype,"showTodayButton",void 0),w([sf.base.Property("Month")],t.prototype,"start",void 0),w([sf.base.Property("Month")],t.prototype,"depth",void 0),w([sf.base.Property("")],t.prototype,"cssClass",void 0),w([sf.base.Property("-")],t.prototype,"separator",void 0),w([sf.base.Property(null)],t.prototype,"minDays",void 0),w([sf.base.Property(null)],t.prototype,"maxDays",void 0),w([sf.base.Property(!1)],t.prototype,"strictMode",void 0),w([sf.base.Property(null)],t.prototype,"keyConfigs",void 0),w([sf.base.Property(null)],t.prototype,"format",void 0),w([sf.base.Property(!0)],t.prototype,"enabled",void 0),w([sf.base.Property(!1)],t.prototype,"readonly",void 0),w([sf.base.Property(!0)],t.prototype,"allowEdit",void 0),w([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),w([sf.base.Property(null)],t.prototype,"placeholder",void 0),w([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),w([sf.base.Event()],t.prototype,"open",void 0),w([sf.base.Event()],t.prototype,"close",void 0),w([sf.base.Event()],t.prototype,"select",void 0),w([sf.base.Event()],t.prototype,"focus",void 0),w([sf.base.Event()],t.prototype,"blur",void 0),t=w([sf.base.NotifyPropertyChanges],t)}(f),Y=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),q=function(e,t,s,i){var n,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":a()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},K=(new Date).getDate(),_=(new Date).getMonth(),G=(new Date).getFullYear(),X="e-timepicker",Z="e-input-focus",J=["title","class","style"];(e.TimePickerBase||(e.TimePickerBase={})).createListItems=function(e,t,s,i,a,n){var r,l;this.calendarMode;var o=6e4*n,h=[],u=[];for(r=+t.setMilliseconds(0),l=+s.setMilliseconds(0);l>=r;)u.push(r),h.push(i.formatDate(new Date(r),{format:a,type:"time"})),r+=o;return{collection:u,list:sf.lists.ListBase.createList(e,h,null,!0)}};var $,Q=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.liCollections=[],i.timeCollections=[],i.blazorTimeCollections=[],i.disableItemCollection=[],i.invalidValueString=null,i.isBlazorServer=!1,i.timeOptions=t,i}return Y(t,e),t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),sf.base.removeClass([this.cloneElement],[X,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=sf.base.closest(this.element,"form"),this.isBlazorServer=!(!sf.base.isBlazor()||!this.isServerRendered||"timepicker"!==this.getModuleName()),this.isBlazorServer||("EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body})},t.prototype.render=function(){if(this.isBlazorServer){this.globalize=new sf.base.Internationalization(this.locale),this.defaultCulture=new sf.base.Internationalization("en"),this.checkTimeFormat();var e=this.element.parentElement;this.inputWrapper={container:e,clearButton:e.querySelector(".e-clear-icon"),buttons:[e.querySelector(".e-time-icon")]},sf.inputs.Input.bindInitialEvent({element:this.inputElement,floatLabelType:this.floatLabelType}),this.showClearButton&&this.inputWrapper.clearButton&&sf.inputs.Input.wireClearBtnEvents(this.inputElement,this.inputWrapper.clearButton,this.inputWrapper.container)}else this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval();this.bindEvents(),this.isBlazorServer||(this.validateDisable(),this.setValue(this.getFormattedValue(this.value))),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.isBlazorServer||(this.inputEleValue=this.getDateObject(this.inputElement.value)),this.renderComplete()},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):sf.base.attributes(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):sf.base.addClass([this.inputWrapper.container],["e-non-edit"])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},t.prototype.validationAttribute=function(e,t){var s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",s),e.removeAttribute("name");for(var i=["required","aria-required","form"],a=0;a<i.length;a++)if(!sf.base.isNullOrUndefined(e.getAttribute(i[a]))){var n=e.getAttribute(i[a]);t.setAttribute(i[a],n),e.removeAttribute(i[a])}},t.prototype.initialize=function(){this.globalize=new sf.base.Internationalization(this.locale),this.defaultCulture=new sf.base.Internationalization("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new sf.base.L10n("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,sf.base.isNullOrUndefined(this.element.getAttribute("id"))?(this.element.id=sf.base.getUniqueID("ej2_timepicker"),null!==this.angularTag&&sf.base.attributes(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),sf.base.isNullOrUndefined(this.inputElement.getAttribute("name"))&&sf.base.attributes(this.inputElement,{name:this.element.id})},t.prototype.checkTimeFormat=function(){if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(sf.base.isNullOrUndefined(this.format.skeleton)||""===this.format.skeleton)this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else{var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})}else this.formatString=null},t.prototype.checkDateValue=function(e){return!sf.base.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){var e=this.cssClass;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=sf.inputs.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),sf.base.attributes(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||sf.inputs.Input.addAttributes({style:this.inputStyle},this.inputElement),sf.base.addClass([this.inputWrapper.container],"e-time-wrapper")},t.prototype.getCldrDateTimeFormat=function(){var e=new sf.base.Internationalization(this.locale).getDatePattern({skeleton:sf.base.isBlazor()?"d":"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.CldrFormat("time"):this.formatString},t.prototype.checkInvalidValue=function(e){var t=!1;if("object"!==a()(e)&&!sf.base.isNullOrUndefined(e)){var s=e;"string"==typeof s&&(s=s.trim());var i,n=null;if("number"==typeof e?s=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||(n=this.setCurrentDate(this.getDateObject(e)),sf.base.isNullOrUndefined(n)&&(n=this.checkDateValue(this.globalize.parseDate(s,{format:this.getCldrDateTimeFormat(),type:"datetime"})),sf.base.isNullOrUndefined(n)&&(n=this.checkDateValue(this.globalize.parseDate(s,{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"})))))),i=this.globalize.parseDate(s,{format:this.getCldrDateTimeFormat(),type:"datetime"}),n=!sf.base.isNullOrUndefined(i)&&i instanceof Date&&!isNaN(+i)?i:null,sf.base.isNullOrUndefined(n)&&s.replace(/\s/g,"").length){var r=null;r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(s)&&!r.test(s)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+s))?t=!0:n=new Date(""+s)}t?(this.strictMode||(this.invalidValueString=s),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:n},!0),this.initValue=this.value)}},t.prototype.CldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("t"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale)},t.prototype.destroy=function(){if(this.isBlazorServer)this.unBindEvents();else{this.hide(),this.unBindEvents();var t={"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(sf.inputs.Input.removeAttributes(t,this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),sf.base.isNullOrUndefined(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),sf.base.isNullOrUndefined(this.cloneElement.getAttribute("disabled"))&&sf.inputs.Input.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&sf.base.detach(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],sf.base.isNullOrUndefined(this.rippleFn)||this.rippleFn(),e.prototype.destroy.call(this),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler)}},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)sf.base.isNullOrUndefined(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))},t.prototype.popupCreation=function(){this.isBlazorServer?(this.popupWrapper=this.inputWrapper.container.nextElementSibling,this.generateList()):(this.popupWrapper=this.createElement("div",{className:X+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),sf.base.isNullOrUndefined(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!sf.base.isNullOrUndefined(this.step)&&this.step>0&&(this.generateList(),sf.base.append([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper)),this.addSelection(),this.renderPopup(),sf.base.detach(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.generateList=function(){this.isBlazorServer?this.listWrapper=this.popupWrapper.querySelector(".e-content"):this.createListItems(),this.wireListEvents();var e={duration:300,selector:".e-list-item"};if(this.rippleFn=sf.base.rippleEffect(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll(".e-list-item"),this.isBlazorServer){this.blazorTimeCollections=[];for(var t=0;t<this.liCollections.length;t++)this.blazorTimeCollections.push(this.liCollections[t].getAttribute("data-value"))}},t.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new sf.popups.Popup(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:sf.base.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:sf.base.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:sf.base.Browser.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){e.popupWrapper.style.visibility="visible",sf.base.addClass([e.inputWrapper.buttons[0]],"e-active")},close:function(){sf.base.removeClass([e.inputWrapper.buttons[0]],"e-active"),e.unWireListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),e.isBlazorServer||(sf.base.remove(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML=""),e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){sf.base.Browser.isDevice||e.hide()}}),sf.base.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},t.prototype.getFormattedValue=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:sf.base.isBlazor()?"t":"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),s=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){var i=s?this.initValue.getDate():K,a=s?this.initValue.getMonth():_,n=s?this.initValue.getFullYear():G;return new Date(n,a,i,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];if(J.indexOf(s)>-1)if("class"===s){var i=this.htmlAttributes[s].replace(/\s+/g," ").trim();""!==i&&sf.base.addClass([this.inputWrapper.container],i.split(" "))}else if("style"===s){var a=this.inputWrapper.container.getAttribute(s);a=sf.base.isNullOrUndefined(a)?this.htmlAttributes[s]:a+this.htmlAttributes[s],this.inputWrapper.container.setAttribute(s,a)}else this.inputWrapper.container.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateHtmlAttributeToElement=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];J.indexOf(s)<0&&this.inputElement.setAttribute(s,this.htmlAttributes[s])}},t.prototype.updateCssClass=function(e,t){sf.base.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&sf.inputs.Input.setCssClass(e,[this.popupWrapper],t)},t.prototype.removeErrorClass=function(){sf.base.removeClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString?this.removeErrorClass():(sf.base.addClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!sf.base.isNullOrUndefined(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){sf.base.addClass(e,"e-disabled")},t.prototype.enableElement=function(e){sf.base.removeClass(e,"e-disabled")},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){var e;if("en"===this.locale||"en-US"===this.locale)e=sf.base.getValue(sf.base.isBlazor()?"dayPeriods.wide":"dayPeriods.format.wide",sf.base.getDefaultDateObject());else{var t=sf.base.isBlazor()?".dates.dayPeriods.abbreviated":".dates.calendars.gregorian.dayPeriods.format.abbreviated",s=sf.base.isBlazor()?"":"main.";e=sf.base.getValue(s+""+this.locale+t,sf.base.cldrData)}return e},t.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,s=0;return isNaN(e.selectionStart)||(t=e.selectionStart,s=e.selectionEnd),{start:Math.abs(t),end:Math.abs(s)}},t.prototype.getActiveElement=function(){return sf.base.isNullOrUndefined(this.popupWrapper)?null:this.popupWrapper.querySelectorAll(".e-active")},t.prototype.isNullOrEmpty=function(e){return!!(sf.base.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},t.prototype.setWidth=function(e){return e="number"==typeof e?sf.base.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:sf.base.formatUnit(e):"100%"},t.prototype.setPopupWidth=function(e){(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},t.prototype.setScrollPosition=function(){var e;this.getPopupHeight();e=this.selectedElement,sf.base.isNullOrUndefined(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),s=e.nextElementSibling,i=s?s.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;i+e.offsetTop>t?this.popupWrapper.scrollTop=s?i-(t/2+a/2):i:this.popupWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e;if(sf.base.isNullOrUndefined(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var t=this.popupWrapper.querySelectorAll(".e-list-item");if(t.length){var s=this.isBlazorServer?new Date((new Date).toDateString()+" "+this.blazorTimeCollections[0]).setMilliseconds(0):this.timeCollections[0],i=this.isBlazorServer?new Date((new Date).toDateString()+" "+this.scrollTo.toLocaleTimeString()).setMilliseconds(0):this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((i-s)/(6e4*this.step))]}}sf.base.isNullOrUndefined(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return sf.base.isNullOrUndefined(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?sf.base.getValue("d",sf.base.getValue(this.locale,sf.base.blazorCultureFormats)):sf.base.getValue("dateFormats.short",sf.base.getDefaultDateObject()):this.getCultureDateObject(sf.base.cldrData,""+this.locale)},t.prototype.getBlazorCultureFormat=function(e){return sf.base.getValue(e,sf.base.getValue(this.locale,sf.base.blazorCultureFormats)).replace(/tt/,"a")},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("t"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale):this.formatString},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("T"):sf.base.getValue("timeFormats.medium",sf.base.getDefaultDateObject()):sf.base.isBlazor()?this.getBlazorCultureFormat("T"):sf.base.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",sf.base.cldrData)},t.prototype.getExactDateTime=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return sf.base.isNullOrUndefined(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){sf.inputs.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){sf.inputs.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.updateBlazorTimeCollections=function(e){this.blazorTimeCollections=e},t.prototype.popupHandler=function(e){sf.base.Browser.isDevice&&this.inputElement.setAttribute("readonly",""),this.isBlazorServer||e.preventDefault(),this.isPopupOpen()&&!this.isBlazorServer?this.closePopup(0,e):(this.inputElement.focus(),this.show(e))},t.prototype.mouseDownHandler=function(){if(!this.readonly){this.getCursorSelection();this.inputElement.setSelectionRange(0,0),sf.base.EventHandler.add(this.inputElement,"mouseup",this.mouseUpHandler,this)}},t.prototype.mouseUpHandler=function(e){if(!this.readonly){e.preventDefault(),sf.base.EventHandler.remove(this.inputElement,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");var s=this.getCursorSelection(),i=0,a=0,n=!1;if(this.isTextSelected)i=s.start,a=s.end,this.isTextSelected=!1;else for(var r=0;r<t.length;r++)if(e.test(t[r])||(a=r,n=!0),n){if(s.start>=i&&s.end<=a){a=a,this.isTextSelected=!0;break}i=r+1,n=!1}return{start:i,end:a}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):(this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e))):this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictMode",this.inputElement.value):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnPopupHide",!0):this.show(e);break;case"escape":this.isBlazorServer||(this.updateInputValue(this.objToString(this.value)),this.previousState(this.value)),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var t=e.target,s=this.selectedElement=sf.base.closest(t,".e-list-item");this.setSelection(s,e),s&&s.classList.contains("e-list-item")&&this.hide()},t.prototype.closePopup=function(e,t){var s=this;if(this.isPopupOpen()&&this.popupWrapper){var i={popup:this.isBlazorServer?null:this.popupObj,event:t||null,cancel:!1,name:"open"};sf.base.removeClass([document.body],"e-time-overflow"),this.trigger("close",i,(function(t){if(!t.cancel){var i={name:"FadeOut",duration:50,delay:e||0};s.popupObj.hide(new sf.base.Animation(i)),sf.base.removeClass([s.inputWrapper.container],["e-icon-anim"]),sf.base.attributes(s.inputElement,{"aria-expanded":"false"}),sf.base.EventHandler.remove(document,"mousedown touchstart",s.documentClickHandler),s.isBlazorServer&&(s.disposeServerPopup(),s.inputWrapper.container.parentElement.insertBefore(s.popupWrapper,s.inputWrapper.container.nextElementSibling),s.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),s.popupWrapper=s.popupObj=null)}sf.base.Browser.isDevice&&s.modal&&(s.modal.style.display="none",s.modal.outerHTML="",s.modal=null),sf.base.Browser.isDevice&&(sf.base.isNullOrUndefined(s.mobileTimePopupWrap)||(s.mobileTimePopupWrap.remove(),s.mobileTimePopupWrap=null)),sf.base.Browser.isDevice&&s.allowEdit&&!s.readonly&&s.inputElement.removeAttribute("readonly")}))}else sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){var s=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+s&&this.valueProcess(e,s)}else(this.prevValue!==this.inputElement.value||sf.base.isNullOrUndefined(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,".e-list-item");this.setHover(t,"e-hover")},t.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),sf.base.addClass([e],t),"e-navigation"===t&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.isBlazorServer?(this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.inputElement.setAttribute("value",e.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!1),this.addSelection()):(this.checkValue(e.getAttribute("data-value")),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0)))},t.prototype.onMouseLeave=function(){this.removeHover("e-hover")},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&sf.base.Browser.isDevice||this.hide()},t.prototype.setMinMax=function(e,t){sf.base.isNullOrUndefined(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),sf.base.isNullOrUndefined(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,t,s){var i=e instanceof Date?e:this.getDateObject(e);return sf.base.isNullOrUndefined(this.checkDateValue(i))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,i),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,s=0;s<this.disableItemCollection.length;s++)if(t===this.disableItemCollection[s])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var t=this.setCurrentDate(this.getDateObject(e)),s=this.setCurrentDate(this.getDateObject(this.initMax)),i=this.setCurrentDate(this.getDateObject(this.initMin));if(sf.base.isNullOrUndefined(this.checkDateValue(t))){if(+s<+i||""!==this.inputElement.value)return!1}else if(+t>+s||+t<+i)return!1}return!0},t.prototype.strictOperation=function(e,t,s,i){var a=this.createDateObj(this.getFormattedValue(t)),n=this.createDateObj(this.getFormattedValue(e)),r=this.createDateObj(this.getFormattedValue(i));if(this.strictMode){if(+n>+a)return this.disableTimeIcon(),this.initValue=this.getDateObject(a),this.updateInputValue(this.getValue(this.initValue)),this.inputElement.value;if(+n>=+r)return this.getDateObject(n);if(+r>=+a||+n==+a)return this.getDateObject(a)}else if(+n>+a&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(s))))return s;return s},t.prototype.bindEvents=function(){sf.base.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.isBlazorServer?this.preventEventBubbling:this.popupHandler,this),sf.base.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),sf.base.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),sf.base.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&sf.base.EventHandler.add(this.formElement,"reset",this.formResetHandler,this),sf.base.Browser.isDevice||(this.keyConfigure=sf.base.extend(this.keyConfigure,this.keyConfigs),this.inputEvent=new sf.base.KeyboardEvents(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&sf.base.EventHandler.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.formResetHandler=function(){if(!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),t=this.isBlazorServer?this.inputEleValue:this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.isBlazorServer||(this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value),this.inputElement&&(this.updateInputValue(e),this.isBlazorServer||this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){e.stopPropagation()},t.prototype.unBindEvents=function(){this.inputWrapper&&sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.popupHandler),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),sf.base.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.inputEvent&&this.inputEvent.destroy(),sf.base.EventHandler.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!sf.base.isNullOrUndefined(this.inputWrapper.clearButton)&&sf.base.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){var t={event:e};this.trigger("cleared",t)},t.prototype.clearHandler=function(e){e.preventDefault(),sf.base.isNullOrUndefined(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnValueCleared"),this.popupWrapper&&(this.popupWrapper.scrollTop=0)},t.prototype.clear=function(e){this.isBlazorServer||this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.isBlazorServer||this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var t,s=0,i=e?sf.base.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];s<i.length;s++){var a=i[s];if(!sf.base.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"disabled":if(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.enabled||e){var n="disabled"!==this.inputElement.getAttribute(a)&&""!==this.inputElement.getAttribute(a)&&"true"!==this.inputElement.getAttribute(a);this.setProperties({enabled:n},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(a);break;case"readonly":if(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.readonly||e){var r="readonly"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:r},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"placeholder":(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({min:t},!e));break;case"max":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({max:t},!e));break;case"value":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue),this.setProperties({value:t},!e)))}}},t.prototype.setCurrentDate=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:new Date(G,_,K,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),s=0;s<t.length;s++)if(t[s].toLowerCase().indexOf("h")>=0){e=s;break}return e},t.prototype.updateValue=function(e,t){var s;if(this.isNullOrEmpty(e))this.resetState();else if(s=this.checkValue(e),this.strictMode){var i=null===s&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(i)}this.checkValueChange(t,"string"!=typeof e)},t.prototype.previousState=function(e){for(var t=this.getDateObject(e),s=0;s<this.timeCollections.length;s++)if(+t===this.timeCollections[s]){this.activeIndex=s,this.selectedElement=this.liCollections[s],this.valueWithMinutes=new Date(this.timeCollections[s]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.isBlazorServer||this.checkErrorState(null)},t.prototype.objToString=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,t){var s,i=this.validateMinMax(t,this.min,this.max),a=this.createDateObj(i);if(this.getFormattedValue(a)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=sf.base.isNullOrUndefined(a)?null:a,s=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),s=this.objToString(this.valueWithMinutes)),!this.strictMode&&sf.base.isNullOrUndefined(s)){var n=i.trim().length>0?i:"";this.updateInputValue(n)}else this.updateInputValue(s);return s},t.prototype.findNextElement=function(e){var t=this.inputElement.value,s=sf.base.isNullOrUndefined(this.valueWithMinutes)||this.isBlazorServer?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),i=null,a=this.liCollections.length,n=this.isBlazorServer?sf.base.isNullOrUndefined(this.blazorTimeCollections)?[]:this.blazorTimeCollections:this.timeCollections;if(sf.base.isNullOrUndefined(this.checkDateValue(s))&&sf.base.isNullOrUndefined(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var r=this.validLiElement(0);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r}else if("end"===e.action){r=this.validLiElement(n.length-1,!0);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r}else if("down"===e.action)for(var l=0;l<a;l++){if(this.isBlazorServer?+s<+this.createDateObj(this.blazorTimeCollections[l]):+s<this.timeCollections[l]){r=this.validLiElement(l);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}if(l===a-1){r=this.validLiElement(0);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}}else for(l=a-1;l>=0;l--){if(this.isBlazorServer?+s>+this.createDateObj(this.blazorTimeCollections[l]):+s>this.timeCollections[l]){r=this.validLiElement(l,!0);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}if(0===l){r=this.validLiElement(a-1);this.isBlazorServer||(i=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}}this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):this.elementValue(sf.base.isNullOrUndefined(i)?null:new Date(i))}},t.prototype.selectNextItem=function(e){var t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",t,!0)):this.elementValue(new Date(this.timeCollections[t]))},t.prototype.findNextInBlazor=function(e){var t=sf.base.isNullOrUndefined(this.blazorTimeCollections)?0:this.blazorTimeCollections.length,s=0,i=this.createDateObj(this.inputElement.value);switch(e.action){case"home":this.activeIndex=s;break;case"end":s=t-1,this.activeIndex=s;break;case"down":for(var a=0;a<t;a++){if(this.isBlazorServer?+i<+this.createDateObj(this.blazorTimeCollections[a]):+i<this.timeCollections[a]){var n=this.validLiElement(a);this.activeIndex=n;break}if(a===t-1){var r=this.validLiElement(0);this.activeIndex=r;break}}break;case"up":for(a=t-1;a>=0;a--){if(this.isBlazorServer?+i>+this.createDateObj(this.blazorTimeCollections[a]):+i>this.timeCollections[a]){var l=this.validLiElement(a,!0);this.activeIndex=l;break}if(0===a){var o=this.validLiElement(t-1);this.activeIndex=o;break}}}this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)},t.prototype.elementValue=function(e){sf.base.isNullOrUndefined(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,t){var s=null;if(this.isBlazorServer&&sf.base.isNullOrUndefined(this.popupWrapper)){if((a=this.blazorTimeCollections).length)if(t)for(var i=e;i>=0;i--){s=i;break}else for(i=e;i<=a.length-1;i++){s=i;break}}else{var a,n=!0;if((a=sf.base.isNullOrUndefined(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll(".e-list-item")).length)if(t)for(i=e;i>=0;i--){if(!a[i].classList.contains("e-disabled")){s=i;break}0===i&&n&&(e=i=a.length,n=!1)}else for(i=e;i<=a.length-1;i++){if(!a[i].classList.contains("e-disabled")){s=i;break}i===a.length-1&&n&&(e=i=-1,n=!1)}}return s},t.prototype.keyHandler=function(e){if(!(sf.base.isNullOrUndefined(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains("e-disabled"))){var t=this.isBlazorServer?sf.base.isNullOrUndefined(this.blazorTimeCollections)?0:this.blazorTimeCollections.length:this.timeCollections.length;if(sf.base.isNullOrUndefined(this.getActiveElement())||0===this.getActiveElement().length)if(sf.base.isNullOrUndefined(this.popupObj)&&this.isBlazorServer)if(sf.base.isNullOrUndefined(this.activeIndex)){var s=this.validLiElement(0,"down"!==e.action);this.activeIndex=s,this.interopAdaptor.invokeMethodAsync("OnListItemClick",s,!0)}else this.findNextInBlazor(e);else this.liCollections.length>0&&(this.isBlazorServer||sf.base.isNullOrUndefined(this.value))&&sf.base.isNullOrUndefined(this.activeIndex)?this.selectNextItem(e):this.findNextElement(e);else{var i=void 0;if(e.keyCode>=37&&e.keyCode<=40){s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=s=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),this.isBlazorServer||(i=sf.base.isNullOrUndefined(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s])}else if("home"===e.action){s=this.validLiElement(0);this.activeIndex=s,this.isBlazorServer||(i=this.timeCollections[s])}else if("end"===e.action){s=this.validLiElement(t-1,!0);this.activeIndex=s,this.isBlazorServer||(i=this.timeCollections[s])}this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,"e-navigation"),this.setActiveDescendant(),this.isBlazorServer||this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,t){return sf.base.isBlazor()?sf.base.getValue("t",sf.base.getValue(t,sf.base.blazorCultureFormats)).replace(/tt/,"a"):sf.base.getValue("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,t){return sf.base.isBlazor()?sf.base.getValue("d",sf.base.getValue(t,sf.base.blazorCultureFormats)):sf.base.getValue("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),sf.base.Browser.isDevice||(sf.base.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(sf.base.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),sf.base.Browser.isDevice||(sf.base.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,t){var s=sf.base.isNullOrUndefined(this.checkDateValue(t))?null:t;+this.prevDate!=+s&&(this.initValue=s,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!sf.base.isNullOrUndefined(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,"number"==typeof t&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+t||this.setProperties({value:t},!0),!this.strictMode&&sf.base.isNullOrUndefined(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){sf.base.isNullOrUndefined(this.selectedElement)?sf.base.attributes(this.inputElement,{"aria-activedescendant":"null"}):sf.base.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},t.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!sf.base.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll(".e-active");e.length&&(sf.base.removeClass(e,"e-active"),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&(sf.base.removeClass(t,e),"e-navigation"===e&&t[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var t;return sf.base.isNullOrUndefined(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t},t.prototype.setActiveClass=function(){if(!sf.base.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll(".e-list-item");if(e.length)for(var t=0;t<e.length;t++)if(!this.isBlazorServer&&this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)||this.isBlazorServer&&this.blazorTimeCollections[t]===this.blazorTimeCollections[this.activeIndex]){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),sf.base.isNullOrUndefined(this.selectedElement)||(sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains("e-list-item")&&!e.classList.contains("e-disabled")},t.prototype.createDateObj=function(e){var t=sf.base.isBlazor()?"M"+sf.base.getDefaultDateObject().dateSeperator+"d"+sf.base.getDefaultDateObject().dateSeperator+"yy":null,s=this.globalize.formatDate(new Date,{format:t,skeleton:"short",type:"date"}),i=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(s=this.defaultCulture.formatDate(new Date,{format:t,skeleton:"short",type:"date"}),i=isNaN(+new Date(s+" "+e))?null:new Date(new Date(s+" "+e).setMilliseconds(0)),sf.base.isNullOrUndefined(i)&&(i=this.TimeParse(s,e))):i=this.TimeParse(s,e):e instanceof Date&&(i=e),i},t.prototype.TimeParse=function(e,t){var s;return s=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),s=sf.base.isNullOrUndefined(s)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):s,s=sf.base.isNullOrUndefined(s)?s:new Date(s.setMilliseconds(0))},t.prototype.createListItems=function(){var e,t,s=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var i=6e4*this.step,a=[];for(this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0),t=+this.getDateObject(this.initMax).setMilliseconds(0);t>=e;)this.timeCollections.push(e),a.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;var n={itemCreated:function(e){var t={element:e.item,text:e.text,value:s.getDateObject(e.text),isDisabled:!1};s.trigger("itemRender",t,(function(e){e.isDisabled&&e.element.classList.add("e-disabled"),e.element.classList.contains("e-disabled")&&s.disableItemCollection.push(e.element.getAttribute("data-value"))}))}};this.listTag=sf.lists.ListBase.createList(this.createElement,a,n,!0),sf.base.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),sf.base.append([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var t=e.target;!sf.base.isNullOrUndefined(this.popupObj)&&(this.inputWrapper.container.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),sf.base.closest(t,"#"+this.popupObj.element.id)||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(sf.base.Browser.isDevice||(this.isPreventBlur=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())},t.prototype.setEnableRtl=function(){sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){sf.inputs.Input.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(sf.base.removeClass([this.inputWrapper.container],"e-disabled"),sf.base.attributes(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),sf.base.addClass([this.inputWrapper.container],"e-disabled"),sf.base.attributes(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.isPreventBlur&&this.isPopupOpen())this.inputElement.focus();else{this.closePopup(0,e),sf.base.removeClass([this.inputWrapper.container],[Z]);var t={model:this.isBlazorServer?null:this};this.trigger("blur",t),this.isBlazorServer||this.getText()===this.inputElement.value?0===this.inputElement.value.trim().length&&this.resetState():this.updateValue(this.inputElement.value,e),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnStrictMode",this.inputElement.value),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)}},t.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),sf.base.removeClass([this.inputWrapper.container],[Z]);var e={model:this.isBlazorServer?null:this};this.trigger("blur",e)}},t.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+X))},t.prototype.inputFocusHandler=function(){var e={model:this.isBlazorServer?null:this};this.readonly||sf.base.Browser.isDevice||this.selectInputText(),this.trigger("focus",e),this.clearIconState()},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var t=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper)){this.popupCreation(),sf.base.Browser.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=X+" e-time-modal",document.body.className+=" e-time-overflow",document.body.appendChild(this.modal)),sf.base.Browser.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.isBlazorServer?null:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:sf.base.Browser.isDevice?this.mobileTimePopupWrap:document.body};var s=this.openPopupEventArgs;this.trigger("open",s,(function(e){if(sf.base.isBlazor()&&t.isServerRendered&&(e.popup=t.popupObj||null),t.openPopupEventArgs=e,t.openPopupEventArgs.cancel||t.inputWrapper.buttons[0].classList.contains("e-disabled"))t.popupObj.destroy(),t.isBlazorServer&&(t.disposeServerPopup(),t.inputWrapper.container.parentElement.insertBefore(t.popupWrapper,t.inputWrapper.container.nextElementSibling),t.interopAdaptor.invokeMethodAsync("OnPopupHide",!1)),t.popupWrapper=t.listTag=void 0,t.liCollections=t.timeCollections=t.disableItemCollection=[],t.popupObj=null;else{t.isBlazorServer&&(t.popupWrapper.style.visibility="",t.popupWrapper.style.width=t.inputWrapper.container.offsetWidth+"px",t.popupWrapper.style.height="auto"),t.isBlazorServer&&(t.openPopupEventArgs.popup=t.popupObj),t.openPopupEventArgs.appendTo.appendChild(t.popupWrapper),t.popupAlignment(t.openPopupEventArgs),t.setScrollPosition(),sf.base.Browser.isDevice||t.inputElement.focus();var s={name:"FadeIn",duration:50};t.popupObj.refreshPosition(t.anchor),1e3===t.zIndex?t.popupObj.show(new sf.base.Animation(s),t.element):t.popupObj.show(new sf.base.Animation(s),null),t.setActiveDescendant(),sf.base.attributes(t.inputElement,{"aria-expanded":"true"}),sf.base.addClass([t.inputWrapper.container],Z),sf.base.EventHandler.add(document,"mousedown touchstart",t.documentClickHandler,t),t.setOverlayIndex(t.mobileTimePopupWrap,t.popupObj.element,t.modal,sf.base.Browser.isDevice)}}))}},t.prototype.setOverlayIndex=function(e,t,s,i){if(i&&!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(s)&&!sf.base.isNullOrUndefined(e)){var a=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;s.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.formatValues=function(e){var t;return"number"==typeof e?t=sf.base.formatUnit(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:sf.base.formatUnit(e)),t},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),isNaN(parseFloat(e.popup.position.X))&&isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),sf.base.Browser.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,t){for(var s=0,i=Object.keys(e);s<i.length;s++){var a=i[s];switch(a){case"placeholder":sf.inputs.Input.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":sf.inputs.Input.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.isBlazorServer||(this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl());break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.isBlazorServer||this.getProperty(e,a);break;case"showClearButton":sf.inputs.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.isBlazorServer||this.setValue(this.value);break;case"width":sf.base.setStyleAttribute(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.isBlazorServer||this.setValue(this.value);break;case"value":this.isBlazorServer||(this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.checkValueChange(null,!1));break;case"floatLabelType":this.floatLabelType=e.floatLabelType,sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.isBlazorServer||(this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1));break;case"scrollTo":this.isBlazorServer?this.popupWrapper&&this.setScrollTo():this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0)}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},q([sf.base.Property(null)],t.prototype,"width",void 0),q([sf.base.Property(null)],t.prototype,"cssClass",void 0),q([sf.base.Property(!1)],t.prototype,"strictMode",void 0),q([sf.base.Property(null)],t.prototype,"keyConfigs",void 0),q([sf.base.Property(null)],t.prototype,"format",void 0),q([sf.base.Property(!0)],t.prototype,"enabled",void 0),q([sf.base.Property(!1)],t.prototype,"readonly",void 0),q([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),q([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),q([sf.base.Property(null)],t.prototype,"placeholder",void 0),q([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),q([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),q([sf.base.Property(!0)],t.prototype,"showClearButton",void 0),q([sf.base.Property(30)],t.prototype,"step",void 0),q([sf.base.Property(null)],t.prototype,"scrollTo",void 0),q([sf.base.Property(null)],t.prototype,"value",void 0),q([sf.base.Property(null)],t.prototype,"min",void 0),q([sf.base.Property(null)],t.prototype,"max",void 0),q([sf.base.Property(!0)],t.prototype,"allowEdit",void 0),q([sf.base.Event()],t.prototype,"change",void 0),q([sf.base.Event()],t.prototype,"created",void 0),q([sf.base.Event()],t.prototype,"destroyed",void 0),q([sf.base.Event()],t.prototype,"open",void 0),q([sf.base.Event()],t.prototype,"itemRender",void 0),q([sf.base.Event()],t.prototype,"close",void 0),q([sf.base.Event()],t.prototype,"cleared",void 0),q([sf.base.Event()],t.prototype,"blur",void 0),q([sf.base.Event()],t.prototype,"focus",void 0),t=q([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),ee=($=function(e,t){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),te=function(e,t,s,i){var n,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":a()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},se=(new Date).getDate(),ie=(new Date).getMonth(),ae=(new Date).getFullYear(),ne=(new Date).getHours(),re=(new Date).getMinutes(),le=(new Date).getSeconds(),oe=(new Date).getMilliseconds(),he="e-datetimepicker",ue=function(t){function s(e,s){var i=t.call(this,e,s)||this;return i.valueWithMinutes=null,i.dateTimeOptions=e,i}return ee(s,t),s.prototype.focusHandler=function(){sf.base.addClass([this.inputWrapper.container],"e-input-focus")},s.prototype.focusIn=function(){t.prototype.focusIn.call(this)},s.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),sf.base.removeClass([this.inputWrapper.container],["e-input-focus"]))},s.prototype.blurHandler=function(e){if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{sf.base.removeClass([this.inputWrapper.container],"e-input-focus");var t={model:sf.base.isBlazor()&&this.isServerRendered?null:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}},s.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.popupObject.destroy(),sf.base.detach(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],sf.base.isNullOrUndefined(this.rippleFn)||this.rippleFn());var e={"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"};this.inputElement&&(sf.inputs.Input.removeAttributes(e,this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&sf.base.detach(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),t.prototype.destroy.call(this)},s.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,t.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new sf.base.L10n("datetimepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),t.prototype.render.call(this),this.createInputElement(),t.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()},s.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var e=this.validateMinMaxRange(this.initValue);sf.inputs.Input.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else sf.base.isNullOrUndefined(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,t.prototype.updateInput.call(this)},s.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},s.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},s.prototype.checkErrorState=function(){this.isValidState?sf.base.removeClass([this.inputWrapper.container],"e-error"):sf.base.addClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},s.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},s.prototype.disablePopupButton=function(e){e?(sf.base.addClass([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):sf.base.removeClass([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")},s.prototype.getFormattedValue=function(e){var t;return sf.base.isNullOrUndefined(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))},s.prototype.isDateObject=function(e){return!sf.base.isNullOrUndefined(e)&&!isNaN(+e)},s.prototype.createInputElement=function(){sf.base.removeClass([this.inputElement],"e-datepicker"),sf.base.removeClass([this.inputWrapper.container],"e-date-wrapper"),sf.base.addClass([this.inputWrapper.container],"e-datetime-wrapper"),sf.base.addClass([this.inputElement],he),this.renderTimeIcon()},s.prototype.renderTimeIcon=function(){this.timeIcon=sf.inputs.Input.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},s.prototype.bindInputEvents=function(){sf.base.EventHandler.add(this.timeIcon,"mousedown",this.timeHandler,this),sf.base.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),sf.base.EventHandler.add(this.inputElement,"blur",this.blurHandler,this),sf.base.EventHandler.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=sf.base.extend(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new sf.base.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},s.prototype.unBindInputEvents=function(){sf.base.EventHandler.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(sf.base.EventHandler.remove(this.inputElement,"blur",this.blurHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},s.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?sf.base.getValue("t",sf.base.getValue(this.locale,sf.base.blazorCultureFormats)).replace(/tt/,"a"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale):this.timeFormat},s.prototype.cldrDateTimeFormat=function(){var e=new sf.base.Internationalization(this.locale).getDatePattern({skeleton:sf.base.isBlazor()?"d":"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString},s.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?sf.base.getValue("t",sf.base.getValue(this.locale,sf.base.blazorCultureFormats)).replace(/tt/,"a"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale)},s.prototype.isNullOrEmpty=function(e){return!!(sf.base.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},s.prototype.getCultureTimeObject=function(e,t){return"Gregorian"===this.calendarMode?sf.base.isBlazor()?sf.base.getValue("t",sf.base.getValue(this.locale,sf.base.blazorCultureFormats)).replace(/tt/,"a"):sf.base.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e):sf.base.getValue("main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},s.prototype.timeHandler=function(e){sf.base.Browser.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&t.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),sf.base.addClass([this.inputWrapper.container],["e-input-focus"])))},s.prototype.dateHandler=function(e){e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),sf.base.isNullOrUndefined(this.popupWrapper)||this.popupCreation("date",e))},s.prototype.show=function(e,s){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(s),t.prototype.show.call(this),this.popupCreation("date",s)):(this.isDatePopupOpen()&&this.hide(s),this.popupCreation("time",s)))},s.prototype.toggle=function(e){this.isDatePopupOpen()?(t.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),t.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},s.prototype.listCreation=function(){var t;t="Gregorian"===this.calendarMode?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var s=sf.base.isNullOrUndefined(this.value)?""!==this.inputElement.value?t:new Date:this.value;this.valueWithMinutes=s,this.listWrapper=sf.base.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var i=this.startTime(s),a=this.endTime(s),n=e.TimePickerBase.createListItems(this.createElement,i,a,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=n.collection,this.listTag=n.list,sf.base.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),sf.base.append([n.list],this.listWrapper),this.wireTimeListEvents();var r={duration:300,selector:".e-list-item"};this.rippleFn=sf.base.rippleEffect(this.listWrapper,r),this.liCollections=this.listWrapper.querySelectorAll(".e-list-item")},s.prototype.popupCreation=function(e,t){sf.base.Browser.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(sf.base.addClass([this.popupWrapper],"e-datetimepopup-wrapper"),sf.base.attributes(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=sf.base.createElement("div",{className:he+" e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),sf.base.isNullOrUndefined(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!sf.base.isNullOrUndefined(this.step)&&this.step>0&&(this.listCreation(),sf.base.append([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))},s.prototype.openPopup=function(e){var t=this;this.preventArgs={cancel:!1,popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObject,event:e||null};var s=this.preventArgs;this.trigger("open",s,(function(e){if(t.preventArgs=e,!t.preventArgs.cancel&&!t.readonly){var s={name:"FadeIn",duration:100};1e3===t.zIndex?t.popupObject.show(new sf.base.Animation(s),t.element):t.popupObject.show(new sf.base.Animation(s),null),sf.base.addClass([t.inputWrapper.container],["e-icon-anim"]),sf.base.attributes(t.inputElement,{"aria-expanded":"true"}),sf.base.EventHandler.add(document,"mousedown touchstart",t.documentClickHandler,t)}}))},s.prototype.documentClickHandler=function(e){var t=e.target;!sf.base.isNullOrUndefined(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),sf.base.closest(t,"#"+(this.popupObject&&this.popupObject.element.id))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(sf.base.Browser.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},s.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+he))},s.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))},s.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),sf.base.Browser.isDevice&&(this.timeModal=sf.base.createElement("div"),this.timeModal.className=he+" e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal));this.popupObject=new sf.popups.Popup(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:sf.base.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:sf.base.Browser.isDevice?document.body:this.inputWrapper.container,position:sf.base.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",sf.base.addClass([e.timeIcon],"e-active"),sf.base.Browser.isDevice||(e.timekeyConfigure=sf.base.extend(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new sf.base.KeyboardEvents(e.inputWrapper.container,{keyAction:e.TimeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){sf.base.removeClass([e.timeIcon],"e-active"),e.unWireTimeListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),sf.base.remove(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){sf.base.Browser.isDevice||e.hide()}}),this.popupObject.element.style.maxHeight="250px"},s.prototype.setDimension=function(e){return e="number"==typeof e?sf.base.formatUnit(e):"string"==typeof e?e:"100%"},s.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},s.prototype.wireTimeListEvents=function(){sf.base.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),sf.base.Browser.isDevice||(sf.base.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},s.prototype.unWireTimeListEvents=function(){this.listWrapper&&(sf.base.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler),sf.base.Browser.isDevice||(sf.base.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},s.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,".e-list-item");this.setTimeHover(t,"e-hover")},s.prototype.onMouseLeave=function(){this.removeTimeHover("e-hover")},s.prototype.setTimeHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),sf.base.addClass([e],t))},s.prototype.getPopupHeight=function(){var e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t},s.prototype.changeEvent=function(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(t.prototype.changeEvent.call(this,e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},s.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!sf.base.isNullOrUndefined(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},s.prototype.setTimeScrollPosition=function(){var e;e=this.selectedElement,sf.base.isNullOrUndefined(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},s.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),s=e.nextElementSibling,i=s?s.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;i+e.offsetTop>t?this.dateTimeWrapper.scrollTop=s?i-(t/2+a/2):i:this.dateTimeWrapper.scrollTop=0},s.prototype.setScrollTo=function(){var e,t=this.dateTimeWrapper.querySelectorAll(".e-list-item");if(t.length>=0){var s=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((i-s)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;sf.base.isNullOrUndefined(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},s.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));sf.inputs.Input.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}this.updateIconState()},s.prototype.getFullDateTime=function(){var e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},s.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var t=this.previousDate.getDate(),s=this.previousDate.getMonth(),i=this.previousDate.getFullYear(),a=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return new Date(i,s,t,a,n,r)}return this.previousDate},s.prototype.onMouseClick=function(e){var t=e.target,s=this.selectedElement=sf.base.closest(t,".e-list-item");s&&s.classList.contains("e-list-item")&&(this.timeValue=s.getAttribute("data-value"),this.hide(e)),this.setSelection(s,e)},s.prototype.setSelection=function(e,t){if(this.isValidLI(e)&&!e.classList.contains("e-active")){e.getAttribute("data-value");this.selectedElement=e;var s=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=s,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}},s.prototype.setTimeActiveClass=function(){var e=sf.base.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!sf.base.isNullOrUndefined(e)){var t=e.querySelectorAll(".e-list-item");if(t.length)for(var s=0;s<t.length;s++)if(this.timeCollections[s]===+this.valueWithMinutes){t[s].setAttribute("aria-selected","true"),this.selectedElement=t[s],this.activeIndex=s,this.setTimeActiveDescendant();break}}},s.prototype.setTimeActiveDescendant=function(){sf.base.isNullOrUndefined(this.selectedElement)?sf.base.attributes(this.inputElement,{"aria-activedescendant":"null"}):sf.base.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},s.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),sf.base.isNullOrUndefined(this.selectedElement)||(sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},s.prototype.removeTimeSelection=function(){if(this.removeTimeHover("e-hover"),!sf.base.isNullOrUndefined(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll(".e-active");e.length&&(sf.base.removeClass(e,"e-active"),e[0].removeAttribute("aria-selected"))}},s.prototype.removeTimeHover=function(e){var t=this.getTimeHoverItem(e);t&&t.length&&sf.base.removeClass(t,e)},s.prototype.getTimeHoverItem=function(e){var t,s=sf.base.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return sf.base.isNullOrUndefined(s)||(t=s.querySelectorAll("."+e)),t},s.prototype.isValidLI=function(e){return e&&e.classList.contains("e-list-item")&&!e.classList.contains("e-disabled")},s.prototype.calculateStartEnd=function(e,t,s){var i=e.getDate(),a=e.getMonth(),n=e.getFullYear(),r=e.getHours(),l=e.getMinutes(),o=e.getSeconds(),h=e.getMilliseconds();return t?"starttime"===s?new Date(n,a,i,0,0,0):new Date(n,a,i,23,59,59):new Date(n,a,i,r,l,o,h)},s.prototype.startTime=function(e){var t,s,i,a=this.min;return+(i=null===e?new Date:e).getDate()==+a.getDate()&&+i.getMonth()==+a.getMonth()&&+i.getFullYear()==+a.getFullYear()||+new Date(i.getFullYear(),i.getMonth(),i.getDate())<=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(s=!1,t=this.min):+i<+this.max&&+i>+this.min?(s=!0,t=i):+i>=+this.max&&(s=!0,t=this.max),this.calculateStartEnd(t,s,"starttime")},s.prototype.endTime=function(e){var t,s,i,a=this.max;return+(i=null===e?new Date:e).getDate()==+a.getDate()&&+i.getMonth()==+a.getMonth()&&+i.getFullYear()==+a.getFullYear()||+new Date(i.getUTCFullYear(),i.getMonth(),i.getDate())>=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(s=!1,t=this.max):+i<+this.max&&+i>+this.min?(s=!0,t=i):+i<=+this.min&&(s=!0,t=this.min),this.calculateStartEnd(t,s,"endtime")},s.prototype.hide=function(e){var t=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj||this.popupObject,event:e||null};var s=this.preventArgs;sf.base.isNullOrUndefined(this.popupObj)?this.trigger("close",s,(function(s){t.dateTimeCloseEventCallback(e,s)})):this.dateTimeCloseEventCallback(e,s)}else sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},s.prototype.dateTimeCloseEventCallback=function(e,s){this.preventArgs=s,this.preventArgs.cancel||(this.isDatePopupOpen()?t.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),sf.base.removeClass([document.body],"e-time-overflow"),sf.base.Browser.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},s.prototype.closePopup=function(e){if(this.isTimePopupOpen()&&this.popupObject){var t={name:"FadeOut",duration:100,delay:0};this.popupObject.hide(new sf.base.Animation(t)),this.inputWrapper.container.classList.remove("e-icon-anim"),sf.base.attributes(this.inputElement,{"aria-expanded":"false"}),sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler)}},s.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.preRender.call(this),sf.base.removeClass([this.inputElementCopy],[he])},s.prototype.getProperty=function(e,t){"min"===t?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},s.prototype.checkAttributes=function(e){for(var t,s=0,i=e?sf.base.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];s<i.length;s++){var a=i[s];if(!sf.base.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"readonly":if(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var n="disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:n},!e)}break;case"placeholder":(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":if(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var r="disabled"!==this.inputElement.getAttribute(a)&&"true"!==this.inputElement.getAttribute(a)&&""!==this.inputElement.getAttribute(a);this.setProperties({enabled:r},!e)}break;case"value":(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":(sf.base.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}},s.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},s.prototype.getTimeActiveElement=function(){return sf.base.isNullOrUndefined(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll(".e-active")},s.prototype.createDateObj=function(e){return e instanceof Date?e:null},s.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),s=this.valueWithMinutes,i=!sf.base.isNullOrUndefined(s);if(this.checkDateValue(t)){var a=i?s.getDate():se,n=i?s.getMonth():ie,r=i?s.getFullYear():ae,l=i?s.getHours():ne,o=i?s.getMinutes():re,h=i?s.getSeconds():le,u=i?s.getMilliseconds():oe;return new Date(r,n,a,l,o,h,u)}}return null},s.prototype.findNextTimeElement=function(e){var t=this.inputElement.value,s=sf.base.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),i=null,a=this.liCollections.length;if(!sf.base.isNullOrUndefined(this.activeIndex)||!sf.base.isNullOrUndefined(this.checkDateValue(s))){if("home"===e.action)i=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)i=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var n=0;n<a;n++)if(+s<this.timeCollections[n]){i=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}}else for(n=a-1;n>=0;n--)if(+s>this.timeCollections[n]){i=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(sf.base.isNullOrUndefined(i)?null:new Date(i))}},s.prototype.setTimeValue=function(e,t){var s,i,a=this.validateMinMaxRange(t),n=this.createDateObj(a);return this.getFormattedValue(n)!==(sf.base.isNullOrUndefined(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=sf.base.isNullOrUndefined(n)?null:n,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=n),this.valueWithMinutes=this.checkDateValue(e),i=new Date(+this.valueWithMinutes)),s="Gregorian"===this.calendarMode?this.globalize.formatDate(i,{format:sf.base.isNullOrUndefined(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"}):this.globalize.formatDate(i,{format:sf.base.isNullOrUndefined(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&sf.base.isNullOrUndefined(i),sf.inputs.Input.setValue(s,this.inputElement,this.floatLabelType,this.showClearButton),i},s.prototype.timeElementValue=function(e){if(!sf.base.isNullOrUndefined(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null},s.prototype.timeKeyHandler=function(e){if(!(sf.base.isNullOrUndefined(this.step)||this.step<=0)){var t=this.timeCollections.length;if(sf.base.isNullOrUndefined(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(sf.base.isNullOrUndefined(this.value)&&sf.base.isNullOrUndefined(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var s=void 0;if(e.keyCode>=37&&e.keyCode<=40){var i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,s=sf.base.isNullOrUndefined(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else"home"===e.action?(this.activeIndex=0,s=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,s=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(s))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}},s.prototype.TimeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),sf.base.addClass([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},s.prototype.inputKeyAction=function(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}},s.prototype.onPropertyChanged=function(e,s){for(var i=0,a=Object.keys(e);i<a.length;i++){var n=a[i];switch(n){case"value":this.cldrDateTimeFormat(),sf.base.isBlazor();this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),sf.inputs.Input.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,n),this.updateInput();break;case"enableRtl":sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":sf.base.isNullOrUndefined(s.cssClass)||(s.cssClass=s.cssClass.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e.cssClass,[this.inputWrapper.container],s.cssClass),this.dateTimeWrapper&&sf.inputs.Input.setCssClass(e.cssClass,[this.dateTimeWrapper],s.cssClass);break;case"locale":this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),sf.inputs.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue();break;case"placeholder":sf.inputs.Input.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1),this.bindEvents();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":sf.inputs.Input.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0);break;default:t.prototype.onPropertyChanged.call(this,e,s)}this.hide(null)}},s.prototype.getModuleName=function(){return"datetimepicker"},s.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=sf.base.isNullOrUndefined(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},te([sf.base.Property(null)],s.prototype,"timeFormat",void 0),te([sf.base.Property(30)],s.prototype,"step",void 0),te([sf.base.Property(null)],s.prototype,"scrollTo",void 0),te([sf.base.Property(1e3)],s.prototype,"zIndex",void 0),te([sf.base.Property(null)],s.prototype,"value",void 0),te([sf.base.Property(null)],s.prototype,"keyConfigs",void 0),te([sf.base.Property({})],s.prototype,"htmlAttributes",void 0),te([sf.base.Property(!1)],s.prototype,"enablePersistence",void 0),te([sf.base.Property(!0)],s.prototype,"allowEdit",void 0),te([sf.base.Property(!1)],s.prototype,"isMultiSelection",void 0),te([sf.base.Property(null)],s.prototype,"values",void 0),te([sf.base.Property(!0)],s.prototype,"showClearButton",void 0),te([sf.base.Property(null)],s.prototype,"placeholder",void 0),te([sf.base.Property(!1)],s.prototype,"strictMode",void 0),te([sf.base.Property(null)],s.prototype,"serverTimezoneOffset",void 0),te([sf.base.Property(new Date(1900,0,1))],s.prototype,"min",void 0),te([sf.base.Property(new Date(2099,11,31))],s.prototype,"max",void 0),te([sf.base.Property(null)],s.prototype,"firstDayOfWeek",void 0),te([sf.base.Property("Gregorian")],s.prototype,"calendarMode",void 0),te([sf.base.Property("Month")],s.prototype,"start",void 0),te([sf.base.Property("Month")],s.prototype,"depth",void 0),te([sf.base.Property(!1)],s.prototype,"weekNumber",void 0),te([sf.base.Property(!0)],s.prototype,"showTodayButton",void 0),te([sf.base.Property("Short")],s.prototype,"dayHeaderFormat",void 0),te([sf.base.Event()],s.prototype,"open",void 0),te([sf.base.Event()],s.prototype,"close",void 0),te([sf.base.Event()],s.prototype,"cleared",void 0),te([sf.base.Event()],s.prototype,"blur",void 0),te([sf.base.Event()],s.prototype,"focus",void 0),te([sf.base.Event()],s.prototype,"created",void 0),te([sf.base.Event()],s.prototype,"destroyed",void 0),s=te([sf.base.NotifyPropertyChanges],s)}(E);return m.Inject(b),E.Inject(b),ue.Inject(b),e.CalendarBase=f,e.Calendar=m,e.Islamic=b,e.DatePicker=E,e.Presets=j,e.DateRangePicker=R,e.TimePicker=Q,e.DateTimePicker=ue,e},sfBlazor.loadDependencies(sfBlazor.dependencyJson.calendars,(function(){sf.calendars=sf.calendars({})}))}}]);