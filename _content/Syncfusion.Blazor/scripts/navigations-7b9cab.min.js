(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./bundles/navigations.js":function(e,t,s){"use strict";s.r(t);var i=s("../node_modules/@babel/runtime/helpers/typeof.js"),n=s.n(i);window.sf=window.sf||{},window.sf.navigations=function(e){var t,s,i,a,r,l,o,d,h,c,f=(t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),p=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},u=function(e){function t(t,s){return e.call(this,t,s)||this}return f(t,e),t.prototype.preRender=function(){this.browser=sf.base.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=sf.base.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=sf.base.getUniqueID("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new sf.base.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),sf.base.EventHandler.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){sf.base.isNullOrUndefined(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var s=this.element,i=0,n=[].slice.call(s.children);i<n.length;i++){var a=n[i];e.appendChild(a)}t.appendChild(e),s.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove("e-scroll-device");var s=sf.base.selectAll(".e-"+t.id+"_nav.e-scroll-nav",t),i=sf.base.selectAll(".e-scroll-overlay",t);[].slice.call(i).forEach((function(e){sf.base.detach(e)}));for(var n=0,a=[].slice.call(this.scrollItems.children);n<a.length;n++){var r=a[n];t.appendChild(r)}this.uniqueId&&this.element.removeAttribute("id"),sf.base.detach(this.scrollEle),s.length>0&&(sf.base.detach(s[0]),sf.base.isNullOrUndefined(s[1])||sf.base.detach(s[1])),sf.base.EventHandler.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=sf.base.selectAll(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),s=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),n=this.createElement("div",{id:t.concat("_right"),className:i}),a=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});n.appendChild(a);var r=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(n),e.insertBefore(r,e.firstChild),this.eventBinding([n])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i=this.createElement("div",{id:t.concat("_right"),className:s});i.setAttribute("aria-disabled","false");var n=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),a="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),r=this.createElement("div",{id:t.concat("_left"),className:a+" e-overlay"});r.setAttribute("aria-disabled","true");var l=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});r.appendChild(l),i.appendChild(n),e.appendChild(i),e.insertBefore(r,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),r.classList.add("e-ie-align")),this.eventBinding([i,r])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new sf.base.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),sf.base.EventHandler.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,s=e.originalEvent.target;s=this.contains(s,"e-scroll-nav")?s.firstElementChild:s;this.timeout=window.setInterval((function(){t.eleScrolling(10,s,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,s){var i=this.scrollEle,n=this.element,a=t.classList;a.contains("e-scroll-nav")&&(a=t.querySelector(".e-nav-arrow").classList),this.contains(n,"e-rtl")&&this.browserCheck&&(e=-e);i.scrollLeft;!this.contains(n,"e-rtl")||this.browserCheck||this.ieCheck?a.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s):a.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,s=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var i=.5;!function n(){var a=Math.sin(i);a<=0?window.cancelAnimationFrame(a):("Left"===e.swipeDirection?s.scrollLeft+=t*a:"Right"===e.swipeDirection&&(s.scrollLeft-=t*a),i-=.5,window.requestAnimationFrame(n))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e},t.prototype.frameScrollRequest=function(e,t,s){var i=this;if(s)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(sf.base.selectAll(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetWidth}));!function s(){var n,a;i.contains(i.element,"e-rtl")&&i.browserCheck?(n=-e,a=-10):(n=e,a=10),n<10?window.cancelAnimationFrame(a):(i.scrollUpdating(a,t),e-=a,window.requestAnimationFrame(s))}()}},t.prototype.touchHandler=function(e){var t,s=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?s.scrollLeft=s.scrollLeft+t:"Right"===e.scrollDirection&&(s.scrollLeft=s.scrollLeft-t)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var s=(sf.base.isNullOrUndefined(e)?t:e).querySelector(".e-nav-arrow");sf.base.isNullOrUndefined(e)?sf.base.classList(s,["e-nav-right-arrow"],["e-nav-left-arrow"]):sf.base.classList(s,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,s=t.offsetWidth,i=this.element,n=this.element.querySelector(".e-scroll-left-nav"),a=this.element.querySelector(".e-scroll-right-nav"),r=this.element.querySelector(".e-scroll-left-overlay"),l=this.element.querySelector(".e-scroll-right-overlay"),o=t.scrollLeft;if(o<=0&&(o=-o),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector(".e-scroll-right-overlay"),l=this.element.querySelector(".e-scroll-left-overlay")),r.style.width=o<40?o+"px":"40px",t.scrollWidth-Math.ceil(s+o)<40?l.style.width=t.scrollWidth-Math.ceil(s+o)+"px":l.style.width="40px"),0===o)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(n,a):this.arrowDisabling(a,n);else if(Math.ceil(s+o+.1)>=t.scrollWidth)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(a,n):this.arrowDisabling(n,a);else{var d=this.element.querySelector(".e-scroll-nav.e-overlay");d&&(d.classList.remove("e-overlay"),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var s=0,i=Object.keys(e);s<i.length;s++){switch(i[s]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},p([sf.base.Property(null)],t.prototype,"scrollStep",void 0),t=p([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),b=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},v=function(e){function t(t,s){return e.call(this,t,s)||this}return b(t,e),t.prototype.preRender=function(){this.browser=sf.base.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=sf.base.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=sf.base.getUniqueID("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new sf.base.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),sf.base.EventHandler.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),sf.base.EventHandler.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){sf.base.isNullOrUndefined(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=sf.base.createElement("div",{className:"e-vscroll-content"}),t=sf.base.createElement("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var s=this.element,i=0,n=[].slice.call(s.children);i<n.length;i++){var a=n[i];e.appendChild(a)}t.appendChild(e),s.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",sf.base.removeClass([this.element],["e-vscroll","e-scroll-device"]);var s=sf.base.selectAll(".e-"+t.id+"_nav.e-scroll-nav",t),i=sf.base.selectAll(".e-scroll-overlay",t);[].slice.call(i).forEach((function(e){sf.base.detach(e)}));for(var n=0,a=[].slice.call(this.scrollItems.children);n<a.length;n++){var r=a[n];t.appendChild(r)}this.uniqueId&&this.element.removeAttribute("id"),sf.base.detach(this.scrollEle),s.length>0&&(sf.base.detach(s[0]),sf.base.isNullOrUndefined(s[1])||sf.base.detach(s[1])),sf.base.EventHandler.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=sf.base.selectAll(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),s=sf.base.createElement("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),n=sf.base.createElement("div",{id:t.concat("down"),className:i}),a=sf.base.createElement("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});n.appendChild(a);var r=sf.base.createElement("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(n),e.insertBefore(r,e.firstChild),this.eventBinding([n])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=sf.base.createElement("div",{id:t.concat("_down"),className:s});i.setAttribute("aria-disabled","false");var n=sf.base.createElement("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),a="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),r=sf.base.createElement("div",{id:t.concat("_up"),className:a+" e-overlay"});r.setAttribute("aria-disabled","true");var l=sf.base.createElement("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});r.appendChild(l),i.appendChild(n),i.setAttribute("tabindex","0"),e.appendChild(i),e.insertBefore(r,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),r.classList.add("e-ie-align")),this.eventBinding([i,r])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new sf.base.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),sf.base.EventHandler.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,s=e.originalEvent.target;s=this.contains(s,"e-scroll-nav")?s.firstElementChild:s;this.timeout=window.setInterval((function(){t.eleScrolling(10,s,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,s){this.element;var i=t.classList;i.contains("e-scroll-nav")&&(i=t.querySelector(".e-nav-arrow").classList),i.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",s):i.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",s)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,s=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var i=.5;!function n(){var a=Math.sin(i);a<=0?window.cancelAnimationFrame(a):("Up"===e.swipeDirection?s.scrollTop+=t*a:"Down"===e.swipeDirection&&(s.scrollTop-=t*a),i-=.02,window.requestAnimationFrame(n))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,s){var i=this;if(s)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(sf.base.selectAll(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetHeight}));!function s(){e<10?window.cancelAnimationFrame(10):(i.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(s))}()}},t.prototype.touchHandler=function(e){var t,s=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?s.scrollTop=s.scrollTop+t:"Down"===e.scrollDirection&&(s.scrollTop=s.scrollTop-t)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var s=(sf.base.isNullOrUndefined(e)?t:e).querySelector(".e-nav-arrow");sf.base.isNullOrUndefined(e)?sf.base.classList(s,["e-nav-down-arrow"],["e-nav-up-arrow"]):sf.base.classList(s,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,s=t.offsetHeight,i=(this.element,this.element.querySelector(".e-scroll-up-nav")),n=this.element.querySelector(".e-scroll-down-nav"),a=this.element.querySelector(".e-scroll-up-overlay"),r=this.element.querySelector(".e-scroll-down-overlay"),l=t.scrollTop;if(l<=0&&(l=-l),this.isDevice&&(a.style.height=l<40?l+"px":"40px",t.scrollHeight-Math.ceil(s+l)<40?r.style.height=t.scrollHeight-Math.ceil(s+l)+"px":r.style.height="40px"),0===l)this.arrowDisabling(i,n);else if(Math.ceil(s+l+.1)>=t.scrollHeight)this.arrowDisabling(n,i);else{var o=this.element.querySelector(".e-scroll-nav.e-overlay");o&&(o.classList.remove("e-overlay"),o.setAttribute("aria-disabled","false"),o.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var s=0,i=Object.keys(e);s<i.length;s++){switch(i[s]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},m([sf.base.Property(null)],t.prototype,"scrollStep",void 0),t=m([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),g=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),y=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},C="e-focused",N="e-menu-header",E="e-selected",x="e-menu-item",O="e-menu-hide",S="e-menu-popup",w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),y([sf.base.Property("id")],t.prototype,"itemId",void 0),y([sf.base.Property("parentId")],t.prototype,"parentId",void 0),y([sf.base.Property("text")],t.prototype,"text",void 0),y([sf.base.Property("iconCss")],t.prototype,"iconCss",void 0),y([sf.base.Property("url")],t.prototype,"url",void 0),y([sf.base.Property("separator")],t.prototype,"separator",void 0),y([sf.base.Property("items")],t.prototype,"children",void 0),t}(sf.base.ChildProperty),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),y([sf.base.Property(null)],t.prototype,"iconCss",void 0),y([sf.base.Property("")],t.prototype,"id",void 0),y([sf.base.Property(!1)],t.prototype,"separator",void 0),y([sf.base.Collection([],t)],t.prototype,"items",void 0),y([sf.base.Property("")],t.prototype,"text",void 0),y([sf.base.Property("")],t.prototype,"url",void 0),t}(sf.base.ChildProperty),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),y([sf.base.Property("SlideDown")],t.prototype,"effect",void 0),y([sf.base.Property(400)],t.prototype,"duration",void 0),y([sf.base.Property("ease")],t.prototype,"easing",void 0),t}(sf.base.ChildProperty),I=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.navIdx=[],i.animation=new sf.base.Animation({}),i.isTapHold=!1,i.tempItem=[],i}return g(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:sf.base.getUniqueID(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=sf.base.getValue("ej2_instances",this.element);sf.base.removeClass([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,sf.base.setValue("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:sf.base.getUniqueID(this.getModuleName())}),sf.base.append([].slice.call(this.element.cloneNode(!0).children),e);var s=this.element.nextElementSibling;s?this.element.parentElement.insertBefore(e,s):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var i=this.element,n=sf.base.getValue("ej2_instances",i),a=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),r=0,l=i.attributes.length;r<l;r++)e.setAttribute(i.attributes[r].nodeName,i.attributes[r].nodeValue);i.parentNode.insertBefore(a,i),sf.base.detach(i),i=e,a.appendChild(i),sf.base.setValue("ej2_instances",n,i),this.clonedElement=a,this.element=i,this.element.id||(this.element.id=sf.base.getUniqueID(this.getModuleName()))}},t.prototype.render=function(){if(this.initialize(),this.renderItems(),this.isMenu&&this.template&&sf.base.isBlazor()){var e=this.element.id+"Template";sf.base.resetBlazorTemplate(e,"Template"),Object.keys(sf.base.blazorTemplates).length&&sf.base.extend(this.tempItem,sf.base.blazorTemplates[e],[],!0),sf.base.updateBlazorTemplate(e,"Template",this)}this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&sf.base.addClass([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e))},t.prototype.renderItems=function(){if(!this.items.length){var e=sf.lists.ListBase.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),sf.base.isBlazor()?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if(sf.base.append(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){var s=this.getWrapper();this.element.classList.contains("e-vertical")?this.addScrolling(s,this.element,"vscroll",s.offsetHeight,this.element.offsetHeight):this.addScrolling(s,this.element,"hscroll",s.offsetWidth,this.element.offsetWidth)}},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,s=sf.base.selectAll(this.target),i=0,n=s.length;i<n;i++)t=s[i],this.isMenu?sf.base.EventHandler.add(t,"click",this.menuHeaderClickHandler,this):sf.base.Browser.isIos?new sf.base.Touch(t,{tapHold:this.touchHandler.bind(this)}):sf.base.EventHandler.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){sf.base.EventHandler.add(this.targetElement,"scroll",this.scrollHandler,this);for(var a=0,r=sf.popups.getScrollableParent(this.targetElement);a<r.length;a++){var l=r[a];sf.base.EventHandler.add(l,"scroll",this.scrollHandler,this)}}}sf.base.Browser.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),sf.base.EventHandler.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),sf.base.EventHandler.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),sf.base.EventHandler.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=sf.base.rippleEffect(e,{selector:"."+x})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(t.home="home",t.end="end"),new sf.base.KeyboardEvents(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){sf.base.closest(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||sf.base.closest(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyBoardHandler=function(e){var t="",s=e.target,i=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&s.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([C,E],[sf.base.closest(s,".e-"+this.getModuleName()+"-wrapper")]),i)switch(e.action){case"rightarrow":t="rightarrow",e.action="downarrow";break;case"leftarrow":t="leftarrow",e.action="uparrow";break;case"downarrow":t="downarrow",e.action="rightarrow";break;case"uparrow":t="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":i=!0,t="leftarrow",e.action="rightarrow";break;case"rightarrow":i=!0,t="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.hamburgerMode&&"SPAN"===s.tagName&&s.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}i&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),s="downarrow"===e.action||"home"===e.action?0:t.childElementCount-1,i=s,n=this.getLIByClass(t,C);n&&("end"!==e.action&&"home"!==e.action&&(i=this.getIdx(t,n)),n.classList.remove(C),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?i++:i--,i===("downarrow"===e.action?t.childElementCount:-1)&&(i=s)));var a=t.children[i];i=this.isValidLI(a,i,e.action),t.children[i].classList.add(C),t.children[i].focus()},t.prototype.isValidLI=function(e,t,s){this.getWrapper();var i=this.getUlByNavIdx();return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(O))&&("downarrow"===s||"rightarrow"===s?t++:t--),((e=i.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(O))&&(t=this.isValidLI(e,t,s)),t},t.prototype.getUlByNavIdx=function(e){if(void 0===e&&(e=this.navIdx.length),this.isMenu){var t=[this.getWrapper()].concat([].slice.call(sf.base.selectAll("."+S)))[e];return sf.base.isNullOrUndefined(t)?null:sf.base.select(".e-menu-parent",t)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,s=this.getUlByNavIdx(),i=this.getLIByClass(s,C);if(i){var n=this.getIdx(s,i),a=this.navIdx.concat(n),r=this.getItem(a);r.items.length?(this.navIdx.push(n),this.keyType="right",this.action=e.action,this.openMenu(i,r,-1,-1,e)):"enter"===e.action&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([E],[this.getWrapper()]):i.classList.remove(C),i.classList.add(E),t={element:i,item:r,event:e},this.trigger("select",t),this.closeMenu(null,e))}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):"escape"===e.action&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t){var s=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var i,n,a,r=void 0,l=void 0,o=this.getWrapper(),d=this.getPopups(),h=!1,c=this.isMenu?d.length+1:o.childElementCount;i=this.isMenu&&1!==c?sf.base.select(".e-ul",d[c-2]):sf.base.selectAll(".e-menu-parent",o)[c-1],this.isMenu&&i.classList.contains("e-menu")&&((r=this.getLIByClass(i,E))&&r.classList.remove(E),h=!0),h||(n=this.navIdx.length?this.getItem(this.navIdx):null,a=n?n.items:this.items,l={element:i,parentItem:n,items:a,event:t,cancel:!1},this.trigger("beforeClose",l,(function(r){var l,o,d,h,c,f,p="",u=!r.cancel;(u||s.isCMenu)&&(s.isMenu?(l=sf.base.closest(i,"."+S),s.hamburgerMode&&(l.parentElement.style.minHeight=""),s.unWireKeyboardEvent(l),s.destroyScrollObj(sf.base.getInstance(l.children[0],v),l.children[0]),(d=sf.base.getInstance(l,sf.popups.Popup)).hide(),p=l.id,d.destroy(),sf.base.detach(l)):s.toggleAnimation(i,!1),o={element:i,parentItem:n,items:a},s.trigger("onClose",o),s.navIdx.pop());var b=s.getWrapper()&&s.getUlByNavIdx(),m=t&&t.target&&s.getLI(t.target);s.isCMenu&&(s.canOpen(t.target)&&s.openMenu(null,null,s.pageY,s.pageX,t),s.isCMenu=!1),s.isMenu&&b&&p.length&&(h=new RegExp("(.*)-ej2menu-"+s.element.id+"-popup").exec(p)[1],c=b.querySelector('[id="'+h+'"]'),f=m&&b.querySelector('[id="'+m.id+'"]'));var g=m&&m.querySelectorAll(".e-menu-item");if(u&&s.hamburgerMode&&e&&!g.length)s.afterCloseMenu(t);else if(u&&!s.hamburgerMode&&s.navIdx.length&&c&&!f)s.closeMenu(s.navIdx[s.navIdx.length-1],t);else if(u&&!e&&(s.hamburgerMode&&s.navIdx.length||1===s.navIdx.length))s.closeMenu(null,t);else if(u&&sf.base.isNullOrUndefined(e)&&s.navIdx.length)s.closeMenu(null,t);else if(!u||s.isMenu||e||0!==s.navIdx.length||s.isMenusClosed)if(u&&s.isMenu&&t&&t.target&&0!==s.navIdx.length&&sf.base.closest(t.target,".e-menu-parent.e-control"))s.closeMenu(0,t);else if(!u||"right"!==s.keyType&&"click"!==s.keyType){var y=s.getUlByNavIdx(),N=s.getLIByClass(y,E);N&&(N.setAttribute("aria-expanded","false"),N.classList.remove(E),m&&(N.classList.add(C),N.focus()))}else s.afterCloseMenu(t);else s.isMenusClosed=!0,s.closeMenu(0,t);s.removeStateWrapper()})))}},t.prototype.destroyScrollObj=function(e,t){e&&(e.destroy(),t.parentElement.appendChild(sf.base.select(".e-menu-parent",t)),sf.base.detach(t))},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+S)).forEach((function(s){e.getIndex(s.querySelector("."+x).id,!0).length&&t.push(s)})),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&sf.base.isVisible(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var s=this.filter.split(" "),i=0,n=s.length;i<n;i++)if(sf.base.closest(e,"."+s[i])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,s,i,n,a){void 0===s&&(s=0),void 0===i&&(i=0),void 0===n&&(n=null),void 0===a&&(a=this.targetElement);var r=this.getWrapper();this.lItem=e;var l=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,sf.base.isNullOrUndefined(s)&&(s=-1),sf.base.isNullOrUndefined(i)&&(i=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&sf.base.Browser.isDevice){r.lastChild.style.display="none";var o={text:t[this.getField("text")].toString(),iconCss:"e-icons e-previous"},d=new k(this.items[0],"items",o,!0),h=this.createItems([d]).children[0];h.classList.add(N),this.uList.insertBefore(h,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+S,id:e.id+"-ej2menu-"+l+"-popup"}),this.hamburgerMode?(s=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&sf.base.addClass([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.triggerBeforeOpen(e,this.uList,t,n,0,0,"menu")):(this.uList.style.zIndex=this.element.style.zIndex,r.appendChild(this.uList),this.triggerBeforeOpen(e,this.uList,t,n,s,i,"none"))}else this.uList=this.element,this.uList.style.zIndex=sf.popups.getZindexPartial(a||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,n,s,i,"none");if(this.isMenu&&this.template&&sf.base.isBlazor()){var c=this.element.id+"Template";if(Object.keys(sf.base.blazorTemplates).length){var f=sf.base.blazorTemplates[c];this.tempItem=this.tempItem.concat(f),sf.base.blazorTemplates[c]=this.tempItem}sf.base.updateBlazorTemplate(c,"Template",this)}},t.prototype.calculateIndentSize=function(e,t){var s=getComputedStyle(t),i=parseInt(s.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?i*=2:i+=i/4,e.style.textIndent=i+"px";var n=e.querySelectorAll(".e-blankicon");if(n&&n.length)for(var a=e.querySelector(".e-menu-icon"),r=getComputedStyle(a),l=parseInt(r.marginRight,10)+a.offsetWidth+i,o=0;o<n.length;o++)n[o].style.textIndent=l+"px"},t.prototype.generatePopup=function(e,t,s,i){var n=this,a=new sf.popups.Popup(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:s,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:i||this.enableRtl?"none":"flip",Y:"fit"},position:i&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=sf.base.select(".e-menu-vscroll",a.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=sf.base.select(".e-ul",a.element);a.element.style.maxHeight="",t.focus(),n.triggerOpen(t)}});return a},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),s=this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(this.title):this.title,i=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:s}),n=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(i),t.appendChild(n),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var t=this;if(this.hamburgerMode){var s;s={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},this.trigger("beforeClose",s,(function(s){s.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))}))}},t.prototype.callFit=function(e,t,s,i,n){return sf.popups.fit(e,null,{X:t,Y:s},{top:i,left:n})},t.prototype.triggerBeforeOpen=function(e,t,s,i,n,a,r){var l=this,o=(this.getIndex(e?e.id:null,!0),{element:t,items:e?s[this.getField("children",this.navIdx.length-1)]:this.items,parentItem:s,event:i,cancel:!1,top:n,left:a}),d=r;this.trigger("beforeOpen",o,(function(t){switch(d){case"menu":l.hamburgerMode||(l.top=t.top,l.left=t.left),l.popupWrapper.style.display="block",l.hamburgerMode||(l.popupWrapper.style.maxHeight=l.popupWrapper.getBoundingClientRect().height+"px",l.addScrolling(l.popupWrapper,l.uList,"vscroll",l.popupWrapper.offsetHeight,l.uList.offsetHeight),l.checkScrollOffset(i));var n=void 0;if(l.hamburgerMode||l.left||l.top)l.popupObj.collision={X:"none",Y:"none"};else{if(l.popupObj.refreshPosition(l.lItem,!0),l.left=parseInt(l.popupWrapper.style.left,10),l.top=parseInt(l.popupWrapper.style.top,10),l.enableRtl&&(l.left=l.isNestedOrVertical?l.left-l.popupWrapper.offsetWidth-l.lItem.parentElement.offsetWidth:l.left-l.popupWrapper.offsetWidth+l.lItem.offsetWidth),n=sf.popups.isCollide(l.popupWrapper,null,l.left,l.top),(l.isNestedOrVertical||l.enableRtl)&&(n.indexOf("right")>-1||n.indexOf("left")>-1)){l.popupObj.collision.X="none";var a=sf.base.closest(l.lItem,".e-"+l.getModuleName()+"-wrapper").offsetWidth;l.left=l.enableRtl?sf.popups.calculatePosition(l.lItem,l.isNestedOrVertical?"right":"left","top").left:l.left-l.popupWrapper.offsetWidth-a}((n=sf.popups.isCollide(l.popupWrapper,null,l.left,l.top)).indexOf("left")>-1||n.indexOf("right")>-1)&&(l.left=l.callFit(l.popupWrapper,!0,!1,l.top,l.left).left),l.popupWrapper.style.left=l.left+"px"}l.popupWrapper.style.display="";break;case"none":l.top=t.top,l.left=t.left;break;case"hamburger":t.cancel||(l.element.classList.remove("e-hide-menu"),l.triggerOpen(l.element))}if("hamburger"!==d)if(t.cancel)l.isMenu&&(l.popupObj.destroy(),sf.base.detach(l.popupWrapper)),l.navIdx.pop();else if(l.isMenu)if(l.hamburgerMode)l.popupWrapper.style.top=l.top+"px",l.popupWrapper.style.left="0px",l.toggleAnimation(l.popupWrapper);else{l.wireKeyboardEvent(l.popupWrapper),sf.base.rippleEffect(l.popupWrapper,{selector:"."+x}),l.popupWrapper.style.left=l.left+"px",l.popupWrapper.style.top=l.top+"px";var r="None"!==l.animationSettings.effect?{name:l.animationSettings.effect,duration:l.animationSettings.duration,timingFunction:l.animationSettings.easing}:null;l.popupObj.show(r,l.lItem)}else l.setPosition(l.lItem,l.uList,l.top,l.left),l.toggleAnimation(l.uList);if("right"===l.keyType){var o=l.getUlByNavIdx();if(e.classList.remove(C),l.isMenu&&1===l.navIdx.length&&l.removeLIStateByClass([E],[l.getWrapper()]),e.classList.add(E),"enter"===l.action){var h={element:e,item:s,event:i};l.trigger("select",h)}e.focus(),o=l.getUlByNavIdx();var c=l.isValidLI(o.children[0],0,l.action);o.children[c].classList.add(C),o.children[c].focus()}}))},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var s,i,n=sf.base.isNullOrUndefined(e)?this.element:sf.base.closest(e.target,"."+x),a=sf.base.select(".e-hscroll-bar",t);a.scrollLeft>n.offsetLeft&&(a.scrollLeft-=a.scrollLeft-n.offsetLeft),(s=a.scrollLeft+a.offsetWidth)<(i=n.offsetLeft+n.offsetWidth)&&(a.scrollLeft+=i-s)}},t.prototype.addScrolling=function(e,t,s,i,n){if(this.enableScrolling&&i<n){var a=this.createElement("div",{className:"e-menu-"+s});e.appendChild(a),a.appendChild(t),a.style.maxHeight=e.style.maxHeight;e.style.overflow="hidden","vscroll"===s?new v({enableRtl:this.enableRtl},a).scrollStep=sf.base.select(".e-"+s+"-bar",e).offsetHeight/2:new u({enableRtl:this.enableRtl},a).scrollStep=sf.base.select(".e-"+s+"-bar",e).offsetWidth}},t.prototype.setPosition=function(e,t,s,i){if(this.toggleVisiblity(t),t===this.element||i>-1&&s>-1){if((r=sf.popups.isCollide(t,null,i,s)).indexOf("right")>-1&&(i-=t.offsetWidth),r.indexOf("bottom")>-1)s=(n=this.callFit(t,!1,!0,s,i)).top-20;if((r=sf.popups.isCollide(t,null,i,s)).indexOf("left")>-1)i=(n=this.callFit(t,!0,!1,s,i)).left}else if(sf.base.Browser.isDevice)s=Number(this.element.style.top.replace("px","")),i=Number(this.element.style.left.replace("px",""));else{var n,a=this.enableRtl?"left":"right";s=(n=sf.popups.calculatePosition(e,a,"top")).top,i=n.left;var r,l=(r=sf.popups.isCollide(t,null,this.enableRtl?i-t.offsetWidth:i,s)).indexOf("left")>-1||r.indexOf("right")>-1;l&&(i=(n=sf.popups.calculatePosition(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||l)&&(i=this.enableRtl&&l?i:i-t.offsetWidth),r.indexOf("bottom")>-1&&(s=(n=this.callFit(t,!1,!0,s,i)).top)}this.toggleVisiblity(t,!1),t.style.top=s+"px",t.style.left=i+"px"},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,s=this.navIdx?this.navIdx.length:0,i=this.getFields(s);if(sf.base.isBlazor()&&this.template&&e.length&&e[0].properties){var n=[];e.forEach((function(e,t){n.push({}),n[t][i.text]=e[i.text],e[i.id]||(e[i.id]=sf.base.getUniqueID("menuitem")),n[t][i.id]=e[i.id],n[t][i.iconCss]=e[i.iconCss],n[t][i.url]=e[i.url],n[t][i.child]=e[i.child],n[t][i.separator]=e[i.separator]})),e=n}var a=this.hasField(e,this.getField("iconCss",s)),r={showIcon:a,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[i.id]]||(e.curData[e.fields[i.id]]=sf.base.getUniqueID("menuitem")),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},t.isMenu&&!e.curData[t.getField("separator",s)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]),""===e.curData[e.fields[i.iconCss]]&&(e.curData[e.fields[i.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",s)]&&(e.item.classList.add("e-separator"),e.item.removeAttribute("role")),!a||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",s)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var i=t.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(i),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),t.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"));var n={item:e.curData,element:e.item};t.trigger("beforeItemRender",n)}};this.setProperties({items:this.items},!0),this.isMenu&&(r.templateID=this.element.id+"Template");var l=sf.lists.ListBase.createList(this.createElement,e,r,!this.template);return l.setAttribute("tabindex","0"),this.isMenu&&l.setAttribute("role","menu"),l},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var s=this.getLI(t),i=s?sf.base.closest(s,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),n=this.getWrapper(),a=new RegExp("-ej2menu-(.*)-popup"),r=!1;if(i){if((""!==i.id?a.exec(i.id)[1]:i.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([C,E],[this.getWrapper()]),!this.navIdx.length)return;r=!0}s&&sf.base.closest(s,".e-"+this.getModuleName()+"-wrapper")&&!r?(this.removeLIStateByClass([C],this.isMenu?[i].concat(this.getPopups()):[i]),this.removeLIStateByClass([C],this.isMenu?[n].concat(this.getPopups()):[n]),s.classList.add(C),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!r&&this.removeLIStateByClass([C],[i].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===i||sf.base.closest(t,".e-"+this.getModuleName()+"-popup")||s&&(!s||this.getIndex(s.id,!0).length)?r&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([C],[i]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=sf.base.closest(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([C,E],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var s,i=function(i){e.forEach((function(e){(s=sf.base.select("."+e,t[i]))&&s.classList.remove(e)}))},n=0;n<t.length;n++)i(n)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var s=this.fields[e];return"string"==typeof s?s:s[t]?s[t].toString():s[s.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var s=0,i=e.length;s<i;s++)if(e[s][t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){sf.base.closest(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),s=e.target,i=this.cli=this.getLI(s),n=new RegExp("-ej2menu-(.*)-popup"),a=i?sf.base.closest(i,".e-"+this.getModuleName()+"-wrapper"):null,r=i&&a&&(this.isMenu?this.getIndex(i.id,!0).length>0:t.firstElementChild.id===a.firstElementChild.id);if(sf.base.Browser.isDevice&&this.isMenu&&(this.removeLIStateByClass([C],[t].concat(this.getPopups())),this.mouseDownHandler(e)),i&&a&&this.isMenu){var l=a.id?n.exec(a.id)[1]:a.querySelector(".e-menu-parent").id;if(this.element.id!==l)return}if(r&&"click"===e.type&&!i.classList.contains(N)){this.setLISelected(i);var o=this.getIndex(i.id,!0),d={element:i,item:this.getItem(o),event:e};this.trigger("select",d)}if(r&&("mouseover"===e.type||sf.base.Browser.isDevice||this.showItemOnClick)){var h=void 0;if(i.classList.contains(N))h=t.children[this.navIdx.length-1],this.toggleAnimation(h),(f=this.getLIByClass(h,E))&&f.classList.remove(E),sf.base.detach(i.parentNode),this.navIdx.pop();else if(!i.classList.contains("e-separator")){this.showSubMenu=!0;var c=i.parentNode;if(this.cliIdx=this.getIdx(c,i),this.isMenu||!sf.base.Browser.isDevice){var f,p=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),sf.base.closest(c,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,c);if(this.navIdx[p]===this.cliIdx&&(this.showSubMenu=!1),p!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu))(f=this.getLIByClass(c,E))&&f.classList.remove(E),this.isClosed=!0,this.keyType="click",this.closeMenu(p+1,e),this.setLISelected(i)}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===s.tagName&&this.navIdx.length&&sf.base.closest(s,".e-menu-vscroll")){var u=sf.base.closest(s,"."+S),b=Array.prototype.indexOf.call(this.getPopups(),u)+1;b<this.navIdx.length&&(this.closeMenu(b+1,e),this.removeLIStateByClass([C,E],[u]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===s.tagName&&s.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===s.tagName&&(this.isMenu?!s.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(s.querySelector("."+x).id,!0).length:s.parentElement===t)||(i||this.removeLIStateByClass([E],[t]),i&&i.querySelector(".e-caret")||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){if(this.showSubMenu){var t=this.navIdx.concat(this.cliIdx),s=this.getItem(t);s&&s[this.getField("children",t.length-1)]&&s[this.getField("children",t.length-1)].length?(("mouseover"===e.type||sf.base.Browser.isDevice&&this.isMenu)&&this.setLISelected(this.cli),this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,s,null,null,e)):"mouseover"!==e.type&&this.closeMenu(null,e)}this.keyType=""},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,E);t&&t.classList.remove(E),this.isMenu||e.classList.remove(C),e.classList.add(E)},t.prototype.getLIByClass=function(e,t){for(var s=0,i=e.children.length;s<i;s++)if(e.children[s].classList.contains(t))return e.children[s];return null},t.prototype.getItemIndex=function(e,t){var s;s="string"==typeof e?e:e.id;var i=!1!==t;return this.getIndex(s,i)},t.prototype.setItem=function(e,t,s){var i=t||e.id,n=!1!==s,a=this.getIndex(i,n),r=this.getItem(a);r.iconCss=e.iconCss,r.id=e.id,r.text=e.text,r.url=e.url,r.separator=e.separator,r.items=e.items},t.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,s=0;s<e.length;s++)t=t[e[s]][this.getField("children",s)];return t},t.prototype.setItems=function(e,t){var s=this.getItems(t);s.splice(0,s.length);for(var i=0;i<e.length;i++)s.splice(i,0,e[i])},t.prototype.getIdx=function(e,t,s){void 0===s&&(s=!0);var i=Array.prototype.indexOf.call(e.querySelectorAll("li"),t);return i=this.isMenu&&this.template&&sf.base.isBlazor()?Array.prototype.indexOf.call(e.querySelectorAll(t.tagName),t):Array.prototype.indexOf.call(e.children,t),s&&e.children[0].classList.contains(N)&&i--,i},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:sf.base.closest(e,"li.e-menu-item")},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var s=this,i=this.getWrapper(),n=function(n){switch(n){case"cssClass":t.cssClass&&sf.base.removeClass([i],t.cssClass.split(" ")),e.cssClass&&sf.base.addClass([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":a.unWireEvents(),a.showItemOnClick=e.showItemOnClick,a.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var r;a.element.classList.contains("e-vertical")?a.addScrolling(i,a.element,"vscroll",i.offsetHeight,a.element.offsetHeight):a.addScrolling(i,a.element,"hscroll",i.offsetWidth,a.element.offsetWidth),a.getPopups().forEach((function(e){r=sf.base.select(".e-ul",e),s.addScrolling(e,r,"vscroll",e.offsetHeight,r.offsetHeight)}))}else{var l=i.children[0];a.element.classList.contains("e-vertical")?a.destroyScrollObj(sf.base.getInstance(l,v),l):a.destroyScrollObj(sf.base.getInstance(l,u),l),i.style.overflow="",i.appendChild(a.element),a.getPopups().forEach((function(e){l=e.children[0],s.destroyScrollObj(sf.base.getInstance(l,v),l),e.style.overflow=""}))}break;case"items":var o=void 0,d=void 0,h=void 0;if(Object.keys(t.items).length){var c=Object.keys(e.items);for(p=0;p<c.length;p++)(d=a.getChangedItemIndex(e,[],Number(c[p]))).length<=a.getWrapper().children.length&&(o=d.pop(),h=a.getItems(d),a.insertAfter([h[o]],h[o].text),a.removeItem(h,d,o),a.setItems(h,d)),d.length=0}else{var f=a.element;sf.base.isBlazor()?f=a.removeChildElement(a.element):f.innerHTML="",[].slice.call(a.createItems(a.items).children).forEach((function(e){f.appendChild(e)}));for(var p=1,b=i.childElementCount;p<b;p++)sf.base.detach(i.lastElementChild);a.navIdx=[]}}},a=this,r=0,l=Object.keys(e);r<l.length;r++){n(l[r])}},t.prototype.getChangedItemIndex=function(e,t,s){t.push(s);var i=Object.keys(e.items[s]).pop();if("items"===i){var n=e.items[s],a=Object.keys(n.items).pop();a&&this.getChangedItemIndex(n,t,Number(a))}else"isParentArray"===i&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,s){e.splice(s,1);var i=this.getWrapper().children;t.length<i.length&&sf.base.detach(i[t.length].children[s])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var s=void 0,i=void 0,n=sf.base.selectAll(e),a=0,r=n.length;a<r;a++)s=n[a],this.isMenu?sf.base.EventHandler.remove(s,"click",this.menuHeaderClickHandler):sf.base.Browser.isIos?(i=sf.base.getInstance(s,sf.base.Touch))&&i.destroy():sf.base.EventHandler.remove(s,"contextmenu",this.cmenuHandler);if(!this.isMenu){sf.base.EventHandler.remove(this.targetElement,"scroll",this.scrollHandler);for(var l=0,o=sf.popups.getScrollableParent(this.targetElement);l<o.length;l++){var d=o[l];sf.base.EventHandler.remove(d,"scroll",this.scrollHandler)}}}sf.base.Browser.isDevice||(sf.base.EventHandler.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),sf.base.EventHandler.remove(document,"mousedown",this.delegateMouseDownHandler)),sf.base.EventHandler.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=sf.base.getInstance(e,sf.base.KeyboardEvents);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var s,i,n=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){n.hamburgerMode?(i=e.element.parentElement,e.element.style.position="absolute",s=i.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",i.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){n.hamburgerMode&&(i.style.minHeight=s+e.element.offsetHeight+"px")},end:function(e){n.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",i.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),n.triggerOpen(e.element.children[0])):n.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,s={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",s)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+C))e.querySelector("."+C).focus();else{var s=void 0;(s=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1])?s.querySelector("."+E).focus():this.element.focus()}else if(e===this.element){var i=this.getLIByClass(this.element,C);i&&i.classList.remove(C);var n=this.getLIByClass(this.element,E);n&&n.classList.remove(E),e.style.display="none"}else sf.base.detach(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return sf.base.closest(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,s,i,n,a){var r;void 0===s&&(s=this.items),void 0===i&&(i=[]),void 0===n&&(n=!1),void 0===a&&(a=0),a=n?a+1:0;for(var l=0,o=s.length;l<o;l++){if(r=s[l],(t?r[this.getField("itemId",a)]:r[this.getField("text",a)])===e){i.push(l);break}if(r[this.getField("children",a)]&&r[this.getField("children",a)].length){if(-1!==(i=this.getIndex(e,t,r[this.getField("children",a)],i,!0,a))[i.length-1]){i.unshift(l);break}l!==o-1&&i.pop()}else l===o-1&&i.push(-1)}return n||-1!==i[0]?i:[]},t.prototype.enableItems=function(e,t,s){var i,n,a;void 0===t&&(t=!0);for(var r,l="e-disabled",o=0;o<e.length;o++){if(a=this.getIndex(e[o],s),this.navIdx.length){if(1!==a.length){r=!1;for(var d=0,h=a.length-1;d<h;d++)if(a[d]!==this.navIdx[d]){r=!0;break}if(r)continue}}else if(1!==a.length)continue;n=a.pop(),(i=this.getUlByNavIdx(a.length))&&(t?this.isMenu?(i.children[n].classList.remove(l),i.children[n].removeAttribute("aria-disabled")):sf.base.Browser.isDevice&&!i.classList.contains("e-contextmenu")?i.children[n+1].classList.remove(l):i.children[n].classList.remove(l):this.isMenu?(i.children[n].classList.add(l),i.children[n].setAttribute("aria-disabled","true")):sf.base.Browser.isDevice&&!i.classList.contains("e-contextmenu")?i.children[n+1].classList.add(l):i.children[n].classList.add(l))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,s){for(var i,n,a,r=0;r<e.length;r++)n=(a=this.getIndex(e[r],s)).pop(),(i=this.getUlByNavIdx(a.length))&&(t?sf.base.Browser.isDevice&&!i.classList.contains("e-contextmenu")?i.children[n+1].classList.add(O):i.children[n].classList.add(O):sf.base.Browser.isDevice&&!i.classList.contains("e-contextmenu")?i.children[n+1].classList.remove(O):i.children[n].classList.remove(O))},t.prototype.removeItems=function(e,t){for(var s,i,n,a=0;a<e.length;a++)s=(i=this.getIndex(e[a],t)).pop(),n=this.getItems(i),this.removeItem(n,i,s)},t.prototype.insertAfter=function(e,t,s){this.insertItems(e,t,s)},t.prototype.insertBefore=function(e,t,s){this.insertItems(e,t,s,!1)},t.prototype.insertItems=function(e,t,s,i){var n,a,r,l,o;void 0===i&&(i=!0);for(var d=0;d<e.length;d++){a=(r=this.getIndex(t,s)).pop(),l=this.getItems(r),o=new k(l[0],"items",e[d],!0),l.splice(i?a+1:a,0,o);var h=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(r.length<h.length){a=i?a+1:a,this.hasField(l,this.getField("iconCss",r.length-1)),n=this.createItems(l).children[a];var c=this.isMenu?sf.base.select(".e-menu-parent",h[r.length]):h[r.length];c.insertBefore(n,c.children[a])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),sf.base.isBlazor()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t);else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)sf.base.addClass([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var s=this.clonedElement.nextElementSibling;s&&s!==t?this.clonedElement.parentElement.insertBefore(this.element,s):this.clonedElement.parentElement.appendChild(this.element),sf.base.isBlazor()?this.element=this.removeChildElement(this.element):this.element.innerHTML="",sf.base.append([].slice.call(this.clonedElement.children),this.element),sf.base.detach(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(sf.base.detach(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):sf.base.detach(t),e.prototype.destroy.call(this)}},y([sf.base.Event()],t.prototype,"beforeItemRender",void 0),y([sf.base.Event()],t.prototype,"beforeOpen",void 0),y([sf.base.Event()],t.prototype,"onOpen",void 0),y([sf.base.Event()],t.prototype,"beforeClose",void 0),y([sf.base.Event()],t.prototype,"onClose",void 0),y([sf.base.Event()],t.prototype,"select",void 0),y([sf.base.Event()],t.prototype,"created",void 0),y([sf.base.Property("")],t.prototype,"cssClass",void 0),y([sf.base.Property(!1)],t.prototype,"showItemOnClick",void 0),y([sf.base.Property("")],t.prototype,"target",void 0),y([sf.base.Property("")],t.prototype,"filter",void 0),y([sf.base.Property(null)],t.prototype,"template",void 0),y([sf.base.Property(!1)],t.prototype,"enableScrolling",void 0),y([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),y([sf.base.Complex({},w)],t.prototype,"fields",void 0),y([sf.base.Collection([],k)],t.prototype,"items",void 0),y([sf.base.Complex({},L)],t.prototype,"animationSettings",void 0),t=y([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),A=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),D=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},P="e-toolbar-items",M="e-blazor-toolbar-items",H="e-toolbar-item",U="e-toolbar-popup",T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),D([sf.base.Property("")],t.prototype,"id",void 0),D([sf.base.Property("")],t.prototype,"text",void 0),D([sf.base.Property("auto")],t.prototype,"width",void 0),D([sf.base.Property("")],t.prototype,"cssClass",void 0),D([sf.base.Property(!1)],t.prototype,"showAlwaysInPopup",void 0),D([sf.base.Property(!1)],t.prototype,"disabled",void 0),D([sf.base.Property("")],t.prototype,"prefixIcon",void 0),D([sf.base.Property("")],t.prototype,"suffixIcon",void 0),D([sf.base.Property(!0)],t.prototype,"visible",void 0),D([sf.base.Property("None")],t.prototype,"overflow",void 0),D([sf.base.Property("")],t.prototype,"template",void 0),D([sf.base.Property("Button")],t.prototype,"type",void 0),D([sf.base.Property("Both")],t.prototype,"showTextOn",void 0),D([sf.base.Property(null)],t.prototype,"htmlAttributes",void 0),D([sf.base.Property("")],t.prototype,"tooltipText",void 0),D([sf.base.Property("Left")],t.prototype,"align",void 0),D([sf.base.Event()],t.prototype,"click",void 0),t}(sf.base.ChildProperty),B=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.resizeContext=i.resize.bind(i),i.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},i}return A(t,e),t.prototype.destroy=function(){var t=this;if(e.prototype.destroy.call(this),this.unwireEvents(),this.tempId.forEach((function(e){sf.base.isNullOrUndefined(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")})),sf.base.isBlazor()&&this.isServerRendered)this.resetServerItems();else{var s=this.element.querySelectorAll(".e-control");[].slice.call(s).forEach((function(e){var t=e.ej2_instances;if(t){var s=t[0];s&&s.destroy()}}))}for(;this.element.lastElementChild&&!this.element.lastElementChild.classList.contains(M);)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&sf.base.removeClass([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach((function(e){return t.element.removeAttribute(e)}))},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")},t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),sf.base.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(sf.base.EventHandler.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!sf.base.isNullOrUndefined(this.popObj)&&sf.base.isVisible(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){sf.base.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),sf.base.EventHandler.remove(document,"scroll",this.docEvent),sf.base.EventHandler.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=sf.base.closest(e.target,".e-popup");this.popObj&&sf.base.isVisible(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){[].slice.call(this.element.querySelectorAll("."+H)).forEach((function(e){sf.base.detach(e)}));var e=this.element.querySelector("."+P);this.tbarAlign&&([].slice.call(e.children).forEach((function(e){sf.base.detach(e)})),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")),this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&sf.base.isVisible(this.popObj.element)?this.popObj.element.querySelector("."+H):this.element===t||e?this.element.querySelector("."+H+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):sf.base.closest(t,"."+H)},t.prototype.keyHandling=function(e,t,s,i,n){var a=this.popObj,r=this.element,l={name:"FadeOut",duration:100};switch(t.action){case"moveRight":if(this.isVertical)return;r===s?this.elementFocus(e):i||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;i||this.eleFocus(e,"previous");break;case"home":case"end":var o=void 0,d=void 0;if(e){var h=sf.base.closest(e,".e-popup");h?sf.base.isVisible(this.popObj.element)&&(d=[].slice.call(h.children),o="home"===t.action?d[0]:d[d.length-1]):(d=this.element.querySelectorAll("."+P+" ."+H),o="home"===t.action?d[0]:d[d.length-1]),o&&this.elementFocus(o)}break;case"moveUp":case"moveDown":var c="moveUp"===t.action?"previous":"next";if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(a&&sf.base.closest(s,".e-popup")){var f=a.element,p=f.firstElementChild;if("previous"===c&&p===e||"next"===c&&f.lastElementChild===e)return;this.eleFocus(e,c)}else"moveDown"===t.action&&a&&sf.base.isVisible(a.element)&&this.elementFocus(e);break;case"tab":if(!n&&!i){var u=e.firstElementChild;r===s&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(u),u.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(l);break;case"popupOpen":if(!i)return;a&&!sf.base.isVisible(a.element)?(a.element.style.top=r.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(l)}},t.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains("e-overlay")){var s;e.preventDefault();var i=t.classList.contains("e-hor-nav"),n=t.classList.contains("e-scroll-nav");((s=this.clstElement(i,t))||n)&&this.keyHandling(s,e,t,i,n)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(sf.base.isVisible(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!sf.base.isVisible(e)},t.prototype.eleFocus=function(e,t){var s=Object(e)[t+"ElementSibling"];if(s){if(this.eleContains(s))return void this.eleFocus(s,t);this.elementFocus(s)}else if(this.tbarAlign){var i=Object(e.parentElement)[t+"ElementSibling"];if(sf.base.isNullOrUndefined(i)||0!==i.children.length||(i=Object(i)[t+"ElementSibling"]),!sf.base.isNullOrUndefined(i)&&i.children.length>0)if("next"===t){var n=i.querySelector("."+H);this.eleContains(n)?this.eleFocus(n,t):(n.firstElementChild.focus(),this.activeEleSwitch(n))}else{n=i.lastElementChild;this.eleContains(n)?this.eleFocus(n,t):this.elementFocus(n)}}},t.prototype.clickHandler=function(e){var t,s=this,i=e.target,n=i.classList,a=this.element,r=!sf.base.isNullOrUndefined(sf.base.closest(i,".e-toolbar-pop")),l=sf.base.closest(i,".e-hor-nav");l||(l=i),a.children[0].classList.contains("e-hscroll")||a.children[0].classList.contains("e-vscroll")||!n.contains("e-hor-nav")||(n=i.querySelector(".e-icons").classList),(n.contains("e-popup-up-icon")||n.contains("e-popup-down-icon"))&&this.popupClickHandler(a,l,"e-rtl");var o=sf.base.closest(e.target,"."+H);if(!sf.base.isNullOrUndefined(o)&&!o.classList.contains("e-overlay")||l.classList.contains("e-hor-nav")){if(o){var d=this.items[this.tbarEle.indexOf(o)];t=d&&sf.base.isBlazor()&&this.isServerRendered?{id:d.id,text:d.text,width:d.width,cssClass:d.cssClass,showAlwaysInPopup:d.showAlwaysInPopup,disabled:d.disabled,prefixIcon:d.prefixIcon,suffixIcon:d.suffixIcon,visible:d.visible,overflow:d.overflow,template:d.template,type:d.type,showTextOn:d.showTextOn,htmlAttributes:d.htmlAttributes,tooltipText:d.tooltipText,align:d.align,click:d.click}:d}var h={originalEvent:e,item:t};t&&!sf.base.isNullOrUndefined(t.click)&&this.trigger("items["+this.tbarEle.indexOf(o)+"].click",h),h.cancel||this.trigger("clicked",h,(function(e){!sf.base.isNullOrUndefined(s.popObj)&&r&&!e.cancel&&"Popup"===s.overflowMode&&e.item&&"Input"!==e.item.type&&s.popObj.hide({name:"FadeOut",duration:100})}))}},t.prototype.popupClickHandler=function(e,t,s){var i=this.popObj;sf.base.isVisible(i.element)?(t.classList.remove("e-nav-active"),i.hide({name:"FadeOut",duration:100})):(e.classList.contains(s)&&(i.enableRtl=!0,i.position={X:"left",Y:"top"}),0!==i.offsetX||e.classList.contains(s)||(i.enableRtl=!1,i.position={X:"right",Y:"top"}),i.dataBind(),i.refreshPosition(),i.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="0px"),t.classList.add("e-nav-active"),i.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=sf.base.formatUnit(this.width),t=sf.base.formatUnit(this.height);"msie"===sf.base.Browser.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||sf.base.setStyleAttribute(this.element,{height:t}),sf.base.setStyleAttribute(this.element,{width:e});var s={role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};sf.base.attributes(this.element,s),this.cssClass&&sf.base.addClass([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0&&!sf.base.isBlazor()&&!this.isServerRendered?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){var s,i;this.tbarEle||(this.tbarEle=[]);for(var n=0;n<e.length;n++){if(sf.base.isBlazor()&&this.isServerRendered){if(this.isVertical=!!this.element.classList.contains("e-vertical"),!(s=this.element.querySelector("."+M).querySelector("."+H+'[data-index="'+n+'"]')))continue;"Show"!==e[n].overflow&&e[n].showAlwaysInPopup&&!s.classList.contains("e-separator")&&this.popupPriCount++,e[n].htmlAttributes&&this.setAttr(e[n].htmlAttributes,s),"Button"===e[n].type&&(sf.base.EventHandler.clearEvents(s),sf.base.EventHandler.add(s,"click",this.itemClick,this))}else s=this.renderSubComponent(e[n],n);-1===this.tbarEle.indexOf(s)&&this.tbarEle.push(s),this.tbarAlign||this.tbarItemAlign(e[n],t,n),(i=t.querySelector(".e-toolbar-"+e[n].align.toLowerCase()))?(e[n].showAlwaysInPopup&&"Show"!==e[n].overflow||this.tbarAlgEle[(e[n].align+"s").toLowerCase()].push(s),i.appendChild(s)):t.appendChild(s)}},t.prototype.serverItemsRerender=function(){this.destroyMode(),this.resetServerItems(),this.serverItemsRefresh()},t.prototype.serverItemsRefresh=function(){this.element.querySelector("."+M).children.length>0&&(this.itemsAlign(this.items,this.element.querySelector("."+P)),this.renderLayout(),this.refreshOverflow())},t.prototype.resetServerItems=function(){var e=this.element.querySelector("."+M),t=[].slice.call(sf.base.selectAll("."+P+" ."+H,this.element));sf.base.append(t,e),this.clearProperty()},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(this.height),width:sf.base.formatUnit(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+P+" .e-toolbar-center").removeAttribute("style"),this.isVertical?this.scrollModule=new v({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new u({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,"e-tbar-pos"),sf.base.setStyleAttribute(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var t,s=this,i=0;return[].slice.call(sf.base.selectAll("."+H,e)).forEach((function(e){sf.base.isVisible(e)&&(t=window.getComputedStyle(e),i+=s.isVertical?e.offsetHeight:e.offsetWidth,i+=parseFloat(s.isVertical?t.marginTop:t.marginRight),i+=parseFloat(s.isVertical?t.marginBottom:t.marginLeft))})),i},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if(sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(t)||!sf.base.isVisible(e))return!1;var s=this.isVertical?e.offsetHeight:e.offsetWidth,i=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||s===i)&&(i=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var n=e.querySelector(".e-hor-nav"),a=e.querySelector(".e-scroll-nav"),r=0;return n?r=this.isVertical?n.offsetHeight:n.offsetWidth:a&&(r=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),i>s-r},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,"e-tbar-pos"),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+P),s=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===sf.base.Browser.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":sf.base.isNullOrUndefined(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(P)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||s)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,"e-toolbar-multirow"),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==sf.base.Browser.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,t)||s)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(sf.base.selectAll("."+P+" ."+H,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")},t.prototype.separator=function(){var e,t=this.element,s=[].slice.call(t.querySelectorAll(".e-separator")),i=t.querySelector(".e-multirow-separator"),n=t.querySelector(".e-extended-separator");null!==(e="MultiRow"===this.overflowMode?i:n)&&("MultiRow"===this.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&e.classList.remove("e-extended-separator"));for(var a=0;a<=s.length-1;a++)s[a].offsetLeft<30&&0!==s[a].offsetLeft&&("MultiRow"===this.overflowMode?s[a].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&s[a].classList.add("e-extended-separator"))},t.prototype.createPopupEle=function(e,t){var s=e.querySelector(".e-hor-nav"),i=this.isVertical;s||this.createPopupIcon(e),s=e.querySelector(".e-hor-nav");var n=i?s.offsetHeight:s.offsetWidth,a=(i?e.offsetHeight:e.offsetWidth)-n;this.element.classList.remove("e-rtl"),sf.base.setStyleAttribute(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,s,i,n){var a=e.element,r=sf.base.selectAll(".e-overflow-show",s),l=0,o=[].slice.call(sf.base.selectAll("."+U,a.querySelector("."+P))),d=0;o.forEach((function(a,o){r=sf.base.selectAll(".e-overflow-show",s),a.classList.contains("e-overflow-show")&&r.length>0?e.tbResize&&r.length>o?(s.insertBefore(a,r[o]),++d):(s.insertBefore(a,s.children[r.length]),++d):a.classList.contains("e-overflow-show")||e.tbResize&&a.classList.contains("e-overflow-hide")&&s.children.length>0&&0===r.length?(s.insertBefore(a,s.firstChild),++d):a.classList.contains("e-overflow-hide")?t.push(a):e.tbResize?(s.insertBefore(a,s.childNodes[l+d]),++l):s.appendChild(a),a.classList.contains("e-separator")?sf.base.setStyleAttribute(a,{display:"",height:n+"px"}):sf.base.setStyleAttribute(a,{display:"",height:i+"px"})})),t.forEach((function(e){s.appendChild(e)}));for(var h=sf.base.selectAll("."+H,a.querySelector("."+P)),c=h.length-1;c>=0;c--){var f=h[c];if(!f.classList.contains("e-separator")||"Extended"===this.overflowMode)break;sf.base.setStyleAttribute(f,{display:"none"})}},t.prototype.createPopup=function(){var e,t,s,i,n,a=this.element;"Extended"===this.overflowMode&&(i=a.querySelector(".e-separator:not(."+U+")"),s="auto"===a.style.height||""===a.style.height?null:i.offsetHeight),t=a.querySelector("."+H+":not(.e-separator):not(."+U+")"),e="auto"===a.style.height||""===a.style.height?null:t&&t.offsetHeight;if(a.querySelector("#"+a.id+"_popup.e-toolbar-pop"))n=a.querySelector("#"+a.id+"_popup.e-toolbar-pop");else{var r=this.createElement("div",{id:a.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),l=this.createElement("div",{id:a.id+"_popup",className:"e-toolbar-pop"});n="Extended"===this.overflowMode?r:l}this.pushingPoppedEle(this,[],n,e,s),this.popupInit(a,n)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var s=this.popObj.element;sf.base.setStyleAttribute(s,{maxHeight:"",display:"block"}),sf.base.setStyleAttribute(s,{maxHeight:s.offsetHeight+"px",display:""})}else{e.appendChild(t),sf.base.setStyleAttribute(this.element,{overflow:""});var i=window.getComputedStyle(this.element),n=new sf.popups.Popup(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(n.appendTo(t),"Extended"===this.overflowMode&&(n.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),n.offsetX=0),sf.base.EventHandler.add(document,"scroll",this.docEvent.bind(this)),sf.base.EventHandler.add(document,"click ",this.docEvent.bind(this)),n.element.style.maxHeight=n.element.offsetHeight+"px",this.isVertical&&(n.element.style.visibility="hidden"),this.isExtendedOpen){var a=this.element.querySelector(".e-hor-nav");a.classList.add("e-nav-active"),sf.base.classList(a.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else n.hide();this.popObj=n,this.element.setAttribute("aria-haspopup","true")}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var s=this.popObj.element,i=this.popObj.element.parentElement,n=i.querySelector(".e-hor-nav");sf.base.setStyleAttribute(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var a=s.offsetTop+s.offsetHeight+sf.popups.calculatePosition(i).top,r=n.firstElementChild;n.classList.add("e-nav-active"),sf.base.classList(r,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);var l=sf.base.isNullOrUndefined(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+l<a&&this.element.offsetTop<s.offsetHeight){var o=s.offsetHeight-(a-window.innerHeight-l+5);t.height=o+"px";for(var d=0;d<=s.childElementCount;d++){var h=s.children[d];if(h.offsetTop+h.offsetHeight>o){o=h.offsetTop;break}}sf.base.setStyleAttribute(t.element,{maxHeight:o+"px"})}else if(this.isVertical){var c=this.element.getBoundingClientRect();sf.base.setStyleAttribute(t.element,{maxHeight:c.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}t&&t.refreshPosition()},t.prototype.popupClose=function(e){var t=this.element.querySelector(".e-hor-nav"),s=t.firstElementChild;t.classList.remove("e-nav-active"),sf.base.classList(s,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,s,i){for(var n,a=this.popupPriCount>0,r=s,l=0,o=0,d=0,h=function(e,t){var s=!1;return t.forEach((function(t){e.classList.contains(t)&&(s=!0)})),s},c=t.length-1;c>=0;c--){var f=void 0,p=window.getComputedStyle(t[c]);this.isVertical?(f=parseFloat(p.marginTop),f+=parseFloat(p.marginBottom)):(f=parseFloat(p.marginRight),f+=parseFloat(p.marginLeft));var u=t[c]===this.tbarEle[0];u&&(this.tbarEleMrgn=f),n=this.isVertical?t[c].offsetHeight:t[c].offsetWidth;var b=u?n+f:n;if(h(t[c],["e-popup-alone"])&&a&&(t[c].classList.add(U),this.isVertical?sf.base.setStyleAttribute(t[c],{display:"none",minHeight:b+"px"}):sf.base.setStyleAttribute(t[c],{display:"none",minWidth:b+"px"}),d++),this.isVertical?t[c].offsetTop+t[c].offsetHeight+f>s:t[c].offsetLeft+t[c].offsetWidth+f>s){if(t[c].classList.contains("e-separator")){if("Extended"===this.overflowMode){if(o===d)h(m=t[c],["e-separator","e-ignore"])&&(t[c].classList.add(U),d++);o++}else if("Popup"===this.overflowMode){var m;if(l>0&&o===d)h(m=t[c+o+(l-1)],["e-separator","e-ignore"])&&sf.base.setStyleAttribute(m,{display:"none"});l++,o=0,d=0}}else o++;t[c].classList.contains("e-overflow-show")&&i||h(t[c],["e-separator","e-ignore"])?s-=(this.isVertical?t[c].offsetHeight:t[c].offsetWidth)+f:(t[c].classList.add(U),this.isVertical?sf.base.setStyleAttribute(t[c],{display:"none",minHeight:b+"px"}):sf.base.setStyleAttribute(t[c],{display:"none",minWidth:b+"px"}),d++)}}if(i){var v=sf.base.selectAll("."+H+":not(."+U+")",this.element);this.checkPriority(e,v,r,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-hor-nav");s="Extended"===this.overflowMode?s+" e-expended-nav":s;var i=this.createElement("div",{id:t,className:s});"msie"!==sf.base.Browser.info.name&&"edge"!==sf.base.Browser.info.name||i.classList.add("e-ie-align");var n=this.createElement("div",{className:"e-popup-down-icon e-icons"});i.appendChild(n),i.setAttribute("tabindex","0"),i.setAttribute("role","list"),e.appendChild(i)},t.prototype.tbarPriRef=function(e,t,s,i,n,a,r,l){var o=l,d=this.popObj.element,h=sf.base.selectAll("."+U+":not(.e-overflow-show)",d).length,c=function(e,t){return e.classList.contains(t)};if(0===sf.base.selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var f=e.children[t-(t-s)-1],p=!sf.base.isNullOrUndefined(f)&&c(f,"e-ignore");if(!sf.base.isNullOrUndefined(f)&&c(f,"e-separator")&&!sf.base.isVisible(f)||p){f.style.display="inherit";var u=f.offsetWidth+2*parseFloat(window.getComputedStyle(f).marginRight),b=f.previousElementSibling;a+u<r||n?(e.insertBefore(i,e.children[t+o-(t-s)]),sf.base.isNullOrUndefined(b)||(b.style.display="")):b.classList.contains("e-separator")&&(b.style.display="none"),f.style.display=""}else e.insertBefore(i,e.children[t+o-(t-s)])}else e.insertBefore(i,e.children[t+o-h])},t.prototype.popupRefresh=function(e,t){var s=this,i=this.element,n=this.isVertical,a=i.querySelector(".e-hor-nav"),r=i.querySelector("."+P);if(!sf.base.isNullOrUndefined(a)){var l;r.removeAttribute("style"),e.style.display="block",l=n?i.offsetHeight-(a.offsetHeight+r.offsetHeight):i.offsetWidth-(a.offsetWidth+r.offsetWidth);var o=0;[].slice.call(e.children).forEach((function(e){o+=s.popupEleWidth(e),sf.base.setStyleAttribute(e,{position:""})})),l+(n?a.offsetHeight:a.offsetWidth)>o&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(l,e,t),e.style.display="",0===e.children.length&&a&&this.popObj&&(sf.base.detach(a),a=null,this.popObj.destroy(),sf.base.detach(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}},t.prototype.ignoreEleFetch=function(e,t){var s=[].slice.call(t.querySelectorAll(".e-ignore")),i=[],n=0;return s.length>0?(s.forEach((function(e){i.push([].slice.call(t.children).indexOf(e))})),i.forEach((function(t){t<=e&&n++})),n):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var s=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var i=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,n=e.querySelector("."+P).offsetWidth;return t.style.removeProperty("display"),i>s+n},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,s=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){var i=e.children[0];!sf.base.isNullOrUndefined(s)&&e.classList.contains("e-popup-text")?s.style.display="none":!sf.base.isNullOrUndefined(s)&&e.classList.contains("e-toolbar-text")&&(s.style.display="block"),i.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),i.style.minWidth="",i.style.minHeight="",sf.base.isNullOrUndefined(s)||(s.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,s){for(var i,n,a=this.popupPriCount>0,r=this.tbarEle,l=this.element.querySelector("."+P),o=0,d=function(t){if(t.classList.contains("e-popup-alone")&&a&&!s)return"continue";var d=h.popupEleWidth(t);if(t===h.tbarEle[0]&&(d+=h.tbarEleMrgn),t.style.position="",!(d<e||s))return"break";if(sf.base.setStyleAttribute(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains("e-overflow-hide")||t.classList.remove(U),n=h.tbarEle.indexOf(t),h.tbarAlign){var c=h.items[n].align;n=h.tbarAlgEle[(c+"s").toLowerCase()].indexOf(t),r=h.tbarAlgEle[(c+"s").toLowerCase()],l=h.element.querySelector("."+P+" .e-toolbar-"+c.toLowerCase())}var f=0;"Extended"!==h.overflowMode&&r.slice(0,n).forEach((function(t){(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),f++)})),o=h.ignoreEleFetch(n,l),t.classList.contains("e-overflow-show")?(h.tbarPriRef(l,n,f,t,s,d,e,o),e-=t.offsetWidth):0===n?(l.insertBefore(t,l.firstChild),e-=t.offsetWidth):(i=sf.base.selectAll(".e-overflow-show",h.popObj.element).length,l.insertBefore(t,l.children[n+o-i]),e-=t.offsetWidth),t.style.height=""},h=this,c=0,f=[].slice.call(t.children);c<f.length;c++){if("break"===d(f[c]))break}this.checkOverflow(this.element,this.element.getElementsByClassName(P)[0])&&!s&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+P);if(!sf.base.isNullOrUndefined(e)&&e.classList.contains("e-tbar-pos")){this.remove(e,"e-tbar-pos");var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+P);this.add(e,"e-tbar-pos"),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t=this.element.querySelector("."+P);if(!sf.base.isNullOrUndefined(t)&&t.classList.contains("e-tbar-pos")){var s,i=this.element.querySelector(".e-hor-nav");if(this.scrollModule){var n=this.isVertical?"e-vscroll-content":"e-hscroll-content";s=[].slice.call(t.querySelector("."+n).children)}else s=[].slice.call(t.childNodes);e=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){a-=this.isVertical?i.offsetHeight:i.offsetWidth;var r=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=r:s[2].style.bottom=r:this.enableRtl?s[2].style.left=r:s[2].style.right=r}if(!(a<=e)){var l=(a-e-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var o=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+l+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=o:s[1].style.marginTop=o:this.enableRtl?s[1].style.marginRight=o:s[1].style.marginLeft=o}}},t.prototype.tbarItemAlign=function(e,t,s){var i=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var n=[];if(n.push(this.createElement("div",{className:"e-toolbar-left"})),n.push(this.createElement("div",{className:"e-toolbar-center"})),n.push(this.createElement("div",{className:"e-toolbar-right"})),0===s&&"Left"!==e.align)n.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){var a=t.childNodes,r=n[0];[].slice.call(a).forEach((function(e){i.tbarAlgEle.lefts.push(e),r.appendChild(e)})),t.appendChild(r),t.appendChild(n[1]),t.appendChild(n[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,P),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach((function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),t.setAttribute("aria-disabled","false"),e.add(t,H))}))},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var s=void 0;e&&e.children.length>0&&(s=e.querySelector("."+P)),s||(s=this.createElement("div",{className:P})),this.itemsAlign(t,s),e.appendChild(s)}},t.prototype.setAttr=function(e,t){for(var s,i=Object.keys(e),n=0;n<i.length;n++)"class"===(s=i[n])?this.add(t,e[s]):t.setAttribute(s,e[s])},t.prototype.enableItems=function(e,t){var s,i=e,n=i.length;sf.base.isNullOrUndefined(t)&&(t=!0);var a=function(e,t){e?(t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),t.setAttribute("aria-disabled","true"))};if(!sf.base.isNullOrUndefined(n)&&n>=1){for(var r=0,l=[].slice.call(i);r<n;r++){var o=l[r];if("number"==typeof o){if(s=this.getElementByIndex(o),sf.base.isNullOrUndefined(s))return;i[r]=s}else s=o;a(t,s)}t?sf.base.removeClass(i,"e-overlay"):sf.base.addClass(i,"e-overlay")}else{if("number"==typeof i){if(s=this.getElementByIndex(i),sf.base.isNullOrUndefined(s))return}else s=e;a(t,s)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[e]?this.tbarEle[e]:null},t.prototype.addItems=function(e,t){var s;this.extendedOpen();var i=this.element.querySelector("."+P);if(sf.base.isNullOrUndefined(i))this.itemsRerender(e);else{var n,a="Left";sf.base.isNullOrUndefined(t)&&(t=0),e.forEach((function(e){sf.base.isNullOrUndefined(e.align)||"Left"===e.align||"Left"!==a||(a=e.align)}));for(var r=0,l=e;r<l.length;r++){var o=l[r];if(sf.base.isNullOrUndefined(o.type)&&(o.type="Button"),s=sf.base.selectAll("."+H,this.element),o.align=a,n=this.renderSubComponent(o,t),this.tbarEle.length>=t&&s.length>=0){sf.base.isNullOrUndefined(this.scrollModule)&&this.destroyMode();var d="L"===o.align[0]?0:"C"===o.align[0]?1:2,h=void 0;this.tbarAlign||"Left"===a?this.tbarAlign?((h=sf.base.closest(s[0],"."+P).children[d]).insertBefore(n,h.children[t]),this.tbarAlgEle[(o.align+"s").toLowerCase()].splice(t,0,n),this.refreshPositioning()):0===s.length?(s=sf.base.selectAll("."+P,this.element))[0].appendChild(n):s[0].parentNode.insertBefore(n,s[t]):(this.tbarItemAlign(o,i,1),this.tbarAlign=!0,(h=sf.base.closest(s[0],"."+P).children[d]).appendChild(n),this.tbarAlgEle[(o.align+"s").toLowerCase()].push(n),this.refreshPositioning()),this.items.splice(t,0,o),this.tbarEle.splice(t,0,n),t++,this.offsetWid=i.offsetWidth}}i.style.width="",this.renderOverflowMode()}},t.prototype.removeItems=function(e){var t,s=e,i=[].slice.call(sf.base.selectAll("."+H,this.element));if("number"==typeof s)t=parseInt(e.toString(),10),this.removeItemByIndex(t,i);else if(s&&s.length>1)for(var n=0,a=[].slice.call(s);n<a.length;n++){var r=a[n];t=this.tbarEle.indexOf(r),this.removeItemByIndex(t,i),i=sf.base.selectAll("."+H,this.element)}else{r=s&&s.length&&1===s.length?s[0]:e;t=i.indexOf(r),this.removeItemByIndex(t,i)}this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[e]&&t[e]){var s=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){var i;i=this.tbarAlgEle[(this.items[s].align+"s").toLowerCase()].indexOf(this.tbarEle[s]),this.tbarAlgEle[(this.items[s].align+"s").toLowerCase()].splice(i,1)}sf.base.detach(t[e]),this.items.splice(s,1),this.tbarEle.splice(s,1)}},t.prototype.templateRender=function(e,t,s,i){var a,r=s.type,l=e;if("object"===n()(e)&&(a="function"==typeof l.appendTo),"string"!=typeof e&&a){if("Input"===r){h=this.createElement("input");s.id?h.id=s.id:h.id=sf.base.getUniqueID("tbr-ipt"),t.appendChild(h),l.appendTo(h)}}else{var o,d=void 0;o="string"==typeof e?e.trim():e;try{if("object"!==n()(e)||sf.base.isNullOrUndefined(e.tagName)){if(document.querySelectorAll(o).length){var h,c=(h=document.querySelector(o)).outerHTML.trim();t.appendChild(h),h.style.display="",sf.base.isNullOrUndefined(c)||this.tempId.push(o)}}else t.appendChild(e)}catch(e){d=sf.base.compile(o)}var f=void 0;if(!sf.base.isNullOrUndefined(d))f=d({},this,"template",this.element.id+i+"_template",this.isStringTemplate);!sf.base.isNullOrUndefined(f)&&f.length>0&&[].slice.call(f).forEach((function(e){sf.base.isNullOrUndefined(e.tagName)||(e.style.display=""),t.appendChild(e)}))}this.add(t,"e-template"),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var s=this.createElement("button",{className:"e-tbar-btn"});s.setAttribute("type","button");var i,n,a=e.text;e.id?s.id=e.id:s.id=sf.base.getUniqueID("e-tbr-btn");var r=this.createElement("span",{className:"e-tbar-btn-text"});a?(r.innerHTML=this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(a):a,s.appendChild(r),s.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(i=e.prefixIcon+" e-icons",n="Left"):(i=e.suffixIcon+" e-icons",n="Right"));var l=new sf.buttons.Button({iconCss:i,iconPosition:n});return l.createElement=this.createElement,l.appendTo(s),e.width&&sf.base.setStyleAttribute(s,{width:sf.base.formatUnit(e.width)}),s},t.prototype.renderSubComponent=function(e,t){var s,i;(s=this.createElement("div",{className:H})).setAttribute("aria-disabled","false");var n=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",n.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,t);else switch(e.type){case"Button":(i=this.buttonRendering(e,s)).setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),s.appendChild(i),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,"e-separator")}if(e.showTextOn){var a=e.showTextOn;"Toolbar"===a?(this.add(s,"e-toolbar-text"),this.add(s,"e-tbtn-align")):"Overflow"===a&&this.add(s,"e-popup-text")}if(e.overflow){var r=e.overflow;"Show"===r?this.add(s,"e-overflow-show"):"Hide"===r&&(s.classList.contains("e-separator")||this.add(s,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains("e-separator")&&(this.add(s,"e-popup-alone"),this.popupPriCount++),e.disabled&&this.add(s,"e-overlay"),!1===e.visible&&this.add(s,"e-hidden"),s},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){sf.base.isNullOrUndefined(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,sf.base.isNullOrUndefined(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(P)[0]);if(!t){this.destroyScroll();var s=e.querySelector("."+P);sf.base.isNullOrUndefined(s)||(this.remove(s,"e-multirow-pos"),this.tbarAlign&&this.add(s,"e-tbar-pos"))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector(".e-hscroll-bar")&&(this.scrollStep=this.element.querySelector(".e-hscroll-bar").offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.extendedOpen=function(){var e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))},t.prototype.onPropertyChanged=function(e,t){var s=this.element;this.extendedOpen();for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"items":if(e.items instanceof Array&&t.items instanceof Array||this.isServerRendered)sf.base.isBlazor()&&this.isServerRendered?(this.serverItemsRerender(),this.notify("onItemsChanged",{})):this.itemsRerender(e.items);else for(var a=Object.keys(e.items),r=0;r<a.length;r++){var l=parseInt(Object.keys(e.items)[r],10),o=Object.keys(e.items[l])[0],d=Object(e.items[l])[o];if(this.tbarAlign||"align"===o){this.refresh(),this.trigger("created");break}var h="showAlwaysInPopup"===o&&!d,c="overflow"===o&&0!==this.popupPriCount;(h||this.items[l].showAlwaysInPopup&&c)&&--this.popupPriCount,sf.base.isNullOrUndefined(this.scrollModule)&&this.destroyMode();var f=[].slice.call(sf.base.selectAll("."+P+" ."+H,s));sf.base.detach(f[l]),this.tbarEle.splice(l,1),this.addItems([this.items[l]],l),this.items.splice(l,1),this.items[l].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":var p=s.offsetWidth;sf.base.setStyleAttribute(s,{width:sf.base.formatUnit(e.width)}),this.renderOverflowMode(),this.popObj&&p<s.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(s,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(s,"e-rtl"):this.remove(s,"e-rtl"),sf.base.isNullOrUndefined(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),sf.base.isNullOrUndefined(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&sf.base.removeClass([this.element],t.cssClass.split(" ")),e.cssClass&&sf.base.addClass([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}},t.prototype.hideItem=function(e,t){var s,i,a="object"===n()(e),r=e,l=[].slice.call(sf.base.selectAll("."+H,this.element));if(a)i=e;else if(this.tbarEle[r]){i=[].slice.call(sf.base.selectAll("."+H,this.element))[r]}if(i){if(t?i.classList.add("e-hidden"):i.classList.remove("e-hidden"),t&&sf.base.isNullOrUndefined(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator")){if(sf.base.isNullOrUndefined(i.firstElementChild.getAttribute("tabindex"))){i.firstElementChild.setAttribute("tabindex","-1");var o=[].slice.call(sf.base.selectAll("."+H,this.element));a&&(r=o.indexOf(i));for(var d=o[++r];d;){if(!this.eleContains(d)){d.firstElementChild.removeAttribute("tabindex");break}d=o[++r]}}}else if(sf.base.isNullOrUndefined(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator"))for(var h=!1,c=!1,f=l[s=0];f;)if(f.classList.contains("e-separator"))f=l[++s];else if(sf.base.isNullOrUndefined(f.firstElementChild.getAttribute("tabindex")))f.firstElementChild.setAttribute("tabindex","-1"),h=!0;else{if(h&&c)break;this.eleContains(f)||(f.firstElementChild.removeAttribute("tabindex"),c=!0),f=l[++s]}this.refreshOverflow()}},D([sf.base.Collection([],T)],t.prototype,"items",void 0),D([sf.base.Property("auto")],t.prototype,"width",void 0),D([sf.base.Property("auto")],t.prototype,"height",void 0),D([sf.base.Property("")],t.prototype,"cssClass",void 0),D([sf.base.Property("Scrollable")],t.prototype,"overflowMode",void 0),D([sf.base.Property()],t.prototype,"scrollStep",void 0),D([sf.base.Property(!0)],t.prototype,"enableCollision",void 0),D([sf.base.Property(!0)],t.prototype,"enableHtmlSanitizer",void 0),D([sf.base.Property(!0)],t.prototype,"allowKeyboard",void 0),D([sf.base.Event()],t.prototype,"clicked",void 0),D([sf.base.Event()],t.prototype,"created",void 0),D([sf.base.Event()],t.prototype,"destroyed",void 0),D([sf.base.Event()],t.prototype,"beforeCreate",void 0),t=D([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),R=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),j=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},F="e-acrdn-item",z="e-acrdn-header",q="e-acrdn-panel",V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),j([sf.base.Property("SlideDown")],t.prototype,"effect",void 0),j([sf.base.Property(400)],t.prototype,"duration",void 0),j([sf.base.Property("linear")],t.prototype,"easing",void 0),t}(sf.base.ChildProperty),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),j([sf.base.Complex({effect:"SlideUp",duration:400,easing:"linear"},V)],t.prototype,"collapse",void 0),j([sf.base.Complex({effect:"SlideDown",duration:400,easing:"linear"},V)],t.prototype,"expand",void 0),t}(sf.base.ChildProperty),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),j([sf.base.Property(null)],t.prototype,"content",void 0),j([sf.base.Property(null)],t.prototype,"header",void 0),j([sf.base.Property(null)],t.prototype,"cssClass",void 0),j([sf.base.Property(null)],t.prototype,"iconCss",void 0),j([sf.base.Property(!1)],t.prototype,"expanded",void 0),j([sf.base.Property(!0)],t.prototype,"visible",void 0),j([sf.base.Property(!1)],t.prototype,"disabled",void 0),t}(sf.base.ChildProperty),K=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},i}return R(t,e),t.prototype.destroy=function(){var t=this,s=this.element;if(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(s.children).forEach((function(e){e.classList.contains("blazor-template")||s.removeChild(e)})),this.trgtEle)for(;this.ctrlTem.firstElementChild;)s.appendChild(this.ctrlTem.firstElementChild);s.classList.remove("e-acrdn-root"),s.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach((function(e){t.element.removeAttribute(e)}))},t.prototype.preRender=function(){var e=sf.base.closest(this.element,"."+q);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),sf.base.isNullOrUndefined(e)?this.element.classList.add("e-acrdn-root"):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,"e-rtl"),this.enablePersistence&&!sf.base.isNullOrUndefined(this.expandedItems)||(this.expandedItems=[])},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.isServerRendered?this.wireFocusEvents():(this.initializeheaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl()),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=sf.base.formatUnit(this.width),t=sf.base.formatUnit(this.height);sf.base.setStyleAttribute(this.element,{width:e,height:t});sf.base.isNullOrUndefined(this.initExpand)&&(this.initExpand=[]),this.expandedItems.length>0&&(this.initExpand=this.expandedItems),sf.base.attributes(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0&&(!sf.base.isBlazor()||this.isStringTemplate)?sf.base.select("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+F));e<t.length;e++){var s=t[e],i=s.querySelector("."+z);s.childElementCount>0&&i&&(sf.base.EventHandler.clearEvents(i),sf.base.EventHandler.add(i,"focus",this.focusIn,this),sf.base.EventHandler.add(i,"blur",this.focusOut,this))}},t.prototype.unwireEvents=function(){sf.base.EventHandler.remove(this.element,"click",this.clickHandler),sf.base.isNullOrUndefined(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||sf.base.rippleEffect(this.element,{selector:"."+z}),this.isNested||(this.keyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return sf.base.compile(document.querySelector(e).innerHTML.trim())}catch(t){return sf.base.compile(e)}},t.prototype.initializeheaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getheaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},t.prototype.ctrlTemplate=function(){var e;this.ctrlTem=this.element.cloneNode(!0);var t=sf.base.select(".e-accordion-container",this.element);e=t?t.children:this.element.children;var s=[];[].slice.call(e).forEach((function(e){s.push({header:e.childElementCount>0&&e.children[0]?e.children[0]:"",content:e.childElementCount>1&&e.children[1]?e.children[1]:""}),e.parentNode.removeChild(e)})),t&&this.element.removeChild(t),this.setProperties({items:s},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:"e-toggle-icon"}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e)if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t])},t.prototype.renderItems=function(){var e,t,s=this,i=this.element;if(sf.base.isNullOrUndefined(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((function(e,n){t=s.renderInnerItem(e,n),i.appendChild(t),t.childElementCount>0&&(sf.base.EventHandler.add(t.querySelector("."+z),"focus",s.focusIn,s),sf.base.EventHandler.add(t.querySelector("."+z),"blur",s.focusOut,s))}));else{var n=this.items;i&&n.length>0&&n.forEach((function(t,n){e=s.renderInnerItem(t,n),i.appendChild(e),e.childElementCount>0&&(sf.base.EventHandler.add(e.querySelector("."+z),"focus",s.focusIn,s),sf.base.EventHandler.add(e.querySelector("."+z),"blur",s.focusOut,s))}))}},t.prototype.clickHandler=function(e){var t,s,i=this,n=e.target,a=this.getItems(),r={};if(sf.base.closest(n,".e-accordion")===this.element){n.classList.add("e-target");var l,o=sf.base.closest(n,"."+F),d=sf.base.closest(n,"."+z),h=sf.base.closest(n,"."+q);if(o&&(sf.base.isNullOrUndefined(d)||sf.base.isNullOrUndefined(h))&&(d=o.children[0],h=o.children[1]),d&&(s=sf.base.select(".e-toggle-icon",d)),d?l=sf.base.closest(d,"."+F):h&&(l=sf.base.closest(h,"."+F)),t=this.getIndexByItem(o),l&&(r.item=a[this.getIndexByItem(l)]),r.originalEvent=e,!(!sf.base.isNullOrUndefined(s)&&o.childElementCount<=1)||!sf.base.isNullOrUndefined(h)&&sf.base.isNullOrUndefined(sf.base.select("."+z+" .e-toggle-icon",l)))this.afterContentRender(n,r,o,d,h,l);else if(this.isServerRendered){var c=o.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",t).then((function(){i.isDestroyed||i.afterContentRender(n,r,o,d,h,l)})):this.interopAdaptor.invokeMethodAsync("OnDataClick",c).then((function(){i.isDestroyed||i.afterContentRender(n,r,o,d,h,l)}))}else o.appendChild(this.contentRendering(t)),this.ariaAttrUpdate(o),this.afterContentRender(n,r,o,d,h,l)}},t.prototype.afterContentRender=function(e,t,s,i,n,a){var r=this,l=[];this.trigger("clicked",t);var o=n&&!sf.base.isNullOrUndefined(sf.base.select(".e-target",n)),d=n&&!sf.base.isNullOrUndefined(sf.base.select(".e-accordion",n))&&sf.base.isNullOrUndefined(sf.base.closest(e,".e-acrdn-panel .e-accordion")),h=n&&sf.base.isNullOrUndefined(sf.base.select(".e-accordion",n))||!(sf.base.closest(e,".e-accordion")===this.element);if(o=o&&(d||h),e.classList.remove("e-target"),!(e.classList.contains(q)||e.classList.contains("e-acrdn-content")||o)){var c=this.element.querySelector(".e-accordion-container"),f=c?c.children:this.element.children;[].slice.call(f).forEach((function(e){e.classList.contains("e-active")&&l.push(e)}));var p=[].slice.call(this.element.querySelectorAll("."+F+" [e-animate]"));if(p.length>0)for(var u=0,b=p;u<b.length;u++){var m=b[u];l.push(m.parentElement)}var v=-1!==l.indexOf(a)&&"true"===n.getAttribute("e-animate"),g=!1;if(!sf.base.isNullOrUndefined(s)&&!sf.base.isNullOrUndefined(i)){var y=sf.base.select("."+q,s),C=sf.base.closest(s,".e-acrdn-root").querySelector(".e-expand-state");if(sf.base.isNullOrUndefined(y))return;g=C===s,!sf.base.isVisible(y)||v&&!a.classList.contains("e-selected")?(l.length>0&&"Single"===this.expandMode&&!v&&l.forEach((function(e){r.collapse(sf.base.select("."+q,e)),e.classList.remove("e-expand-state")})),this.expand(y)):this.collapse(y),sf.base.isNullOrUndefined(C)||g||C.classList.remove("e-expand-state")}}},t.prototype.eleMoveFocus=function(e,t,s){var i,n=sf.base.closest(s,"."+F);s===t?i=("moveUp"===e?s.lastElementChild:s).querySelector("."+z):s.classList.contains(z)&&(n="moveUp"===e?n.previousElementSibling:n.nextElementSibling)&&(i=sf.base.select("."+z,n)),i&&i.focus()},t.prototype.keyActionHandler=function(e){var t=e.target,s=sf.base.closest(e.target,z);if(!sf.base.isNullOrUndefined(s)||t.classList.contains("e-accordion")||t.classList.contains(z)){var i,n=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,n,t);break;case"space":case"enter":i=t.nextElementSibling,!sf.base.isNullOrUndefined(i)&&i.classList.contains(q)?"true"!==i.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":("home"===e.action?n.firstElementChild.children[0]:n.lastElementChild.children[0]).focus()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:z,id:sf.base.getUniqueID("acrdn_header")}),t={tabindex:"0",role:"heading","aria-selected":"false","aria-disabled":"false","aria-level":this.getItems().length.toString()};return sf.base.attributes(e,t),e},t.prototype.renderInnerItem=function(e,t){var s;if((s=this.createElement("div",{className:F})).id=sf.base.getUniqueID("acrdn_item"),sf.base.attributes(s,{"aria-expanded":"false"}),this.headerTemplate){var i=this.headerEleGenerate(),n=this.createElement("div",{className:"e-acrdn-header-content"});return i.appendChild(n),sf.base.append(this.getheaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),n),s.appendChild(i),i.appendChild(this.toggleIconGenerate()),this.add(s,"e-select"),s}if(e.header&&this.angularnativeCondiCheck(e,"header")){i=this.headerEleGenerate(),n=this.createElement("div",{className:"e-acrdn-header-content"});i.appendChild(n),i.appendChild(this.fetchElement(n,e.header,t,!0)),s.appendChild(i)}var a=sf.base.select("."+z,s);if(!e.expanded||sf.base.isNullOrUndefined(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&sf.base.addClass([s],e.cssClass.split(" ")),e.disabled&&sf.base.addClass([s],"e-overlay"),!1===e.visible&&sf.base.addClass([s],"e-hide"),e.iconCss){var r=this.createElement("div",{className:"e-acrdn-header-icon"}),l=this.createElement("span",{className:e.iconCss+" e-icons"});r.appendChild(l),sf.base.isNullOrUndefined(a)?((a=this.headerEleGenerate()).appendChild(r),s.appendChild(a)):a.insertBefore(r,a.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var o=this.toggleIconGenerate();sf.base.isNullOrUndefined(a)&&(a=this.headerEleGenerate(),s.appendChild(a)),a.appendChild(o),this.add(s,"e-select")}return s},t.prototype.angularnativeCondiCheck=function(e,t){var s="content"===t?e.content:e.header;if(this.isAngular&&!sf.base.isNullOrUndefined(s.elementRef)){var i=s.elementRef.nativeElement.data;if(sf.base.isNullOrUndefined(i)||""===i||-1===i.indexOf("bindings="))return!0;var n=JSON.parse(s.elementRef.nativeElement.data.replace("bindings=",""));return!(!sf.base.isNullOrUndefined(n)&&"false"===n["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,s,i){var n,a,r;try{if(document.querySelectorAll(t).length){var l=document.querySelector(t);a=l.outerHTML.trim(),e.appendChild(l),l.style.display=""}}catch(s){"string"==typeof t&&sf.base.isBlazor()&&0!==t.indexOf("<div>Blazor")?e.innerHTML=sf.base.SanitizeHtmlHelper.sanitize(t):!sf.base.isNullOrUndefined(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):n=sf.base.compile(t)}if(!sf.base.isNullOrUndefined(n)){var o=void 0;e.classList.contains("e-acrdn-header-content")?o=this.element.id+s+"_header":e.classList.contains("e-acrdn-content")&&(o=this.element.id+s+"_content"),r=n({},null,null,o,this.isStringTemplate)}return sf.base.isNullOrUndefined(r)||!(r.length>0)||sf.base.isNullOrUndefined(r[0].tagName)&&1===r.length?0===e.childElementCount&&(e.innerHTML=sf.base.SanitizeHtmlHelper.sanitize(t)):[].slice.call(r).forEach((function(t){sf.base.isNullOrUndefined(t.tagName)||(t.style.display=""),e.appendChild(t)})),sf.base.isNullOrUndefined(a)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=sf.base.select("."+z,e),s=sf.base.select("."+q,e);t.setAttribute("aria-controls",s.id),s.setAttribute("aria-labelledby",t.id),s.setAttribute("role","definition")},t.prototype.contentRendering=function(e){var t=this.createElement("div",{className:q+" e-content-hide",id:sf.base.getUniqueID("acrdn_panel")});sf.base.attributes(t,{"aria-hidden":"true"});var s=this.createElement("div",{className:"e-acrdn-content"});return this.dataSource.length>0?(sf.base.append(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),s),t.appendChild(s)):t.appendChild(this.fetchElement(s,this.items[e].content,e,!1)),t},t.prototype.expand=function(e){var t,s=this,i=this.getItems(),n=sf.base.closest(e,"."+F);if(!(sf.base.isNullOrUndefined(e)||sf.base.isVisible(e)&&"true"!==e.getAttribute("e-animate")||n.classList.contains("e-overlay"))){var a=sf.base.closest(n,".e-acrdn-root").querySelector(".e-expand-state"),r={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},l=sf.base.select(".e-toggle-icon",n).firstElementChild;t={element:n,item:i[this.getIndexByItem(n)],index:this.getIndexByItem(n),content:n.querySelector("."+q),isExpanded:!0},this.trigger("expanding",t,(function(t){t.cancel||(l.classList.add("e-toggle-animation"),s.expandedItemsPush(n),sf.base.isNullOrUndefined(a)||a.classList.remove("e-expand-state"),n.classList.add("e-expand-state"),"None"===r.name?(s.expandProgress("begin",l,e,n,t),s.expandProgress("end",l,e,n,t)):s.expandAnimation(r.name,l,e,n,r,t))}))}},t.prototype.expandAnimation=function(e,t,s,i,n,a){var r,l=this;this.lastActiveItemId=i.id,"SlideDown"===e?(n.begin=function(){l.expandProgress("begin",t,s,i,a),s.style.position="absolute",r=i.offsetHeight,s.style.maxHeight=s.offsetHeight+"px",i.style.maxHeight=""},n.progress=function(){i.style.minHeight=r+s.offsetHeight+"px"},n.end=function(){sf.base.setStyleAttribute(s,{position:"",maxHeight:""}),i.style.minHeight="",l.expandProgress("end",t,s,i,a)}):(n.begin=function(){l.expandProgress("begin",t,s,i,a)},n.end=function(){l.expandProgress("end",t,s,i,a)}),new sf.base.Animation(n).animate(s)},t.prototype.expandProgress=function(e,t,s,i,n){this.remove(s,"e-content-hide"),this.add(i,"e-selected"),this.add(t,"e-expand-icon"),"end"===e&&(this.add(i,"e-active"),s.setAttribute("aria-hidden","false"),sf.base.attributes(i,{"aria-expanded":"true"}),sf.base.attributes(s.previousElementSibling,{"aria-selected":"true"}),t.classList.remove("e-toggle-animation"),this.trigger("expanded",n))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);-1===this.expandedItems.indexOf(t)&&this.expandedItems.push(t)},t.prototype.getIndexByItem=function(e){var t=this.getItemElements();return[].slice.call(t).indexOf(e)},t.prototype.getItemElements=function(){var e=[],t=this.element.children;return[].slice.call(t).forEach((function(t){t.classList.contains(F)&&e.push(t)})),e},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e);this.expandedItems.splice(this.expandedItems.indexOf(t),1)},t.prototype.collapse=function(e){var t,s=this,i=this.getItems(),n=sf.base.closest(e,"."+F);if(!sf.base.isNullOrUndefined(e)&&sf.base.isVisible(e)&&!n.classList.contains("e-overlay")){var a={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},r=sf.base.select(".e-toggle-icon",n).firstElementChild;t={element:n,item:i[this.getIndexByItem(n)],index:this.getIndexByItem(n),content:n.querySelector("."+q),isExpanded:!1},this.trigger("expanding",t,(function(t){t.cancel||(s.expandedItemsPop(n),n.classList.add("e-expand-state"),r.classList.add("e-toggle-animation"),"None"===a.name?(s.collapseProgress("begin",r,e,n,t),s.collapseProgress("end",r,e,n,t)):s.collapseAnimation(a.name,e,n,r,a,t))}))}},t.prototype.collapseAnimation=function(e,t,s,i,n,a){var r,l,o,d,h=this;this.lastActiveItemId=s.id,"SlideUp"===e?(n.begin=function(){o=s.offsetHeight,s.style.minHeight=o+"px",t.style.position="absolute",r=s.offsetHeight,l=t.offsetHeight,t.style.maxHeight=l+"px",h.collapseProgress("begin",i,t,s,a)},n.progress=function(){(d=r-(l-t.offsetHeight))<o&&(s.style.minHeight=d+"px")},n.end=function(){t.style.display="none",h.collapseProgress("end",i,t,s,a),s.style.minHeight="",sf.base.setStyleAttribute(t,{position:"",maxHeight:"",display:""})}):(n.begin=function(){h.collapseProgress("begin",i,t,s,a)},n.end=function(){h.collapseProgress("end",i,t,s,a)}),new sf.base.Animation(n).animate(t)},t.prototype.collapseProgress=function(e,t,s,i,n){this.remove(t,"e-expand-icon"),this.remove(i,"e-selected"),"end"===e&&(this.add(s,"e-content-hide"),t.classList.remove("e-toggle-animation"),this.remove(i,"e-active"),s.setAttribute("aria-hidden","true"),sf.base.attributes(i,{"aria-expanded":"false"}),sf.base.attributes(s.previousElementSibling,{"aria-selected":"false"}),this.trigger("expanded",n))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.itemAttribUpdate=function(){var e=this.getItems(),t=this.getItemElements(),s=e.length;t.forEach((function(e){sf.base.select("."+z,e).setAttribute("aria-level",""+s)}))},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,t){var s=this.element,i=this.getItemElements(),n=this.getItems();if(sf.base.isNullOrUndefined(t)&&(t=n.length),s.childElementCount>=t){n.splice(t,0,e);var a=this.renderInnerItem(e,t);s.childElementCount===t?s.appendChild(a):s.insertBefore(a,i[t]),sf.base.EventHandler.add(a.querySelector("."+z),"focus",this.focusIn,this),sf.base.EventHandler.add(a.querySelector("."+z),"blur",this.focusOut,this),this.itemAttribUpdate()}this.expandedItems=[],this.expandedItemRefresh(s),e&&e.expanded&&this.expandItem(!0,t)},t.prototype.expandedItemRefresh=function(e){var t=this,s=this.getItemElements();[].slice.call(s).forEach((function(e){e.classList.contains("e-selected")&&t.expandedItemsPush(e)}))},t.prototype.removeItem=function(e){var t=this.getItemElements()[e],s=this.getItems();sf.base.isNullOrUndefined(t)||(this.restoreContent(e),sf.base.detach(t),s.splice(e,1),this.itemAttribUpdate(),this.expandedItems=[],this.expandedItemRefresh(this.element))},t.prototype.select=function(e){var t=this.getItemElements()[e];sf.base.isNullOrUndefined(t)||sf.base.isNullOrUndefined(sf.base.select("."+z,t))||t.children[0].focus()},t.prototype.hideItem=function(e,t){var s=this.getItemElements()[e];sf.base.isNullOrUndefined(s)||(sf.base.isNullOrUndefined(t)&&(t=!0),t?this.add(s,"e-hide"):this.remove(s,"e-hide"))},t.prototype.enableItem=function(e,t){var s=this.getItemElements()[e];if(!sf.base.isNullOrUndefined(s)){var i=s.firstElementChild;t?(this.remove(s,"e-overlay"),sf.base.attributes(i,{tabindex:"0","aria-disabled":"false"}),i.focus()):(s.classList.contains("e-active")&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,i)),this.add(s,"e-overlay"),i.setAttribute("aria-disabled","true"),i.removeAttribute("tabindex"))}},t.prototype.refresh=function(){this.isServerRendered||e.prototype.refresh.call(this)},t.prototype.expandItem=function(e,t){var s=this,i=this.getItemElements();if(sf.base.isNullOrUndefined(t))if("Single"===this.expandMode&&e){var n=i[i.length-1];this.itemExpand(e,n,this.getIndexByItem(n))}else{var a=sf.base.select("#"+this.lastActiveItemId,this.element);[].slice.call(i).forEach((function(t){s.itemExpand(e,t,s.getIndexByItem(t)),t.classList.remove("e-expand-state")}));var r=sf.base.select(".e-expand-state",this.element);r&&r.classList.remove("e-expand-state"),a&&a.classList.add("e-expand-state")}else{n=i[t];if(sf.base.isNullOrUndefined(n)||!n.classList.contains("e-select")||n.classList.contains("e-active")&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,n,t)}},t.prototype.itemExpand=function(e,t,s){var i=this,n=t.children[1];if(!t.classList.contains("e-overlay"))if(sf.base.isNullOrUndefined(n)&&e)if(this.isServerRendered){var a=t.id;this.items.length>0?this.interopAdaptor.invokeMethodAsync("OnItemClick",s).then((function(){i.isDestroyed||(n=t.children[1],i.expand(n))})):this.interopAdaptor.invokeMethodAsync("OnDataClick",a).then((function(){i.isDestroyed||(n=t.children[1],i.expand(n))}))}else n=this.contentRendering(s),t.appendChild(n),this.ariaAttrUpdate(t),this.expand(n);else sf.base.isNullOrUndefined(n)||(e?this.expand(n):this.collapse(n))},t.prototype.destroyItems=function(){this.restoreContent(null),[].slice.call(this.element.querySelectorAll("."+F)).forEach((function(e){sf.base.detach(e)}))},t.prototype.restoreContent=function(e){var t;t=sf.base.isNullOrUndefined(e)?this.element:this.element.querySelectorAll("."+F)[e],this.templateEle.forEach((function(e){sf.base.isNullOrUndefined(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")}))},t.prototype.updateItem=function(e,t){if(!sf.base.isNullOrUndefined(e)){var s=this.getItems(),i=s[t];s.splice(t,1),this.restoreContent(t),sf.base.detach(e),this.addItem(i,t)}},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedItems"])},t.prototype.onPropertyChanged=function(e,t){for(var s=this.element,i=!1,n=0,a=Object.keys(e);n<a.length;n++){switch(a[n]){case"items":if(this.isServerRendered){this.wireFocusEvents();break}if(e.items instanceof Array&&t.items instanceof Array)i=!0;else for(var r=Object.keys(e.items),l=0;l<r.length;l++){var o=parseInt(Object.keys(e.items)[l],10),d=Object.keys(e.items[o])[0],h=sf.base.selectAll("."+F,this.element)[o],c=Object(t.items[o])[d],f=Object(e.items[o])[d];("header"===d||"iconCss"===d||"expanded"===d||"content"===d&&""===c)&&this.updateItem(h,o),"cssClass"!==d||sf.base.isNullOrUndefined(h)||(h.classList.remove(c),h.classList.add(f)),"visible"!==d||sf.base.isNullOrUndefined(h)||(!1===Object(e.items[o])[d]?h.classList.add("e-hide"):h.classList.remove("e-hide")),"disabled"!==d||sf.base.isNullOrUndefined(h)||this.enableItem(o,!f),"content"!==d||sf.base.isNullOrUndefined(h)||2!==h.children.length||(h.classList.contains("e-selected")&&this.expandItem(!1,o),sf.base.detach(h.querySelector("."+q)))}break;case"dataSource":i=!0;break;case"headerTemplate":this.initializeheaderTemplate(),i=!0;break;case"itemTemplate":this.initializeItemTemplate(),i=!0;break;case"enableRtl":e.enableRtl?this.add(s,"e-rtl"):this.remove(s,"e-rtl");break;case"height":sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(e.height)});break;case"width":sf.base.setStyleAttribute(this.element,{width:sf.base.formatUnit(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedItems.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}}i&&!this.isServerRendered&&(this.destroyItems(),this.renderItems(),this.initItemExpand())},j([sf.base.Collection([],_)],t.prototype,"items",void 0),j([sf.base.Property([])],t.prototype,"dataSource",void 0),j([sf.base.Property()],t.prototype,"itemTemplate",void 0),j([sf.base.Property()],t.prototype,"headerTemplate",void 0),j([sf.base.Property("100%")],t.prototype,"width",void 0),j([sf.base.Property("auto")],t.prototype,"height",void 0),j([sf.base.Property("Multiple")],t.prototype,"expandMode",void 0),j([sf.base.Complex({},W)],t.prototype,"animation",void 0),j([sf.base.Event()],t.prototype,"clicked",void 0),j([sf.base.Event()],t.prototype,"expanding",void 0),j([sf.base.Event()],t.prototype,"expanded",void 0),j([sf.base.Event()],t.prototype,"created",void 0),j([sf.base.Event()],t.prototype,"destroyed",void 0),t=j([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),Y=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),G=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},X=function(e){function t(t,s){return e.call(this,t,s)||this}return Y(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||sf.base.getUniqueID("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),sf.base.attributes(this.element,{role:"context menu",tabindex:"0"}),this.element.style.zIndex=sf.popups.getZindexPartial(this.element).toString()},t.prototype.open=function(t,s,i){e.prototype.openMenu.call(this,null,null,t,s,null,i)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,s){e.prototype.onPropertyChanged.call(this,t,s);for(var i=0,n=Object.keys(t);i<n.length;i++){switch(n[i]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(s.target),this.wireEvents()}}},t.prototype.getModuleName=function(){return"contextmenu"},G([sf.base.Property("")],t.prototype,"target",void 0),G([sf.base.Property("")],t.prototype,"filter",void 0),G([sf.base.Collection([],k)],t.prototype,"items",void 0),t=G([sf.base.NotifyPropertyChanges],t)}(I),Q=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),J=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},Z="e-vertical",$=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.tempItems=[],i}return Q(t,e),t.prototype.getModuleName=function(){return"menu"},t.prototype.preRender=function(){if(this.isMenu=!0,this.element.id=this.element.id||sf.base.getUniqueID("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}else this.updateMenuItems(this.items);e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),sf.base.attributes(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(Z),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(Z),this.element.setAttribute("aria-orientation","vertical")):sf.base.Browser.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add("e-hamburger"),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))},t.prototype.updateMenuItems=function(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]},t.prototype.onPropertyChanged=function(t,s){for(var i=0,n=Object.keys(t);i<n.length;i++){switch(n[i]){case"orientation":"Vertical"===t.orientation?(this.element.classList.add(Z),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(Z),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(Z),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(Z),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(s.items).length||this.updateMenuItems(t.items);break;case"hamburgerMode":this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),t.hamburgerMode?this.element.parentElement.classList.add("e-hamburger"):this.element.parentElement.classList.remove("e-hamburger"),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(Z),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(Z):this.element.previousElementSibling.classList.remove(Z),this.element.classList[t.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(t.title=this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(t.title):t.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=t.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(s.target),this.wireEvents(),"Horizontal"===this.orientation&&(t.target?this.element.previousElementSibling.classList.add(Z):(this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),this.element.previousElementSibling.classList.remove(Z)),this.element.classList.add("e-hide-menu")))}}e.prototype.onPropertyChanged.call(this,t,s)},t.prototype.createMenuItems=function(e){var t,s,i,n=this.items;if(e[t=this.getField("parentId")]){for(s=this.getIndex(e[t].toString(),!0),i=0;i<s.length;i++)n[s[i]].items||(n[s[i]].items=[]),n=n[s[i]].items;n.push(e)}else this.items.push(e)},t.prototype.open=function(){e.prototype.openHamburgerMenu.call(this)},t.prototype.close=function(){e.prototype.closeHamburgerMenu.call(this)},J([sf.base.Property("Horizontal")],t.prototype,"orientation",void 0),J([sf.base.Property("")],t.prototype,"target",void 0),J([sf.base.Property(null)],t.prototype,"template",void 0),J([sf.base.Property(!1)],t.prototype,"enableScrolling",void 0),J([sf.base.Property(!1)],t.prototype,"hamburgerMode",void 0),J([sf.base.Property("Menu")],t.prototype,"title",void 0),J([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),J([sf.base.Complex({},w)],t.prototype,"fields",void 0),t=J([sf.base.NotifyPropertyChanges],t)}(I),ee=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),te=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},se="e-toolbar-items",ie="e-toolbar-item",ne="e-toolbar-popup",ae="e-vertical-tab",re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),te([sf.base.Property("SlideLeftIn")],t.prototype,"effect",void 0),te([sf.base.Property(600)],t.prototype,"duration",void 0),te([sf.base.Property("ease")],t.prototype,"easing",void 0),t}(sf.base.ChildProperty),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),te([sf.base.Complex({effect:"SlideLeftIn",duration:600,easing:"ease"},re)],t.prototype,"previous",void 0),te([sf.base.Complex({effect:"SlideRightIn",duration:600,easing:"ease"},re)],t.prototype,"next",void 0),t}(sf.base.ChildProperty),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),te([sf.base.Property("")],t.prototype,"text",void 0),te([sf.base.Property("")],t.prototype,"iconCss",void 0),te([sf.base.Property("left")],t.prototype,"iconPosition",void 0),t}(sf.base.ChildProperty),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),te([sf.base.Complex({},oe)],t.prototype,"header",void 0),te([sf.base.Property(null)],t.prototype,"headerTemplate",void 0),te([sf.base.Property("")],t.prototype,"content",void 0),te([sf.base.Property("")],t.prototype,"cssClass",void 0),te([sf.base.Property(!1)],t.prototype,"disabled",void 0),te([sf.base.Property(!0)],t.prototype,"visible",void 0),t}(sf.base.ChildProperty),he=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.show={},i.hide={},i.maxHeight=0,i.title="Close",i.lastIndex=0,i.isAdd=!1,i.isIconAlone=!1,i.resizeContext=i.refreshActElePosition.bind(i),i.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},i}return ee(t,e),t.prototype.destroy=function(){var t=this;if(sf.base.isNullOrUndefined(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach((function(e){t.element.removeAttribute(e)})),this.expTemplateContent(),this.isTemplate){var s=sf.base.select(".e-tab > .e-content",this.element);this.element.classList.remove("e-template"),sf.base.isNullOrUndefined(s)||(s.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)sf.base.remove(this.element.firstElementChild);e.prototype.destroy.call(this),this.trigger("destroyed")},t.prototype.refresh=function(){this.isServerRendered?this.isServerRendered&&"Dynamic"!==this.loadOn&&this.setActiveBorder():e.prototype.refresh.call(this)},t.prototype.preRender=function(){var e=sf.base.closest(this.element,".e-content");this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],sf.base.isNullOrUndefined(e)||(e.parentElement.classList.add("e-nested"),this.isNested=!0);var t=sf.base.Browser.info.name,s="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";sf.base.setStyleAttribute(this.element,{width:sf.base.formatUnit(this.width),height:sf.base.formatUnit(this.height)}),this.setCssClass(this.element,this.cssClass,!0),sf.base.attributes(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,s,!0),this.updatePopAnimationConfig()},t.prototype.render=function(){this.btnCls=this.createElement("span",{className:"e-icons e-close-icon",attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:sf.base.getRandomId(),this.renderContainer(),this.wireEvents(),this.initRender=!1},t.prototype.renderContainer=function(){if(this.isServerRendered)this.isTemplate=!1;else{var e=this.element;if(this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:"e-content"})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:"e-tab-header"})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add("e-template");var t=e.querySelector(".e-tab-header");t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!sf.base.isNullOrUndefined(sf.base.select(".e-tab-header",this.element))&&!sf.base.isNullOrUndefined(sf.base.select(".e-content",this.element))){if(this.renderHeader(),this.tbItems=sf.base.select(".e-tab-header ."+se,this.element),sf.base.isNullOrUndefined(this.tbItems)||sf.base.rippleEffect(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),sf.base.selectAll("."+ie,this.element).length>0){var s=void 0;this.tbItems=sf.base.select(".e-tab-header ."+se,this.element),this.bdrLine=this.createElement("div",{className:"e-indicator e-hidden e-ignore"}),s=sf.base.select("."+this.scrCntClass,this.tbItems),sf.base.isNullOrUndefined(s)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):s.insertBefore(this.bdrLine,s.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}}},t.prototype.serverItemsChanged=function(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!sf.base.isNullOrUndefined(this.cntEle)){var e=[].slice.call(this.cntEle.children),t="e-content"+this.tabId+"_"+this.selectedItem;e.forEach((function(e){e.classList.contains("e-active")&&e.id!==t&&e.classList.remove("e-active"),e.id===t&&e.classList.add("e-active")})),this.prevIndex=this.selectedItem,this.triggerAnimation("e-item"+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0},t.prototype.headerReady=function(){if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),sf.base.isNullOrUndefined(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=sf.base.select(".e-tab-header ."+se,this.element),sf.base.isNullOrUndefined(this.tbItems)||sf.base.rippleEffect(this.tbItems,{selector:".e-tab-wrap"}),sf.base.selectAll("."+ie,this.element).length>0){var e=void 0;this.bdrLine=sf.base.select(".e-indicator.e-ignore",this.element),e=sf.base.select("."+this.scrCntClass,this.tbItems),sf.base.isNullOrUndefined(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)}if(this.cntEle=sf.base.select(".e-tab > .e-content",this.element),sf.base.isNullOrUndefined(this.cntEle)||(this.touchModule=new sf.base.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){var t=this.setActiveContent();this.triggerAnimation(t,!1)}this.initRender=!1,this.renderComplete()},t.prototype.setActiveContent=function(){var e="e-item"+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return sf.base.isNullOrUndefined(t)||t.classList.add("e-active"),e},t.prototype.renderHeader=function(){var e=this,t=this.headerPlacement,s=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains("e-tab-header")&&this.setProperties({headerPlacement:"Bottom"},!0);for(var i=this.hdrEle.children.length,n=[],a=0;a<i;a++)n.push(this.hdrEle.children.item(a).innerHTML);if(i>0){for(;this.hdrEle.firstElementChild;)sf.base.detach(this.hdrEle.firstElementChild);var r=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(r),n.forEach((function(t,s){e.lastIndex=s;var i={className:"e-item",id:"e-item"+e.tabId+"_"+s,attrs:{role:"tab","aria-controls":"e-content"+e.tabId+"_"+s,"aria-selected":"false"}},n=e.createElement("span",{className:"e-tab-text",innerHTML:t,attrs:{role:"presentation"}}).outerHTML,a=e.createElement("div",{className:"e-text-wrap",innerHTML:n+e.btnCls.outerHTML}).outerHTML,l=e.createElement("div",{className:"e-tab-wrap",innerHTML:a,attrs:{tabIndex:"-1"}});r.appendChild(e.createElement("div",i)),sf.base.selectAll(".e-item",r)[s].appendChild(l)}))}}else s=this.parseObject(this.items,0);this.tbObj=new B({width:"Left"===t||"Right"===t?"auto":"100%",height:"Left"===t||"Right"===t?"100%":"auto",overflowMode:this.overflowMode,items:0!==s.length?s:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),sf.base.attributes(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)},t.prototype.renderContent=function(){this.cntEle=sf.base.select(".e-content",this.element);var e=sf.base.selectAll("."+ie,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var t=this.cntEle.children,s=0;s<e.length;s++)t.length-1>=s&&(t.item(s).className+="e-item",sf.base.attributes(t.item(s),{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+s}),t.item(s).id="e-content"+this.tabId+"_"+s)}},t.prototype.reRenderItems=function(){this.renderContainer(),sf.base.isNullOrUndefined(this.cntEle)||(this.touchModule=new sf.base.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)}))},t.prototype.parseObject=function(e,t){var s,i=this,n=sf.base.selectAll("."+ie,this.element).length,a=[],r=[];return e.forEach((function(e,l){var o=sf.base.isNullOrUndefined(e.header)||sf.base.isNullOrUndefined(e.header.iconPosition)?"":e.header.iconPosition,d=sf.base.isNullOrUndefined(e.header)||sf.base.isNullOrUndefined(e.header.iconCss)?"":e.header.iconCss;if(sf.base.isNullOrUndefined(e.headerTemplate)&&(sf.base.isNullOrUndefined(e.header)||sf.base.isNullOrUndefined(e.header.text)||0===e.header.text.length&&""===d))r.push(l);else{var h=e.headerTemplate||e.header.text;i.lastIndex=0===n?l:i.isReplace?t+l:i.lastIndex+1;var c=e.disabled?" e-disable e-overlay":"",f=!1===e.visible?" e-hidden":"";s=i.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});var p=h instanceof Object?h.outerHTML:h,u=!sf.base.isNullOrUndefined(p)&&""!==p;sf.base.isNullOrUndefined(h.tagName)?i.headerTextCompile(s,h,l):s.appendChild(h);var b=i.createElement("span",{className:"e-icons e-tab-icon e-icon-"+o+" "+d}),m=i.createElement("div",{className:"e-text-wrap"});m.appendChild(s),""!==h&&void 0!==h&&""!==d?("left"===o||"top"===o?m.insertBefore(b,m.firstElementChild):m.appendChild(b),s,i.isIconAlone=!1):(""===d?s:b)===b&&(sf.base.detach(s),m.appendChild(b),i.isIconAlone=!0);var v=e.disabled?{}:{tabIndex:"-1"};m.appendChild(i.btnCls.cloneNode(!0));var g=i.createElement("div",{className:"e-tab-wrap",attrs:v});g.appendChild(m),i.itemIndexArray===[]?i.itemIndexArray.push("e-item"+i.tabId+"_"+i.lastIndex):i.itemIndexArray.splice(t+l,0,"e-item"+i.tabId+"_"+i.lastIndex);var y={htmlAttributes:{id:"e-item"+i.tabId+"_"+i.lastIndex,role:"tab","aria-selected":"false"},template:g};y.cssClass=(void 0!==e.cssClass?e.cssClass:" ")+" "+c+" "+f+(""!==d?"e-i"+o:"")+" "+(u?"":"e-icon"),"top"!==o&&"bottom"!==o||i.element.classList.add("e-vertical-icon"),a.push(y),l++}})),this.isAdd||r.forEach((function(e){i.items.splice(e,1)})),this.isIconAlone?this.element.classList.add("e-icon-tab"):this.element.classList.remove("e-icon-tab"),a},t.prototype.removeActiveClass=function(){var e=this.getTabHeader();if(e){var t=sf.base.selectAll("."+ie+".e-active",e);[].slice.call(t).forEach((function(e){return e.classList.remove("e-active")}))}},t.prototype.checkPopupOverflow=function(e){this.tbPop=sf.base.select(".e-toolbar-pop",this.element);var t=sf.base.select(".e-hor-nav",this.element),s=sf.base.select("."+se,this.element),i=s.lastChild,n=!1;return(!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>s.offsetLeft||!this.enableRtl&&t.offsetLeft<s.offsetWidth)||this.isVertical()&&t.offsetTop<i.offsetTop+i.offsetHeight)&&(n=!0),n&&(e.classList.add(ne),this.tbPop.insertBefore(e,sf.base.selectAll("."+ne,this.tbPop)[0])),!0},t.prototype.popupHandler=function(e){var t=e.querySelector(".e-ripple-element");sf.base.isNullOrUndefined(t)||(t.outerHTML="",e.querySelector(".e-tab-wrap").classList.remove("e-ripple")),this.tbItem=sf.base.selectAll("."+se+" ."+ie,this.hdrEle);var s=this.tbItem[this.tbItem.length-1];if(0!==this.tbItem.length){if(e.classList.remove(ne),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(s)){var i=this.tbItems.lastChild.previousElementSibling;this.checkPopupOverflow(i)}this.isPopup=!0}return sf.base.selectAll("."+ie,this.tbItems).length-1},t.prototype.updateOrientationAttribute=function(){sf.base.attributes(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})},t.prototype.setCloseButton=function(e){var t=sf.base.select(".e-tab-header",this.element);!0===e?t.classList.add("e-close-show"):t.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActElePosition()},t.prototype.prevCtnAnimation=function(e,t){this.enableRtl||this.element.classList.contains("e-rtl");return this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},t.prototype.triggerPrevAnimation=function(e,t){var s=this,i=this.prevCtnAnimation(t,this.selectedItem);sf.base.isNullOrUndefined(i)?e.classList.remove("e-active"):(i.begin=function(){sf.base.setStyleAttribute(e,{position:"absolute"}),e.classList.add("e-progress"),e.classList.add("e-view")},i.end=function(){e.style.display="none",e.classList.remove("e-active"),e.classList.remove("e-progress"),e.classList.remove("e-view"),sf.base.setStyleAttribute(e,{display:"",position:""}),0!==e.childNodes.length||s.isTemplate||sf.base.detach(e)},new sf.base.Animation(i).animate(e))},t.prototype.triggerAnimation=function(e,t){var s,i,n=this,a=this.prevIndex;if(!this.isServerRendered||this.isServerRendered&&"Dynamic"!==this.loadOn){[].slice.call(this.element.querySelector(".e-content").children).forEach((function(e){e.id===n.prevActiveEle&&(s=e)}));var r=this.tbItem[a];if(i=this.getTrgContent(this.cntEle,this.extIndex(e)),sf.base.isNullOrUndefined(s)&&!sf.base.isNullOrUndefined(r)){var l=this.extIndex(r.id);s=this.getTrgContent(this.cntEle,l)}}else i=this.cntEle.firstElementChild;if(sf.base.isNullOrUndefined(i)||(this.prevActiveEle=i.id),this.initRender||!1===t||this.animation==={}||sf.base.isNullOrUndefined(this.animation))s&&s!==i&&s.classList.remove("e-active");else{var o,d=sf.base.select(".e-content",this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var h=this.animation.previous.effect;o={name:"None"===h?"":"SlideLeftIn"!==h?h:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var c=this.animation.next.effect;o={name:"None"===c?"":"SlideRightIn"!==c?c:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}o.progress=function(){d.classList.add("e-progress"),n.setActiveBorder()},o.end=function(){d.classList.remove("e-progress"),i.classList.add("e-active")},this.initRender||sf.base.isNullOrUndefined(s)||this.triggerPrevAnimation(s,a),this.isPopup=!1,""===o.name?i.classList.add("e-active"):new sf.base.Animation(o).animate(i)}},t.prototype.keyPressed=function(e){var t=sf.base.closest(e,".e-tab-header ."+ie),s=this.getEleIndex(t);!sf.base.isNullOrUndefined(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():sf.base.isNullOrUndefined(t)||!1!==t.classList.contains("e-active")||(this.select(s),sf.base.isNullOrUndefined(this.popEle)||this.popObj.hide(this.hide))},t.prototype.getTabHeader=function(){var e=[].slice.call(this.element.children).filter((function(e){return e.classList.contains("e-tab-header")}));if(e.length>0)return e[0];var t=[].slice.call(this.element.children).filter((function(e){return!e.classList.contains("blazor-template")}))[0];return t?[].slice.call(t.children).filter((function(e){return e.classList.contains("e-tab-header")}))[0]:void 0},t.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call(sf.base.selectAll("."+ie,this.getTabHeader()),e)},t.prototype.extIndex=function(e){return e.replace("e-item"+this.tabId+"_","")},t.prototype.expTemplateContent=function(){var e=this;this.templateEle.forEach((function(t){sf.base.isNullOrUndefined(e.element.querySelector(t))||(document.body.appendChild(e.element.querySelector(t)).style.display="none")}))},t.prototype.templateCompile=function(e,t,s){var i=this.createElement("div");this.compileElement(i,t,"content",s),0!==i.childNodes.length&&e.appendChild(i)},t.prototype.compileElement=function(e,t,s,i){var n,a;"string"==typeof t&&sf.base.isBlazor()&&0!==t.indexOf("<div>Blazor")?(t=t.trim(),e.innerHTML=sf.base.SanitizeHtmlHelper.sanitize(t)):n=sf.base.compile(t),sf.base.isNullOrUndefined(n)||(a=sf.base.isBlazor()&&!this.isStringTemplate&&0===t.indexOf("<div>Blazor")?n({},this,s,this.element.id+i+"_"+s,this.isStringTemplate):n({},this,s)),!sf.base.isNullOrUndefined(n)&&a.length>0&&[].slice.call(a).forEach((function(t){e.appendChild(t)}))},t.prototype.headerTextCompile=function(e,t,s){this.compileElement(e,t,"headerTemplate",s)},t.prototype.getContent=function(e,t,s,i){var n;if("string"==typeof t||sf.base.isNullOrUndefined(t.innerHTML))if("."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){var a=document.querySelector(t);n=a.outerHTML.trim(),"clone"===s?e.appendChild(a.cloneNode(!0)):(e.appendChild(a),a.style.display="")}else this.templateCompile(e,t,i);else this.templateCompile(e,t,i);else e.appendChild(t);sf.base.isNullOrUndefined(n)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())},t.prototype.getTrgContent=function(e,t){return this.element.classList.contains("e-nested")?sf.base.select(".e-nested> .e-content > #e-content"+this.tabId+"_"+t,this.element):this.findEle(e.children,"e-content"+this.tabId+"_"+t)},t.prototype.findEle=function(e,t){for(var s,i=0;i<e.length;i++)if(e[i].id===t){s=e[i];break}return s},t.prototype.isVertical=function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e},t.prototype.addVerticalClass=function(){if(this.isVertical()){var e="Left"===this.headerPlacement?"e-vertical-left":"e-vertical-right";sf.base.addClass([this.hdrEle],["e-vertical",e]),this.element.classList.contains("e-nested")?sf.base.addClass([this.hdrEle],[ae,e]):sf.base.addClass([this.element],[ae,e])}"Bottom"===this.headerPlacement&&sf.base.addClass([this.hdrEle],["e-horizontal-bottom"])},t.prototype.updatePopAnimationConfig=function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}},t.prototype.changeOrientation=function(e){this.setOrientation(e,this.hdrEle);var t=!!this.hdrEle.classList.contains("e-vertical");sf.base.removeClass([this.element],[ae]),sf.base.removeClass([this.hdrEle],["e-vertical","e-vertical-left","e-vertical-right"]),t!==this.isVertical()&&this.changeToolbarOrientation(),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()},t.prototype.focusItem=function(){var e=sf.base.select(" #e-item"+this.tabId+"_"+this.selectedItem,this.hdrEle);sf.base.isNullOrUndefined(e)||e.firstElementChild.focus()},t.prototype.serverChangeOrientation=function(e,t){this.setOrientation(e,this.hdrEle),sf.base.removeClass([this.element],[ae]),("Left"===e||"Right"===e)!==("Left"===t||"Right"===t)&&this.changeToolbarOrientation(),this.isVertical()&&sf.base.addClass([this.element],[ae]),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()},t.prototype.changeToolbarOrientation=function(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()},t.prototype.setOrientation=function(e,t){var s=Array.prototype.indexOf.call(this.element.children,t),i=Array.prototype.indexOf.call(this.element.children,this.element.querySelector(".e-content"));"Bottom"===e&&i>s?this.element.appendChild(t):(sf.base.removeClass([t],["e-horizontal-bottom"]),this.element.insertBefore(t,sf.base.select(".e-content",this.element)))},t.prototype.setCssClass=function(e,t,s){if(""!==t)for(var i=t.split(" "),n=0;n<i.length;n++)s?e.classList.add(i[n]):e.classList.remove(i[n])},t.prototype.setContentHeight=function(e){if(this.element.classList.contains("e-fill-mode")&&sf.base.removeClass([this.element],["e-fill-mode"]),!sf.base.isNullOrUndefined(this.cntEle)){var t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||sf.base.setStyleAttribute(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)sf.base.addClass([this.element],["e-fill-mode"]),sf.base.setStyleAttribute(this.element,{height:"100%"}),sf.base.setStyleAttribute(this.cntEle,{height:"100%"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate)for(var s=sf.base.selectAll(".e-content > .e-item",this.element),i=0;i<s.length;i++)s[i].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(s[i])),s[i].style.removeProperty("display"),s[i].style.removeProperty("visibility");else{this.cntEle=sf.base.select(".e-content",this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_0",className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_0"}}));var n=this.cntEle.children.item(0);for(i=0;i<this.items.length;i++)for(this.getContent(n,this.items[i].content,"clone",i),this.maxHeight=Math.max(this.maxHeight,this.getHeight(n));n.firstChild;)n.removeChild(n.firstChild);this.clearTemplate(["content"]),this.templateEle=[],this.getContent(n,this.items[0].content,"render",0),n.classList.remove("e-active")}sf.base.setStyleAttribute(this.cntEle,{height:this.maxHeight+"px"})}else sf.base.setStyleAttribute(this.cntEle,{height:"auto"})}},t.prototype.getHeight=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))},t.prototype.setActiveBorder=function(){var e,t,s=this.getTabHeader(),i=sf.base.select("."+ie+".e-active",s);if(null!==i){this.isServerRendered&&i.classList.contains(ne)&&this.popupHandler(i);var n=sf.base.closest(i,".e-tab");if(this.element===n){if(this.tbItems=sf.base.select("."+se,s),e=sf.base.select(".e-indicator",s),t=sf.base.select("."+se+" ."+this.scrCntClass,s),this.isVertical()){sf.base.setStyleAttribute(e,{left:"",right:""}),0!==(sf.base.isNullOrUndefined(t)?this.tbItems.offsetHeight:t.offsetHeight)?sf.base.setStyleAttribute(e,{top:i.offsetTop+"px",height:i.offsetHeight+"px"}):sf.base.setStyleAttribute(e,{top:0,height:0})}else{sf.base.setStyleAttribute(e,{top:"",height:""});var a=sf.base.isNullOrUndefined(t)?this.tbItems.offsetWidth:t.offsetWidth;0!==a?sf.base.setStyleAttribute(e,{left:i.offsetLeft+"px",right:a-(i.offsetLeft+i.offsetWidth)+"px"}):sf.base.setStyleAttribute(e,{left:"auto",right:"auto"})}sf.base.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.remove("e-hidden")}}},t.prototype.setActive=function(e,t){void 0===t&&(t=!1),this.tbItem=sf.base.selectAll("."+ie,this.getTabHeader());var s=this.tbItem[e];if(this.isServerRendered&&s&&(e=parseInt(s.getAttribute("data-index"),10)),!(e<0||isNaN(e)||0===this.tbItem.length))if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),s.classList.contains("e-active"))this.setActiveBorder();else{if(!this.isTemplate){var i=this.tbItem[this.prevIndex];sf.base.isNullOrUndefined(i)||i.removeAttribute("aria-controls"),sf.base.attributes(s,{"aria-controls":"e-content"+this.tabId+"_"+e})}var n=s.id;this.removeActiveClass(),s.classList.add("e-active"),s.setAttribute("aria-selected","true");var a=Number(this.extIndex(n));if(sf.base.isNullOrUndefined(this.prevActiveEle)&&(this.prevActiveEle="e-content"+this.tabId+"_"+a),sf.base.attributes(this.element,{"aria-activedescendant":n}),this.isTemplate){if(sf.base.select(".e-content",this.element).children.length>0){var r=this.findEle(sf.base.select(".e-content",this.element).children,"e-content"+this.tabId+"_"+a);sf.base.isNullOrUndefined(r)||r.classList.add("e-active"),this.triggerAnimation(n,this.enableAnimation)}}else if(!this.isServerRendered||this.isServerRendered&&"Init"===this.loadOn){this.cntEle=sf.base.select(".e-tab > .e-content",this.element);var l=this.getTrgContent(this.cntEle,this.extIndex(n));if(sf.base.isNullOrUndefined(l)){this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_"+this.extIndex(n),className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+this.extIndex(n)}}));var o=this.getTrgContent(this.cntEle,this.extIndex(n)),d=Array.prototype.indexOf.call(this.itemIndexArray,n);this.getContent(o,this.items[d].content,"render",d)}else l.classList.add("e-active");this.triggerAnimation(n,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(s),!this.initRender&&!t){s.firstElementChild.focus();var h={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:s,selectedIndex:e,selectedContent:sf.base.select("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed};this.trigger("selected",h)}}},t.prototype.contentReady=function(){var e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)},t.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=sf.base.select("."+se,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1},t.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()},t.prototype.refreshActiveBorder=function(){sf.base.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.setActiveBorder()},t.prototype.showPopup=function(e){var t=sf.base.select(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){var s=t&&t.ej2_instances[0];s.position.X="Left"===this.headerPlacement?"left":"right",s.dataBind(),s.show(e)}},t.prototype.wireEvents=function(){window.addEventListener("resize",this.resizeContext),sf.base.EventHandler.add(this.element,"mouseover",this.hoverHandler,this),sf.base.EventHandler.add(this.element,"keydown",this.spaceKeyDown,this),sf.base.isNullOrUndefined(this.cntEle)||(this.touchModule=new sf.base.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},t.prototype.unWireEvents=function(){this.keyModule.destroy(),this.tabKeyModule.destroy(),sf.base.isNullOrUndefined(this.cntEle)||this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),sf.base.EventHandler.remove(this.element,"mouseover",this.hoverHandler),sf.base.EventHandler.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove("e-rtl"),this.element.classList.remove("e-focused")},t.prototype.clickHandler=function(e){this.element.classList.remove("e-focused");var t=e.originalEvent.target,s=sf.base.closest(t,"."+ie),i=this.getEleIndex(s);t.classList.contains("e-close-icon")?this.removeTab(i):this.isVertical()&&sf.base.closest(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,this.isServerRendered&&!sf.base.isNullOrUndefined(s)?parseInt(s.getAttribute("data-index"),10)!==this.selectedItem&&this.select(i):sf.base.isNullOrUndefined(s)||i===this.selectedItem&&i===this.prevIndex||this.select(i))},t.prototype.swipeHandler=function(e){if(!(e.velocity<3&&sf.base.isNullOrUndefined(e.originalEvent.changedTouches))){if(this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var t=this.selectedItem-1;t>=0;t--)if(!this.tbItem[t].classList.contains("e-hidden")){this.select(t);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==sf.base.selectAll("."+ie,this.element).length-1)for(var s=this.selectedItem+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains("e-hidden")){this.select(s);break}this.isSwipeed=!1}},t.prototype.spaceKeyDown=function(e){if(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which){var t=sf.base.closest(e.target,".e-tab-header");sf.base.isNullOrUndefined(t)||e.preventDefault()}},t.prototype.keyHandler=function(e){if(!this.element.classList.contains("e-disable")){this.element.classList.add("e-focused");var t=e.target,s=this.getTabHeader(),i=sf.base.select(".e-active",s);switch(this.popEle=sf.base.select(".e-toolbar-pop",s),sf.base.isNullOrUndefined(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]),e.action){case"space":case"enter":if(t.parentElement.classList.contains("e-disable"))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains("e-tab-wrap")&&!1===sf.base.closest(t,"."+ie).classList.contains("e-active")&&t.setAttribute("tabindex","-1"),this.popObj&&sf.base.isVisible(this.popObj.element)&&this.popObj.hide(this.hide),i.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":var n=sf.base.closest(document.activeElement,"."+ie);sf.base.isNullOrUndefined(n)||this.refreshItemVisibility(n);break;case"openPopup":e.preventDefault(),!sf.base.isNullOrUndefined(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":var a=sf.base.closest(t,"."+ie);if(!0===this.showCloseButton&&!sf.base.isNullOrUndefined(a)){var r=a.nextSibling;!sf.base.isNullOrUndefined(r)&&r.classList.contains(ie)&&r.firstElementChild.focus(),this.removeTab(this.getEleIndex(a))}this.setActiveBorder()}}},t.prototype.refreshActElePosition=function(){var e=sf.base.select("."+ie+"."+ne+".e-active",this.element);sf.base.isNullOrUndefined(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()},t.prototype.refreshItemVisibility=function(e){var t=sf.base.select("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!sf.base.isNullOrUndefined(t)){var s=sf.base.select(".e-hscroll-bar",this.tbItems),i=s.scrollLeft,n=i+s.offsetWidth,a=e.offsetLeft,r=e.offsetWidth,l=e.offsetLeft+e.offsetWidth;if(i<a&&n<l){var o=n-a;s.scrollLeft=i+(r-o)}else if(i>a&&n>l){o=l-i;s.scrollLeft=i-(r-o)}}},t.prototype.hoverHandler=function(e){var t=e.target;!sf.base.isNullOrUndefined(t.classList)&&t.classList.contains("e-close-icon")&&t.setAttribute("title",new sf.base.L10n("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))},t.prototype.evalOnPropertyChangeItems=function(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,sf.base.isNullOrUndefined(this.tbObj))this.reRenderItems();else{this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];for(var s=sf.base.select(".e-tab > .e-content",this.element);s.firstElementChild&&!sf.base.isBlazor();)sf.base.detach(s.firstElementChild);this.select(this.selectedItem)}else for(var i=Object.keys(e.items),n=0;n<i.length;n++){var a=parseInt(Object.keys(e.items)[n],10),r=Object.keys(e.items[a])[0],l=Object(t.items[a])[r],o=Object(e.items[a])[r],d=sf.base.select("."+se+" #e-item"+this.tabId+"_"+a,this.element),h=sf.base.select(".e-content #e-content"+this.tabId+"_"+a,this.element);if("header"===r||"headerTemplate"===r){var c=sf.base.isNullOrUndefined(this.items[a].header)||sf.base.isNullOrUndefined(this.items[a].header.iconCss)?"":this.items[a].header.iconCss;if(""===(this.items[a].headerTemplate||this.items[a].header.text)&&""===c)this.removeTab(a);else{var f=[];f.push(this.items[a]),this.items.splice(a,1),this.itemIndexArray.splice(a,1),this.tbObj.items.splice(a,1);var p=d.classList.contains("e-hidden");sf.base.detach(d),this.isReplace=!0,this.addTab(f,a),p&&this.hideTab(a),this.isReplace=!1}}if("content"===r&&!sf.base.isNullOrUndefined(h))if(("string"==typeof o||sf.base.isNullOrUndefined(o.innerHTML))&&("."===o[0]||"#"===o[0])&&o.length){var u=document.querySelector(o);h.appendChild(u),u.style.display=""}else""===o&&"#"===l[0]?(document.body.appendChild(this.element.querySelector(l)).style.display="none",h.innerHTML=o):h.innerHTML=o;"cssClass"===r&&(sf.base.isNullOrUndefined(d)||(d.classList.remove(l),d.classList.add(o)),sf.base.isNullOrUndefined(h)||(h.classList.remove(l),h.classList.add(o))),"disabled"===r&&this.enableTab(a,!0!==o),"visible"===r&&this.hideTab(a,!0!==o)}},t.prototype.enableTab=function(e,t){var s=sf.base.selectAll("."+ie,this.element)[e];sf.base.isNullOrUndefined(s)||(!0===t?(s.classList.remove("e-disable","e-overlay"),s.firstElementChild.setAttribute("tabindex","-1")):(s.classList.add("e-disable","e-overlay"),s.firstElementChild.removeAttribute("tabindex"),s.classList.contains("e-active")&&this.select(e+1)),sf.base.isNullOrUndefined(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),s.setAttribute("aria-disabled",!0===t?"false":"true"))},t.prototype.addTab=function(e,t){var s=this,i={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",i,(function(i){i.cancel||s.addingTabContent(e,t)}))},t.prototype.addingTabContent=function(e,t){var s=this,i=0;if(this.hdrEle=sf.base.select(".e-tab-header",this.element),sf.base.isNullOrUndefined(this.hdrEle))this.items=e,this.reRenderItems();else{var n=sf.base.selectAll("."+ie,this.element).length;if(0!==n&&(i=this.lastIndex+1),sf.base.isNullOrUndefined(t)&&(t=n-1),n<t||t<0||isNaN(t))return;0!==n||sf.base.isNullOrUndefined(this.hdrEle)||(this.hdrEle.style.display=""),sf.base.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.tbItems=sf.base.select("."+se,this.getTabHeader()),this.isAdd=!0;var a=this.parseObject(e,t);this.isAdd=!1;var r,l=0;e.forEach((function(e,n){if(r=e.headerTemplate||e.header.text,sf.base.isNullOrUndefined(e.headerTemplate||e.header)||sf.base.isNullOrUndefined(r)||0===r.length&&sf.base.isNullOrUndefined(e.header.iconCss)||(s.items.splice(t+l,0,e),l++),s.isTemplate&&!sf.base.isNullOrUndefined(e.header)&&!sf.base.isNullOrUndefined(e.header.text)){var a=i+n,o=s.createElement("div",{id:"e-content"+s.tabId+"_"+a,className:"e-item",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+a}});s.cntEle.insertBefore(o,s.cntEle.children[t+n]);var d=s.getTrgContent(s.cntEle,a.toString());s.getContent(d,e.content,"render",t)}})),this.tbObj.addItems(a,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder()}},t.prototype.removeTab=function(e){var t=this,s=sf.base.selectAll("."+ie,this.element)[e];if(!sf.base.isNullOrUndefined(s)){var i={removedItem:s,removedIndex:e,cancel:!1};this.trigger("removing",i,(function(i){if(!i.cancel){if(sf.base.isBlazor()&&t.isServerRendered)return void t.interopAdaptor.invokeMethodAsync("OnRemoveItem",e);t.tbObj.removeItems(e),t.items.splice(e,1),t.itemIndexArray.splice(e,1),t.refreshActiveBorder();var n=sf.base.select("#e-content"+t.tabId+"_"+t.extIndex(s.id),sf.base.select(".e-content",t.element));sf.base.isNullOrUndefined(n)||sf.base.detach(n),t.trigger("removed",i),s.classList.contains("e-active")&&(e=e>sf.base.selectAll("."+ie+":not(."+ne+")",t.element).length-1?e-1:e,t.enableAnimation=!1,t.selectedItem=e,t.select(e)),0===sf.base.selectAll("."+ie,t.element).length&&(t.hdrEle.style.display="none"),t.enableAnimation=!0}}))}},t.prototype.hideTab=function(e,t){var s,i=sf.base.selectAll("."+ie,this.element)[e];if(!sf.base.isNullOrUndefined(i)){if(sf.base.isNullOrUndefined(t)&&(t=!0),this.bdrLine.classList.add("e-hidden"),!0===t)if(i.classList.add("e-hidden"),0!==(s=sf.base.selectAll("."+ie+":not(.e-hidden)",this.tbItems)).length&&i.classList.contains("e-active")){if(0!==e)for(var n=e-1;n>=0;n--){if(!this.tbItem[n].classList.contains("e-hidden")){this.select(n);break}if(0===n)for(var a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains("e-hidden")){this.select(a);break}}else for(a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains("e-hidden")){this.select(a);break}}else 0===s.length&&this.element.classList.add("e-hidden");else this.element.classList.remove("e-hidden"),s=sf.base.selectAll("."+ie+":not(.e-hidden)",this.tbItems),i.classList.remove("e-hidden"),0===s.length&&this.select(e);this.setActiveBorder(),i.setAttribute("aria-hidden",""+t),!this.isServerRendered&&"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}},t.prototype.select=function(e){var t=this,s=this.getTabHeader();this.tbItems=sf.base.select("."+se,s),this.tbItem=sf.base.selectAll("."+ie,s),this.content=sf.base.select(".e-content",this.element),this.prevItem=this.tbItem[this.prevIndex],sf.base.isNullOrUndefined(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var i=this.tbItem[e];sf.base.isNullOrUndefined(i)?this.selectedID="0":this.selectingID=this.extIndex(i.id),sf.base.isNullOrUndefined(this.prevItem)||this.prevItem.classList.contains("e-disable")||this.prevItem.children.item(0).setAttribute("tabindex","-1");var n={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:sf.base.isNullOrUndefined(this.content)?null:sf.base.select("#e-content"+this.tabId+"_"+this.selectedID,this.content),selectingItem:i,selectingIndex:e,selectingContent:sf.base.isNullOrUndefined(this.content)?null:sf.base.select("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,cancel:!1};this.initRender?this.selectingContent(e):this.trigger("selecting",n,(function(s){s.cancel||t.selectingContent(e)}))},t.prototype.selectingContent=function(e){if("number"==typeof e){if(!sf.base.isNullOrUndefined(this.tbItem[e])&&(this.tbItem[e].classList.contains("e-disable")||this.tbItem[e].classList.contains("e-hidden")))for(var t=e+1;t<this.items.length;t++){if(!1===this.items[t].disabled&&!0===this.items[t].visible){e=t;break}e=0}this.tbItem.length>e&&e>=0&&!isNaN(e)?(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains(ne)?this.setActive(this.popupHandler(this.tbItem[e])):this.setActive(e)):this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))},t.prototype.disable=function(e){this.setCssClass(this.element,"e-disable",e),this.element.setAttribute("aria-disabled",""+e)},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},t.prototype.getModuleName=function(){return"tab"},t.prototype.onPropertyChanged=function(e,t){for(var s=0,i=Object.keys(e);s<i.length;s++){switch(i[s]){case"width":sf.base.setStyleAttribute(this.element,{width:sf.base.formatUnit(e.width)});break;case"height":sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(e.height)}),this.isServerRendered||this.setContentHeight(!1);break;case"cssClass":""!==t.cssClass?(this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0)):this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.isServerRendered||this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.isServerRendered||(this.selectedItem=t.selectedItem,this.select(e.selectedItem));break;case"headerPlacement":this.isServerRendered?this.serverChangeOrientation(e.headerPlacement,t.headerPlacement):this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.isServerRendered||(this.setContentHeight(!1),this.select(this.selectedItem));break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep)}}},te([sf.base.Collection([],de)],t.prototype,"items",void 0),te([sf.base.Property("100%")],t.prototype,"width",void 0),te([sf.base.Property("auto")],t.prototype,"height",void 0),te([sf.base.Property("")],t.prototype,"cssClass",void 0),te([sf.base.Property(0)],t.prototype,"selectedItem",void 0),te([sf.base.Property("Top")],t.prototype,"headerPlacement",void 0),te([sf.base.Property("Content")],t.prototype,"heightAdjustMode",void 0),te([sf.base.Property("Scrollable")],t.prototype,"overflowMode",void 0),te([sf.base.Property("Dynamic")],t.prototype,"loadOn",void 0),te([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),te([sf.base.Property(!1)],t.prototype,"showCloseButton",void 0),te([sf.base.Property()],t.prototype,"scrollStep",void 0),te([sf.base.Complex({},le)],t.prototype,"animation",void 0),te([sf.base.Event()],t.prototype,"created",void 0),te([sf.base.Event()],t.prototype,"adding",void 0),te([sf.base.Event()],t.prototype,"added",void 0),te([sf.base.Event()],t.prototype,"selecting",void 0),te([sf.base.Event()],t.prototype,"selected",void 0),te([sf.base.Event()],t.prototype,"removing",void 0),te([sf.base.Event()],t.prototype,"removed",void 0),te([sf.base.Event()],t.prototype,"destroyed",void 0),t=te([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),ce=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),fe=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},pe="e-treeview",ue="e-icon-collapsible",be="e-icon-expandable",me="e-list-item",ve="e-list-text",ge="e-list-parent",ye="e-hover",Ce="e-active",Ne="e-icons-spinner",Ee="e-process",xe="e-icons",Oe="e-text-content",Se="e-sibling",we="e-drop-next",ke="e-check",Le="e-checkbox-wrapper",Ie="e-node-focus",Ae={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),fe([sf.base.Property("child")],t.prototype,"child",void 0),fe([sf.base.Property([])],t.prototype,"dataSource",void 0),fe([sf.base.Property("expanded")],t.prototype,"expanded",void 0),fe([sf.base.Property("hasChildren")],t.prototype,"hasChildren",void 0),fe([sf.base.Property("htmlAttributes")],t.prototype,"htmlAttributes",void 0),fe([sf.base.Property("iconCss")],t.prototype,"iconCss",void 0),fe([sf.base.Property("id")],t.prototype,"id",void 0),fe([sf.base.Property("imageUrl")],t.prototype,"imageUrl",void 0),fe([sf.base.Property("isChecked")],t.prototype,"isChecked",void 0),fe([sf.base.Property("parentID")],t.prototype,"parentID",void 0),fe([sf.base.Property(null)],t.prototype,"query",void 0),fe([sf.base.Property("selected")],t.prototype,"selected",void 0),fe([sf.base.Property(null)],t.prototype,"tableName",void 0),fe([sf.base.Property("text")],t.prototype,"text",void 0),fe([sf.base.Property("tooltip")],t.prototype,"tooltip",void 0),fe([sf.base.Property("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(sf.base.ChildProperty),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),fe([sf.base.Property("SlideDown")],t.prototype,"effect",void 0),fe([sf.base.Property(400)],t.prototype,"duration",void 0),fe([sf.base.Property("linear")],t.prototype,"easing",void 0),t}(sf.base.ChildProperty),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),fe([sf.base.Complex({effect:"SlideUp",duration:400,easing:"linear"},Pe)],t.prototype,"collapse",void 0),fe([sf.base.Complex({effect:"SlideDown",duration:400,easing:"linear"},Pe)],t.prototype,"expand",void 0),t}(sf.base.ChildProperty),He=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.isRefreshed=!1,i.preventExpand=!1,i.checkedElement=[],i.disableNode=[],i.validArr=[],i.expandChildren=[],i.isFieldChange=!1,i.changeDataSource=!1,i.isBlazorExpandedNodes=[],i.mouseDownStatus=!1,i}var s;return ce(t,e),s=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var e=this;this.isBlazorPlatform=sf.base.isBlazor()&&this.isServerRendered,this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:be,ariaAttributes:Ae,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new sf.base.Animation({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),sf.base.isNullOrUndefined(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),sf.base.isNullOrUndefined(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),sf.base.isNullOrUndefined(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])},t.prototype.render=function(){this.initialRender=!0,this.blazorInitialRender=!1,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.isBlazorPlatform||(this.initialRender=!1),this.renderComplete()},t.prototype.initialize=function(){this.isBlazorPlatform||(this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect)),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?this.element.classList.add("e-disabled"):this.element.classList.remove("e-disabled")},t.prototype.setEnableRtl=function(){this.enableRtl?sf.base.addClass([this.element],"e-rtl"):sf.base.removeClass([this.element],"e-rtl")},t.prototype.setRipple=function(){var e={selector:".e-fullrow,.e-text-content",ignore:"."+Oe+" > ."+xe+",.e-input-group,.e-input, ."+Le};this.rippleFn=sf.base.rippleEffect(this.element,e);var t={selector:"."+Oe+" > ."+xe,isCenterRipple:!0};this.rippleIconFn=sf.base.rippleEffect(this.element,t)},t.prototype.setFullRow=function(e){e?sf.base.addClass([this.element],"e-fullrow-wrap"):sf.base.removeClass([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(e){var t=sf.base.select("."+ge,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")},t.prototype.templateComplier=function(e){if(e)try{if(document.querySelectorAll(e).length)return sf.base.compile(document.querySelector(e).innerHTML.trim())}catch(t){return sf.base.compile(e)}},t.prototype.setDataBinding=function(e){var t=this;this.treeList.push("false"),this.fields.dataSource instanceof sf.data.DataManager?this.fields.dataSource.ready?this.fields.dataSource.ready.then((function(e){t.fields.dataSource instanceof sf.data.DataManager&&t.fields.dataSource.dataSource.offline&&(t.treeList.pop(),t.treeData=e.result,t.isNumberTypeId=t.getType(),t.setRootData(),t.renderItems(!0),0!==t.treeList.length||t.isLoaded||t.finalize())})).catch((function(e){t.trigger("actionFailure",{error:e})})):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then((function(s){t.treeList.pop(),t.treeData=s.result,t.isNumberTypeId=t.getType(),t.setRootData(),e&&(t.changeDataSource=!0),t.renderItems(!0),t.changeDataSource=!1,0!==t.treeList.length||t.isLoaded||t.finalize()})).catch((function(e){t.trigger("actionFailure",{error:e})})):(this.treeList.pop(),sf.base.isNullOrUndefined(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.getQuery=function(e,t){void 0===t&&(t=null);var s,i=[];if(e.query)s=e.query.clone();else{s=new sf.data.Query;for(var n=this.getActualProperties(e),a=0,r=Object.keys(n);a<r.length;a++){var l=r[a];"dataSource"!==l&&"tableName"!==l&&"child"!==l&&e[l]&&"url"!==l&&-1===i.indexOf(e[l])&&i.push(e[l])}s.select(i),n.hasOwnProperty("tableName")&&s.from(e.tableName)}return sf.lists.ListBase.addSorting(this.sortOrder,e.text,s),sf.base.isNullOrUndefined(t)||sf.base.isNullOrUndefined(e.parentID)||s.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),s},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof sf.base.getValue(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);sf.base.isNullOrUndefined(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},t.prototype.renderItems=function(e){if(!this.isBlazorPlatform||this.isBlazorPlatform&&this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName||this.changeDataSource){this.listBaseOption.ariaAttributes.level=1;var t=this.getSortedData(this.rootData);this.ulElement=sf.lists.ListBase.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);var s=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var i=0;i<s.length;)this.renderChildNodes(s[i],!0,null,!0),i++;(1===sf.base.selectAll("."+ge,this.element).length&&s&&0!==s.length||this.loadOnDemand)&&this.finalizeNode(this.element)}this.updateTemplateForBlazor(),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateTemplateForBlazor=function(){this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate()},t.prototype.updateCheckedStateFromDS=function(e){if(this.treeData&&this.showCheckBox)if(1===this.dataType){for(var t=this.fields,s=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(t.isChecked,"equal",!0,!1)),i=0;i<s.length;i++){var n=s[i][this.fields.id]?s[i][this.fields.id].toString():null;s[i][this.fields.parentID]&&s[i][this.fields.parentID].toString();if(-1!==this.checkedNodes.indexOf(n)||this.isLoaded||this.checkedNodes.push(n),s[i][this.fields.hasChildren])for(var a=s[i][this.fields.id],r=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(t.parentID,"equal",a,!1)),l=0;l<r.length;l++){var o=r[l][this.fields.id]?r[l][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o)}}for(i=0;i<this.checkedNodes.length;i++){var d=this.fields,h=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(d.id,"equal",this.checkedNodes[i],!0));h[0]&&this.autoCheck&&(this.getCheckedNodeDetails(d,h),this.checkIndeterminateState(h[0]));for(var c=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(d.parentID,"equal",this.checkedNodes[i],!0)),f=0;f<c.length;f++){var p=c[f][this.fields.id]?c[f][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(p)&&this.autoCheck&&this.checkedNodes.push(p)}}}else if(2===this.dataType||this.fields.dataSource instanceof sf.data.DataManager&&this.fields.dataSource.dataSource.offline)for(f=0;f<this.treeData.length;f++){var u=this.treeData[f][this.fields.id]?this.treeData[f][this.fields.id].toString():"";this.treeData[f][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(u)&&this.checkedNodes.push(u);var b=sf.base.getValue(this.fields.child.toString(),this.treeData[f]);b&&this.updateChildCheckState(b,this.treeData[f])}},t.prototype.getCheckedNodeDetails=function(e,t){var s=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,i=0,n=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),a=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(n||a){if(a){sf.base.select("."+ke,a)||this.changeState(a,"indeterminate",null,!0,!0)}}else{this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(s)&&this.parentNodeCheck.push(s);for(var r=this.getChildNodes(this.treeData,s),l=0;l<r.length;l++){var o=r[l][this.fields.id]?r[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(o)&&i++,i===r.length&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}var d=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(e.id,"equal",s,!0));this.getCheckedNodeDetails(e,d)}},t.prototype.updateParentCheckState=function(){for(var e,t=sf.base.selectAll(".e-stop",this.element),s=0;s<t.length;s++){var i=sf.base.closest(t[s],"."+me),n=i.getAttribute("data-uid").toString(),a=0;if(e=1===this.dataType?new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(this.fields.parentID,"equal",n,!0)):this.getChildNodes(this.treeData,n)){for(var r=0;r<e.length;r++){var l=e[r][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&a++}if(a===e.length){var o=i.getAttribute("data-uid");-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),this.changeState(i,"check",null,!0,!0)}else 0===a&&0===this.checkedNodes.length&&this.changeState(i,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(e){var t;if(t=1===this.dataType?this.element.querySelector('[data-uid="'+e[this.fields.parentID]+'"]'):this.element.querySelector('[data-uid="'+e[this.fields.id]+'"]'))"true"!==t.querySelector("."+Le).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0);else if(2===this.dataType){this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}},t.prototype.updateChildCheckState=function(e,t){for(var s=0,i=t[this.fields.id]?t[this.fields.id].toString():"",n=0;n<e.length;n++){var a=e[n][this.fields.id]?e[n][this.fields.id].toString():"";e[n][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(a)&&this.autoCheck&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(a)&&this.autoCheck&&s++;var r=sf.base.getValue(this.fields.child.toString(),e[n]);r&&(this.parentCheckData.push(t),this.updateChildCheckState(r,e[n])),s===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}if(0!==s&&this.autoCheck){this.checkIndeterminateState(t);for(var l=0;l<this.parentCheckData.length;l++)t!==this.parentCheckData[l]&&this.parentCheckData[l]&&this.checkIndeterminateState(this.parentCheckData[l])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var t=sf.buttons.createCheckBox(this.createElement,!0,{cssClass:this.touchClass});t.setAttribute("role","checkbox");var s=sf.base.select("div."+xe,e.item),i=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[sf.base.isNullOrUndefined(s)?0:1]);var n=sf.base.getValue(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(i)>-1?(sf.base.select(".e-frame",t).classList.add(ke),t.setAttribute("aria-checked","true"),this.addCheck(e.item)):sf.base.isNullOrUndefined(n)||"true"!==n.toString()?t.setAttribute("aria-checked","false"):(sf.base.select(".e-frame",t).classList.add(ke),t.setAttribute("aria-checked","true"),this.addCheck(e.item));var a=sf.base.select(".e-frame",t);sf.base.EventHandler.add(a,"mousedown",this.frameMouseHandler,this),sf.base.EventHandler.add(a,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains("e-selected")&&e.item.setAttribute("aria-selected","false");var r=e.fields;if(this.addActionClass(e,r.selected,"e-selected"),this.addActionClass(e,r.expanded,"e-expanded"),!sf.base.isNullOrUndefined(this.nodeTemplateFn)){var l=e.item.querySelector("."+ve);l.innerHTML="";var o=this.nodeTemplateFn(e.curData,void 0,void 0,this.element.id+"nodeTemplate",this.isStringTemplate);o=Array.prototype.slice.call(o),sf.base.append(o,l)}var d={node:e.item,nodeData:e.curData,text:e.text};this.isRefreshed||this.trigger("drawNode",d)},t.prototype.frameMouseHandler=function(e){var t=sf.base.select(".e-ripple-container",e.target.parentElement);sf.buttons.rippleMouseHandler(e,t)},t.prototype.addActionClass=function(e,t,s){var i=e.curData,n=sf.base.getValue(t,i);sf.base.isNullOrUndefined(n)||"false"===n.toString()||e.item.classList.add(s)},t.prototype.getDataType=function(e,t){if(this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){for(var s=0;s<e.length;s++)if("string"==typeof t.child&&sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[s])))return 1;return 2}s=0;for(var i=e.length;s<i;s++){if("string"==typeof t.child&&!sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[s])))return 2;if(!sf.base.isNullOrUndefined(sf.base.getValue(t.parentID,e[s]))||!sf.base.isNullOrUndefined(sf.base.getValue(t.hasChildren,e[s])))return 1}return 1},t.prototype.getGroupedData=function(e,t){for(var s=(new sf.data.Query).group(t),i=sf.lists.ListBase.getDataSource(e,s),n=[],a=0;a<i.length;a++){var r=i[a].items;n.push(r)}return n},t.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=sf.lists.ListBase.getDataSource(e,sf.lists.ListBase.addSorting(this.sortOrder,this.fields.text))),e},t.prototype.finalizeNode=function(e){for(var t=sf.base.selectAll(".e-list-img",e),s=0;s<t.length;s++)t[s].setAttribute("alt","e-list-img");if(this.isLoaded){for(var i=sf.base.selectAll(".e-selected",e),n=0;n<i.length;n++){this.selectNode(i[n],null);break}sf.base.removeClass(i,"e-selected")}for(var a=sf.base.selectAll("."+me+":not(.e-expanded)",e),r=0;r<a.length;r++){var l=sf.base.select("div."+xe,a[r]);l&&l.classList.contains(be)&&this.disableExpandAttr(a[r])}var o=sf.base.selectAll(".e-expanded",e);if(!this.isInitalExpand)for(n=0;n<o.length;n++)this.renderChildNodes(o[n]);sf.base.removeClass(o,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var e=sf.base.selectAll("li",this.element),t=0;t<e.length;t++)e[t].classList.contains(me)&&(sf.base.select("."+ge,e[t])?this.ensureParentCheckState(e[t]):this.ensureChildCheckState(e[t]));else{var s=sf.base.selectAll(".e-stop",this.element);for(t=0;t<s.length;t++)s[t].classList.remove("e-stop")}},t.prototype.ensureParentCheckState=function(e){if(!sf.base.isNullOrUndefined(e)){if(e.classList.contains(pe))return;var t=e;e.classList.contains(me)&&(t=sf.base.select("."+ge,e));var s=sf.base.selectAll("."+ke,t),i=sf.base.selectAll(".e-stop",t),n=sf.base.selectAll("."+me,t),a=e.getElementsByClassName(Le)[0];n.length===s.length?this.changeState(a,"check",null,!0,!0):s.length>0||i.length>0?this.changeState(a,"indeterminate",null,!0,!0):0===s.length&&this.changeState(a,"uncheck",null,!0,!0);var r=sf.base.closest(e,"."+ge);if(!sf.base.isNullOrUndefined(r)){var l=sf.base.closest(r,"."+me);this.ensureParentCheckState(l)}}},t.prototype.ensureChildCheckState=function(e,t){if(!sf.base.isNullOrUndefined(e)){var s=sf.base.select("."+ge,e),i=void 0;if(!sf.base.isNullOrUndefined(s)){i=sf.base.selectAll("."+Le,s);for(var n=e.getElementsByClassName("e-frame")[0].classList.contains(ke),a=e.getElementsByClassName("e-frame")[0].classList.contains("e-stop"),r=s.querySelectorAll("li"),l=(s.parentElement.getAttribute("aria-expanded"),void 0),o=0;o<i.length;o++){var d=r[o].getAttribute("data-uid");if(sf.base.isNullOrUndefined(this.currentLoadData)||sf.base.isNullOrUndefined(sf.base.getValue(this.fields.isChecked,this.currentLoadData[o]))){var h=i[o].getElementsByClassName("e-frame")[0].classList.contains(ke);n||h&&!this.isLoaded||-1!==this.checkedNodes.indexOf(d)&&this.isLoaded&&(a||n)?l="check":r[o].classList.contains("e-has-child")&&!sf.base.isUndefined(this.parentNodeCheck)&&this.autoCheck&&(n||a)&&-1!==this.parentNodeCheck.indexOf(d)||1===this.dataType&&!sf.base.isUndefined(this.parentNodeCheck)&&this.autoCheck&&(n||a)&&-1!==this.parentNodeCheck.indexOf(d)?(l="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(d),1)):l="uncheck"}else l=sf.base.getValue(this.fields.isChecked,this.currentLoadData[o])?"check":"uncheck",-1!==this.ele&&(l=n?"check":"uncheck"),"uncheck"===l&&!sf.base.isUndefined(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(d)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(d),1),l="indeterminate");this.changeState(i[o],l,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(e,t){sf.base.selectAll("."+me,this.element);if(sf.base.isNullOrUndefined(e)){var s=sf.base.selectAll("."+Le,this.element);if(this.loadOnDemand)for(var i=0;i<s.length;i++)this.updateFieldChecked(s[i],t),this.changeState(s[i],t?"check":"uncheck",null,null,null,t);else for(i=0;i<s.length;i++)this.updateFieldChecked(s[i],t),this.changeState(s[i],t?"check":"uncheck")}else for(var n=e.length;n>=0;n--){var a=void 0;if(a=1===e.length?this.getElement(e[n-1]):this.getElement(e[n]),sf.base.isNullOrUndefined(a)){var r=void 0;if(""!==(r=e[n-e.length]?e[n-e.length].toString():e[n]?e[n].toString():null)&&t&&r)this.setValidCheckedNode(r),this.dynamicCheckState(r,t);else if(-1!==this.checkedNodes.indexOf(r)&&""!==r&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(r),1);var l=this.getChildNodes(this.treeData,r);if(l){for(var o=0;o<l.length;o++){var d=l[o][this.fields.id]?l[o][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(d)&&this.checkedNodes.splice(this.checkedNodes.indexOf(d),1)}-1!==this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1)}r&&this.dynamicCheckState(r,t),this.updateField(this.treeData,this.fields,r,"isChecked",null)}}else{var h=sf.base.select("."+ge+" ."+Le,a);this.validateCheckNode(h,!t,a,null)}}if(e)for(var c=0;c<e.length;c++){r=e[c]?e[c].toString():"";t||this.updateField(this.treeData,this.fields,r,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(e,t){var s=sf.base.closest(e,"."+me),i=s.getAttribute("data-uid");"true"!==this.getNodeData(s).isChecked||t||this.updateField(this.treeData,this.fields,i,"isChecked",null)},t.prototype.dynamicCheckState=function(e,t){if(1===this.dataType){var s=0,i=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(this.fields.id,"equal",e,!0));if(i[0]){var n=i[0][this.fields.id]?i[0][this.fields.id].toString():null,a=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,r=((c=this.element.querySelector('[data-uid="'+a+'"]'))&&sf.base.select(".e-stop",c),c?sf.base.select("."+ke,c):null),l=this.element.querySelector('[data-uid="'+n+'"]'),o=this.getChildNodes(this.treeData,a);if(o)for(var d=0;d<o.length;d++){var h=o[d][this.fields.id]?o[d][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(h)&&s++}-1!==this.checkedNodes.indexOf(e)&&c&&n===e&&this.autoCheck?this.changeState(c,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&l&&n===e&&!t?this.changeState(l,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&l&&n===e&&t?this.changeState(l,"check",null):-1===this.checkedNodes.indexOf(e)&&!l&&c&&n===e&&this.autoCheck&&0!==s?this.changeState(c,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!l&&c&&n===e&&this.autoCheck&&0===s?this.changeState(c,"uncheck",null):l||c||n!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof sf.data.DataManager&&this.fields.dataSource.dataSource.offline){n=void 0;var c=void 0;for(r=void 0,d=0;d<this.treeData.length;d++){n=this.treeData[d][this.fields.id]?this.treeData[d][this.fields.id].toString():"",r=(c=this.element.querySelector('[data-uid="'+n+'"]'))?sf.base.select("."+ke,c):null,-1===this.checkedNodes.indexOf(n)&&c&&r&&!t&&this.changeState(c,"uncheck",null);var f=sf.base.getValue(this.fields.child.toString(),this.treeData[d]);f&&this.updateChildIndeterminate(f,n,e,t,n)}}},t.prototype.updateIndeterminate=function(e,t){var s,i=this.getTreeData(e),n=0;1===this.dataType&&(s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);var a=this.getChildNodes(this.treeData,s);if(a)for(var r=0;r<a.length;r++){var l=a[r][this.fields.id]?a[r][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(l)&&n++}var o=this.element.querySelector('[data-uid="'+s+'"]');o&&t||!t&&o&&-1===this.parentNodeCheck.indexOf(s)&&0!==n?this.changeState(o,"indeterminate",null):!t&&o&&-1===this.parentNodeCheck.indexOf(s)&&0===n?this.changeState(o,"uncheck",null):o||(t||-1!==this.checkedNodes.indexOf(s)||-1===this.parentNodeCheck.indexOf(s)?t&&-1===this.checkedNodes.indexOf(s)&&-1===this.parentNodeCheck.indexOf(s)?this.parentNodeCheck.push(s):t||-1===this.checkedNodes.indexOf(s)||-1!==this.parentNodeCheck.indexOf(s)||0===n||this.parentNodeCheck.push(s):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(s),1),this.updateIndeterminate(s,t),-1===this.checkedNodes.indexOf(s)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(s),1))},t.prototype.updateChildIndeterminate=function(e,t,s,i,n){for(var a=0,r=0;r<e.length;r++){var l=e[r][this.fields.id]?e[r][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(l)&&a++;var o=this.element.querySelector('[data-uid="'+t+'"]'),d=o?sf.base.select(".e-stop",o):null,h=o?sf.base.select("."+ke,o):null,c=this.element.querySelector('[data-uid="'+l+'"]'),f=c?sf.base.select("."+ke,c):null;if(-1!==this.checkedNodes.indexOf(s)&&o&&l===s&&this.autoCheck)this.changeState(o,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(s)||!o||c||l!==s||i){if(-1===this.checkedNodes.indexOf(s)&&c&&l===s&&!i)this.changeState(c,"uncheck",null);else if(-1===this.checkedNodes.indexOf(s)&&d&&l===s&&this.autoCheck&&0===a&&!i)d.classList.remove("e-stop");else if(-1===this.checkedNodes.indexOf(s)&&!c&&h&&l===s&&0===a)this.changeState(o,"uncheck",null);else if(-1===this.checkedNodes.indexOf(l)&&c&&f&&0===a)this.changeState(c,"uncheck",null);else if(!c&&!o&&l===s||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){var p=this.element.querySelector('[data-uid="'+n+'"]');i&&0!==a?this.changeState(p,"indeterminate",null):i&&a===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):i||0!==a||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.autoCheck?this.changeState(o,"uncheck",null):0!==a?this.changeState(o,"indeterminate",null):this.changeState(o,"uncheck",null);var u=sf.base.getValue(this.fields.child.toString(),e[r]);u&&this.updateChildIndeterminate(u,l,s,i,n)}},t.prototype.changeState=function(e,t,s,i,n,a){var r,l=this,o=sf.base.closest(e,"."+me);i?this.nodeCheckAction(e,t,o,r,s,i,n,a):(this.checkActionNodes=[],r=this.getCheckEvent(o,t,s),this.trigger("nodeChecking",r,(function(r){r.cancel||l.nodeCheckAction(e,t,o,r,s,i,n,a)})))},t.prototype.nodeCheckAction=function(e,t,s,i,n,a,r,l){var o,d=e.getElementsByClassName("e-frame")[0];if("check"!==t||d.classList.contains(ke)?"uncheck"===t&&(d.classList.contains(ke)||d.classList.contains("e-stop"))?(sf.base.removeClass([d],[ke,"e-stop"]),this.removeCheck(s),o="false"):"indeterminate"===t&&!d.classList.contains("e-stop")&&this.autoCheck&&(d.classList.remove(ke),d.classList.add("e-stop"),this.removeCheck(s),o="mixed"):(d.classList.remove("e-stop"),d.classList.add(ke),this.addCheck(s),o="true"),o="check"===t?"true":"uncheck"===t?"false":o,sf.base.isNullOrUndefined(o)||e.setAttribute("aria-checked",o),r){var h=[].concat([],this.checkActionNodes);i=this.getCheckEvent(s,t,n),sf.base.isUndefined(a)&&(i.data=h)}void 0!==l&&this.ensureStateChange(s,l),a||sf.base.isNullOrUndefined(o)||(e.setAttribute("aria-checked",o),this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,i.data[0].checked=o,this.trigger("nodeChecked",i),this.checkActionNodes=[])},t.prototype.addCheck=function(e){var t=e.getAttribute("data-uid");sf.base.isNullOrUndefined(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)},t.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},t.prototype.getCheckEvent=function(e,t,s){this.checkActionNodes.push(this.getNodeData(e));var i=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!sf.base.isNullOrUndefined(s),node:e,data:i}},t.prototype.finalize=function(){var e=sf.base.select("."+ge,this.element);if(!sf.base.isNullOrUndefined(e)){e.setAttribute("role",Ae.treeRole),this.setMultiSelect(this.allowMultiSelection);var t=sf.base.select("."+me,this.element);t&&(sf.base.addClass([t],Ie),this.updateIdAttr(null,t)),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.doExpandAction=function(){var e=this.expandedNodes;if(this.isInitalExpand&&e.length>0){if(this.setProperties({expandedNodes:[]},!0),this.isBlazorPlatform&&!this.initialRender)return;if(this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.expandGivenNodes(e);else{for(var t=0;t<e.length;t++){var s=sf.base.select('[data-uid="'+e[t]+'"]',this.element);if(sf.base.isNullOrUndefined(s))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{var i=sf.base.select("."+be,sf.base.select("."+Oe,s));sf.base.isNullOrUndefined(i)||this.expandAction(s,i,null)}}this.afterFinalized()}}else this.afterFinalized()},t.prototype.expandGivenNodes=function(e){var t=this;this.expandCallback(e[this.index],(function(){t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()}))},t.prototype.expandCallback=function(e,t){var s=sf.base.select('[data-uid="'+e+'"]',this.element);if(sf.base.isNullOrUndefined(s))t();else{var i=sf.base.select("."+be,sf.base.select("."+Oe,s));sf.base.isNullOrUndefined(i)?t():this.expandAction(s,i,null,!1,t)}},t.prototype.afterFinalized=function(){if((!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender)&&this.doSelectionAction(),this.updateCheckedProp(),this.isBlazorPlatform&&(this.initialRender&&this.setCheckedNodes(this.checkedNodes),this.updateInstance(),this.initialRender=!1),this.isAnimate=!0,this.isInitalExpand=!1,!this.isLoaded||this.isFieldChange){var e={data:this.treeData};this.trigger("dataBound",e)}this.isLoaded=!0},t.prototype.doSelectionAction=function(){var e=sf.base.selectAll(".e-selected",this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<t.length;s++){var i=sf.base.select('[data-uid="'+t[s]+'"]',this.element);if(i&&!i.classList.contains("e-active")?this.selectNode(i,null,!0):this.selectedNodes.push(t[s]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);sf.base.removeClass(e,"e-selected")},t.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},t.prototype.clickHandler=function(e){var t=e.originalEvent.target;if(sf.base.EventHandler.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){var s=t.classList,i=sf.base.closest(t,"."+me);if(i){if(3!==e.originalEvent.which){var n=sf.base.select(".e-ripple-element",i),a=sf.base.select("."+xe,i);if(this.removeHover(),this.setFocusElement(i),this.showCheckBox&&!i.classList.contains("e-disable")){var r=sf.base.closest(t,"."+Le);if(!sf.base.isNullOrUndefined(r)){var l=sf.base.select(".e-frame",r);return this.validateCheckNode(r,l.classList.contains(ke),i,e.originalEvent),void this.triggerClickEvent(e.originalEvent,i)}}s.contains(be)?this.expandAction(i,t,e):s.contains(ue)?this.collapseNode(i,t,e):n&&a?a.classList.contains("e-ripple")&&a.classList.contains(be)?this.expandAction(i,a,e):a.classList.contains("e-ripple")&&a.classList.contains(ue)?this.collapseNode(i,a,e):s.contains(ge)||s.contains(me)||this.toggleSelect(i,e.originalEvent,!1):s.contains(ge)||s.contains(me)||this.toggleSelect(i,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,i)}}},t.prototype.nodeCheckedEvent=function(e,t,s){sf.base.closest(e,"."+me);var i=this.getCheckEvent(e,t?"uncheck":"check",s);i.data=i.data.splice(0,i.data.length-1),this.trigger("nodeChecked",i)},t.prototype.triggerClickEvent=function(e,t){var s={event:e,node:t};this.trigger("nodeClicked",s)},t.prototype.expandNode=function(e,t,s){var i=this;if(t.classList.contains(Ne)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==s||!0===s&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){sf.base.removeClass([t],be),sf.base.addClass([t],ue);var n=0,a=0,r=this,l=sf.base.select("."+ge,e),o=e;this.setHeight(o,l);var d=sf.base.select("."+me+"."+Ce,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(l,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(t){o.style.overflow="hidden",!sf.base.isNullOrUndefined(d)&&d instanceof HTMLElement&&d.classList.add("e-animation-active"),n=o.offsetHeight,a=sf.base.select("."+Oe,e).offsetHeight},progress:function(e){e.element.style.display="block",r.animateHeight(e,n,a)},end:function(e){e.element.style.display="block",!sf.base.isNullOrUndefined(d)&&d instanceof HTMLElement&&d.classList.remove("e-animation-active"),i.expandedNode(o,l,t)}}):this.expandedNode(o,l,t)}}else sf.base.select("."+ge,e).style.display="none",this.fields.dataSource instanceof sf.data.DataManager==!0&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")},t.prototype.expandedNode=function(e,t,s){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",sf.base.removeClass([s],Ee),this.addExpand(e),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(e){e.setAttribute("aria-expanded","true"),sf.base.removeClass([e],"e-node-collapsed");var t=e.getAttribute("data-uid");sf.base.isNullOrUndefined(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)},t.prototype.collapseNode=function(e,t,s){var i,n=this;t.classList.contains(Ee)||(sf.base.addClass([t],Ee),this.isLoaded?(i=this.getExpandEvent(e,s),this.trigger("nodeCollapsing",i,(function(s){s.cancel?sf.base.removeClass([t],Ee):n.nodeCollapseAction(e,t,s)}))):this.nodeCollapseAction(e,t,i))},t.prototype.nodeCollapseAction=function(e,t,s){var i=this;sf.base.removeClass([t],ue),sf.base.addClass([t],be);var n=0,a=0,r=this,l=sf.base.select("."+ge,e),o=e,d=sf.base.select("."+me+"."+Ce,e);this.isAnimate?this.aniObj.animate(l,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(t){o.style.overflow="hidden",!sf.base.isNullOrUndefined(d)&&d instanceof HTMLElement&&d.classList.add("e-animation-active"),n=sf.base.select("."+Oe,e).offsetHeight,a=o.offsetHeight},progress:function(e){r.animateHeight(e,n,a)},end:function(e){e.element.style.display="none",!sf.base.isNullOrUndefined(d)&&d instanceof HTMLElement&&d.classList.remove("e-animation-active"),i.collapsedNode(o,l,t,s)}}):this.collapsedNode(o,l,t,s)},t.prototype.collapsedNode=function(e,t,s,i){t.style.display="none",e.style.overflow="",e.style.height="",sf.base.removeClass([s],Ee),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.removeExpand(e),this.isLoaded&&this.trigger("nodeCollapsed",i)},t.prototype.removeExpand=function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var s=this.expandedNodes.indexOf(e.getAttribute("data-uid"));s>-1&&this.expandedNodes.splice(s,1)},t.prototype.disableExpandAttr=function(e){e.setAttribute("aria-expanded","false"),sf.base.addClass([e],"e-node-collapsed")},t.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},t.prototype.animateHeight=function(e,t,s){var i=(s-t)*((e.duration-e.timeStamp)/e.duration)+t;e.element.parentElement.style.height=i+"px"},t.prototype.renderChildNodes=function(e,t,s,i){var n,a=this,r=sf.base.select("div."+xe,e);if(!sf.base.isNullOrUndefined(r))if(this.showSpinner(r),this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){var l=this.parents(e,"."+ge).length,o=this.getChildFields(this.fields,l,1);if(sf.base.isNullOrUndefined(o)||sf.base.isNullOrUndefined(o.dataSource))return sf.base.detach(r),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof sf.data.DataManager&&this.fields.dataSource.dataSource.offline?(this.treeList.pop(),n=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(n,o,r,e,t,s,i),this.updateTemplateForBlazor()):o.dataSource.executeQuery(this.getQuery(o,e.getAttribute("data-uid"))).then((function(l){a.treeList.pop(),n=l.result,1===a.dataType&&(a.dataType=2),a.loadChild(n,o,r,e,t,s,i),a.updateTemplateForBlazor()})).catch((function(e){a.trigger("actionFailure",{error:e})}))}else{if(n=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=n,sf.base.isNullOrUndefined(n)||0===n.length)return sf.base.detach(r),void this.removeExpand(e,!0);this.isBlazorPlatform&&this.initialRender||(this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(sf.lists.ListBase.createList(this.createElement,this.getSortedData(n),this.listBaseOption))),this.expandNode(e,r,i),this.setSelectionForChildNodes(n),this.ensureCheckNode(e),this.finalizeNode(e),this.loadOnDemand&&this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate(),this.disableTreeNodes(n),this.renderSubChild(e,t,i)}},t.prototype.loadChild=function(e,t,s,i,n,a,r){if(this.currentLoadData=e,sf.base.isNullOrUndefined(e)||0===e.length)sf.base.detach(s),this.removeExpand(i,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof sf.data.DataManager&&!this.fields.dataSource.dataSource.offline){var l=i.getAttribute("data-uid"),o=this.getNodeObject(l);sf.base.setValue("child",e,o)}this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild(sf.lists.ListBase.createList(this.createElement,e,this.listBaseOption)),this.expandNode(i,s,r),this.setSelectionForChildNodes(e),this.ensureCheckNode(i),this.finalizeNode(i),this.disableTreeNodes(e),this.renderSubChild(i,n,r)}a&&a(),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.disableTreeNodes=function(e){for(var t=0;t<e.length;){var s=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(s)&&this.doDisableAction([s]),t++}},t.prototype.setSelectionForChildNodes=function(e){var t;for(t=0;t<e.length;t++){var s=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(s)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null},t.prototype.getFields=function(e,t,s){return t===s?e:this.getFields(this.getChildMapper(e),t,s+1)},t.prototype.getChildFields=function(e,t,s){return t===s?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,s+1)},t.prototype.getChildMapper=function(e){return"string"==typeof e.child||sf.base.isNullOrUndefined(e.child)?e:e.child},t.prototype.getChildNodes=function(e,t,s){var i;if(void 0===s&&(s=!1),sf.base.isNullOrUndefined(e))return i;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,s);if("string"==typeof this.fields.child)for(var n=0,a=e.length;n<a;n++){var r=sf.base.getValue(this.fields.id,e[n]);if(r&&r.toString()===t)return sf.base.getValue(this.fields.child,e[n]);if(!sf.base.isNullOrUndefined(sf.base.getValue(this.fields.child,e[n]))&&void 0!==(i=this.getChildNodes(sf.base.getValue(this.fields.child,e[n]),t)))break}return i},t.prototype.getChildGroup=function(e,t,s){if(!sf.base.isNullOrUndefined(e))for(var i=0,n=e.length;i<n;i++){if(sf.base.isNullOrUndefined(e[i][0])||sf.base.isNullOrUndefined(sf.base.getValue(this.fields.parentID,e[i][0])))return s?e[i]:[];if(sf.base.getValue(this.fields.parentID,e[i][0]).toString()===t)return e[i]}},t.prototype.renderSubChild=function(e,t,s){if(t)for(var i=sf.base.selectAll("."+be,e),n=0,a=i.length;n<a;n++){var r=i[n];if(e.querySelector(".e-icons")!==i[n]){var l=sf.base.closest(r,"."+me);this.expandArgs=this.getExpandEvent(l,null),!0!==s&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(l,t,null,s)}}},t.prototype.toggleSelect=function(e,t,s){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||s)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,s))},t.prototype.isActive=function(e){return!!e.classList.contains(Ce)},t.prototype.selectNode=function(e,t,s){var i,n=this;sf.base.isNullOrUndefined(e)||!this.allowMultiSelection&&this.isActive(e)&&!sf.base.isNullOrUndefined(t)?this.setFocusElement(e):this.isLoaded?(i=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",i,(function(i){i.cancel||n.nodeSelectAction(e,t,i,s)}))):this.nodeSelectAction(e,t,i,s)},t.prototype.nodeSelectAction=function(e,t,s,i){if(this.allowMultiSelection&&(i||t&&(!t||t.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);var n=this.liList.indexOf(this.startNode),a=this.liList.indexOf(e);if(n>a){var r=n;n=a,a=r}for(var l=n;l<=a;l++){var o=this.liList[l];sf.base.isVisible(o)&&!o.classList.contains("e-disable")&&this.addSelect(o)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,s.nodeData=this.getNodeData(e),this.trigger("nodeSelected",s))},t.prototype.unselectNode=function(e,t){var s,i=this;this.isLoaded?(s=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",s,(function(t){t.cancel||(i.allowServerDataBinding=!0,i.updateServerProperties("select"),i.allowServerDataBinding=!1,i.nodeUnselectAction(e,t))}))):this.nodeUnselectAction(e,s)},t.prototype.nodeUnselectAction=function(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))},t.prototype.setFocusElement=function(e){if(!sf.base.isNullOrUndefined(e)){var t=this.getFocusedNode();t&&sf.base.removeClass([t],Ie),sf.base.addClass([e],Ie),this.updateIdAttr(t,e)}},t.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),sf.base.addClass([e],Ce);var t=e.getAttribute("data-uid");sf.base.isNullOrUndefined(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)},t.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),sf.base.removeClass([e],Ce);var t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)},t.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+Ce),t=0,s=e;t<s.length;t++){var i=s[t];this.allowMultiSelection?i.setAttribute("aria-selected","false"):i.removeAttribute("aria-selected")}sf.base.removeClass(e,Ce),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(e,t,s){var i=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!sf.base.isNullOrUndefined(s),node:e,nodeData:i}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?sf.base.Browser.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(e){var t=e.originalEvent.target;!t||t.classList.contains("e-input")||t.classList.contains(pe)||t.classList.contains(ge)||t.classList.contains(me)||t.classList.contains(xe)||this.showCheckBox&&sf.base.closest(t,"."+Le)||this.expandCollapseAction(sf.base.closest(t,"."+me),e)},t.prototype.expandCollapseAction=function(e,t){var s=sf.base.select("div."+xe,e);if(s&&!s.classList.contains(Ee)){var i=s.classList;i.contains(be)?this.expandAction(e,s,t):i.contains(ue)&&this.collapseNode(e,s,t)}},t.prototype.expandAction=function(e,t,s,i,n){var a=this;t.classList.contains(Ee)||(sf.base.addClass([t],Ee),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,s),this.trigger("nodeExpanding",this.expandArgs,(function(s){s.cancel?sf.base.removeClass([t],Ee):a.nodeExpandAction(e,t,i,n)}))):this.nodeExpandAction(e,t,i,n))},t.prototype.nodeExpandAction=function(e,t,s,i){var n=sf.base.select("."+ge,e);if(n&&"UL"===n.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,s,i);for(var a=sf.base.selectAll("."+me,e),r=0;r<a.length;r++){var l=this.getId(a[r]);if(-1!==this.expandChildren.indexOf(l)&&void 0!==this.expandChildren){var o=sf.base.select("."+be,sf.base.select("."+Oe,a[r]));sf.base.isNullOrUndefined(o)||this.expandAction(a[r],o,null),this.expandChildren.splice(this.expandChildren.indexOf(l),1)}}}},t.prototype.keyActionHandler=function(e){var t=this,s=e.target,i=this.getFocusedNode();if(s&&s.classList.contains("e-input")){var n=s;"enter"===e.action?(n.blur(),this.element.focus(),sf.base.addClass([i],ye)):"escape"===e.action&&(n.value=this.oldText,n.blur(),this.element.focus(),sf.base.addClass([i],ye))}else{e.preventDefault();var a={cancel:!1,event:e,node:i};this.trigger("keyPress",a,(function(s){if(!s.cancel)switch(e.action){case"space":t.showCheckBox&&t.checkNode(e);break;case"moveRight":t.openNode(!t.enableRtl,e);break;case"moveLeft":t.openNode(!!t.enableRtl,e);break;case"shiftDown":t.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":t.navigateNode(!0);break;case"shiftUp":t.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":t.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":t.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":t.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":t.toggleSelect(i,e);break;case"f2":t.allowEditing&&!i.classList.contains("e-disable")&&t.createTextbox(i,e);break;case"ctrlA":if(t.allowMultiSelection){var n=sf.base.selectAll("."+me+":not(."+Ce+")",t.element);t.selectGivenNodes(n)}}}))}},t.prototype.navigateToFocus=function(e){var t=this.getFocusedNode().querySelector("."+Oe),s=t.getBoundingClientRect(),i=this.getScrollParent(this.element);if(!sf.base.isNullOrUndefined(i)){var n=i.getBoundingClientRect();s.bottom>n.bottom?i.scrollTop+=s.bottom-n.bottom:s.top<n.top&&(i.scrollTop-=n.top-s.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)},t.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(e){return sf.base.isNullOrUndefined(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},t.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var s=this.getFocusedNode(),i=e?this.getNextNode(s):this.getPrevNode(s);this.removeHover(),this.setFocusElement(i),this.toggleSelect(i,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},t.prototype.checkNode=function(e){var t=this.getFocusedNode(),s=sf.base.select("."+Le,t),i=sf.base.select(" .e-frame",s).classList.contains(ke);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(s,i,t,e)},t.prototype.validateCheckNode=function(e,t,s,i){var n=this,a=sf.base.closest(e,"."+me);this.checkActionNodes=[];var r=t?"false":"true";sf.base.isNullOrUndefined(r)||e.setAttribute("aria-checked",r);var l=this.getCheckEvent(a,t?"uncheck":"check",i);this.trigger("nodeChecking",l,(function(a){a.cancel||n.nodeCheckingAction(e,t,s,a,i)}))},t.prototype.nodeCheckingAction=function(e,t,s,i,n){if(-1===this.checkedElement.indexOf(s.getAttribute("data-uid"))){this.checkedElement.push(s.getAttribute("data-uid"));var a=this.getChildNodes(this.treeData,s.getAttribute("data-uid"));null!==a?this.allCheckNode(a,this.checkedElement,null,null,!1):a=null}if(this.changeState(e,t?"uncheck":"check",n,!0),this.autoCheck){this.ensureChildCheckState(s),this.ensureParentCheckState(sf.base.closest(sf.base.closest(s,"."+ge),"."+me));var r=void 0;"check"===i.action?r=!0:"uncheck"===i.action&&(r=!1),this.ensureStateChange(s,r)}this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,this.nodeCheckedEvent(e,t,n)},t.prototype.ensureStateChange=function(e,t){var s=sf.base.select("."+ge,e),i=e.getAttribute("data-uid"),n=this.fields;if(1===this.dataType&&this.autoCheck)for(var a=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(n.parentID,"equal",i,!0)),r=0;r<a.length;r++){var l=a[r][this.fields.id]?a[r][this.fields.id].toString():null,o=a[r][this.fields.isChecked]?a[r][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(l)){this.checkedNodes.push(l);var d=this.getChildNodes(this.treeData,l);this.getChildItems(d,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}else if(-1===this.checkedNodes.indexOf(i)&&null===s&&-1!==this.checkedNodes.indexOf(l)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===o&&this.updateField(this.treeData,this.fields,l,"isChecked",null),-1===this.checkedNodes.indexOf(i)&&null===s||-1!==this.parentNodeCheck.indexOf(l)){var h=this.getChildNodes(this.treeData,l);this.getChildItems(h,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}}else{d=this.getChildNodes(this.treeData,l);this.getChildItems(d,t)}}else if(1!==this.dataType||this.autoCheck){(d=this.getChildNodes(this.treeData,i))&&this.childStateChange(d,i,s,t)}else if(t)for(r=0;r<this.treeData.length;r++){var c=this.treeData[r][this.fields.id]?this.treeData[r][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(c)&&this.checkedNodes.push(c)}else{for(var f=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(n.isChecked,"equal",!0,!1)),r=0;r<f.length;r++){var p=f[r][this.fields.id]?f[r][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(p)&&this.checkedNodes.splice(this.checkedNodes.indexOf(p),1),this.updateField(this.treeData,this.fields,p,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(e,t){for(var s=0;s<e.length;s++){var i=e[s][this.fields.id]?e[s][this.fields.id].toString():null,n=e[s][this.fields.isChecked]?e[s][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1),-1===this.checkedNodes.indexOf(i)&&t&&this.checkedNodes.push(i),"true"!==n||t||this.updateField(this.treeData,this.fields,i,"isChecked",null);var a=this.getChildNodes(this.treeData,i);a.length>0&&this.getChildItems(a,t)}},t.prototype.childStateChange=function(e,t,s,i){for(var n=0;n<e.length;n++){var a=e[n][this.fields.id]?e[n][this.fields.id].toString():"",r=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(a)?(this.checkedNodes.push(a),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(a)||i||(this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),"true"===r&&this.updateField(this.treeData,this.fields,a,"isChecked",null)):this.autoCheck||(i?-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a):(-1!==this.checkedNodes.indexOf(a)&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),this.updateField(this.treeData,this.fields,a,"isChecked",null),this.checkedNodes=[]));var l=this.getChildNodes([e[n]],a);l&&this.childStateChange(l,t,s,i)}},t.prototype.allCheckNode=function(e,t,s,i,n){if(e)for(var a=0;a<e.length;a++){var r=sf.base.getValue(this.fields.id,e[a]),l=this.element.querySelector('[data-uid="'+r+'"]');if(!1!==n&&-1===this.checkedElement.indexOf(r.toString())&&(null===l&&!sf.base.isNullOrUndefined(e[a][this.fields.isChecked])&&-1===t.indexOf(r.toString())||0===i||2===s)&&(!1!==e[a][this.fields.isChecked]||2===s?t.push(r.toString()):i=null,i=!1!==e[a][this.fields.isChecked]||2===s?0:null),-1===t.indexOf(r.toString())&&sf.base.isNullOrUndefined(s)&&t.push(r.toString()),!0===sf.base.getValue(this.fields.hasChildren,e[a])||sf.base.getValue(this.fields.child.toString(),e[a])){var o=sf.base.getValue(this.fields.id,e[a]),d=this.getChildNodes(this.treeData,o.toString());d&&(sf.base.isNullOrUndefined(n)?this.allCheckNode(d,t,s,i):this.allCheckNode(d,t,s,i,n),i=null)}i=null}},t.prototype.openNode=function(e,t){var s=this.getFocusedNode(),i=sf.base.select("div."+xe,s);if(e){if(!i)return;i.classList.contains(be)?this.expandAction(s,i,t):this.focusNextNode(s,!0)}else if(i&&i.classList.contains(ue))this.collapseNode(s,i,t);else{var n=sf.base.closest(sf.base.closest(s,"."+ge),"."+me);if(!n)return;n.classList.contains("e-disable")||(this.setFocus(s,n),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},t.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),s=e?this.getRootNode():this.getEndNode();s.classList.contains("e-disable")||(this.setFocus(t,s),this.navigateToFocus(e))},t.prototype.getFocusedNode=function(){var e,t=sf.base.select("."+me+"."+Ie,this.element);return sf.base.isNullOrUndefined(t)&&(e=sf.base.select("."+me,this.element)),sf.base.isNullOrUndefined(t)?sf.base.isNullOrUndefined(e)?this.element.firstElementChild:e:t},t.prototype.focusNextNode=function(e,t){var s=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,s),this.navigateToFocus(!t),s.classList.contains("e-disable")){var i=s.lastChild;null==s.previousSibling&&s.classList.contains("e-level-1")?this.focusNextNode(s,!0):null==s.nextSibling&&s.classList.contains("e-node-collapsed")||null==s.nextSibling&&i.classList.contains("e-text-content")?this.focusNextNode(s,!1):this.focusNextNode(s,t)}},t.prototype.getNextNode=function(e){var t,s=this.liList.indexOf(e);do{if(s++,t=this.liList[s],sf.base.isNullOrUndefined(t))return e}while(!sf.base.isVisible(t));return t},t.prototype.getPrevNode=function(e){var t,s=this.liList.indexOf(e);do{if(s--,t=this.liList[s],sf.base.isNullOrUndefined(t))return e}while(!sf.base.isVisible(t));return t},t.prototype.getRootNode=function(){var e,t=0;do{e=this.liList[t],t++}while(!sf.base.isVisible(e));return e},t.prototype.getEndNode=function(){var e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!sf.base.isVisible(e));return e},t.prototype.setFocus=function(e,t){sf.base.removeClass([e],[ye,Ie]),t.classList.contains("e-disable")||(sf.base.addClass([t],[ye,Ie]),this.updateIdAttr(e,t))},t.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){this.mouseDownStatus||sf.base.addClass([this.getFocusedNode()],ye),this.mouseDownStatus=!1},t.prototype.focusOut=function(){sf.base.removeClass([this.getFocusedNode()],ye)},t.prototype.onMouseOver=function(e){var t=e.target,s=t.classList,i=sf.base.closest(t,"."+me);!i||s.contains(ge)||s.contains(me)?this.removeHover():i&&!i.classList.contains("e-disable")&&this.setHover(i)},t.prototype.setHover=function(e){e.classList.contains(ye)||(this.removeHover(),sf.base.addClass([e],ye))},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.removeHover=function(){var e=sf.base.selectAll("."+ye,this.element);e&&e.length&&sf.base.removeClass(e,ye)},t.prototype.getNodeData=function(e,t){if(!sf.base.isNullOrUndefined(e)&&e.classList.contains(me)&&!sf.base.isNullOrUndefined(sf.base.closest(e,".e-control"))&&sf.base.closest(e,".e-control").classList.contains(pe)){var s=e.getAttribute("data-uid"),i=this.getText(e,t),n=sf.base.closest(e.parentNode,"."+me),a=n?n.getAttribute("data-uid"):null,r=e.classList.contains(Ce),l="true"===e.getAttribute("aria-expanded"),o=null!==e.getAttribute("aria-expanded");this.isBlazorPlatform&&(o="true"===e.getAttribute("aria-expanded")||null!=(e.querySelector(".e-icon-expandable")||e.querySelector(".e-icon-collapsible")));var d=null;return this.showCheckBox&&(d=sf.base.select("."+Le,e).getAttribute("aria-checked")),{id:s,text:i,parentID:a,selected:r,expanded:l,isChecked:d,hasChildren:o}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(e,t){if(t){var s=this.getNodeObject(e.getAttribute("data-uid")),i=parseFloat(e.getAttribute("aria-level")),n=this.getFields(this.fields,i,1);return sf.base.getValue(n.text,s)}return sf.base.select("."+ve,e).textContent},t.prototype.getExpandEvent=function(e,t){var s=this.getNodeData(e);return{cancel:!1,isInteracted:!sf.base.isNullOrUndefined(t),node:e,nodeData:s,event:t}},t.prototype.destroyTemplate=function(e){this.clearTemplate(["nodeTemplate"])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),sf.base.resetBlazorTemplate(this.element.id+"nodeTemplate","NodeTemplate"),this.isBlazorPlatform?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",sf.base.isNullOrUndefined(this.nodeTemplateFn)||this.destroyTemplate(this.nodeTemplate),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(e,t){sf.base.isNullOrUndefined(e)||""===e||sf.base.removeClass([this.element],e.split(" ")),sf.base.isNullOrUndefined(t)||""===t||sf.base.addClass([this.element],t.split(" "))},t.prototype.editingHandler=function(e){var t=e.target;if(!(!t||t.classList.contains(pe)||t.classList.contains(ge)||t.classList.contains(me)||t.classList.contains(xe)||t.classList.contains("e-input")||t.classList.contains("e-input-group"))){var s=sf.base.closest(t,"."+me);this.createTextbox(s,e)}},t.prototype.createTextbox=function(e,t){var s=this,i=sf.base.select(".e-tree-input",this.element);i&&i.blur();var n=sf.base.select("."+ve,e);this.updateOldText(e);var a=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),r=this.getEditEvent(e,null,a.outerHTML);this.trigger("nodeEditing",r,(function(t){if(!t.cancel){var i="width:"+(n.offsetWidth+5)+"px";sf.base.addClass([e],"e-editing"),n.innerHTML=r.innerHtml;var a=sf.base.select(".e-tree-input",n);s.inputObj=sf.inputs.Input.createInput({element:a,properties:{enableRtl:s.enableRtl}},s.createElement),s.inputObj.container.setAttribute("style",i),a.focus();var l=a;l.setSelectionRange(0,l.value.length),s.wireInputEvents(a)}}))},t.prototype.updateOldText=function(e){var t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);var s=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,s,1),this.oldText=sf.base.getValue(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(e){if(sf.base.select(".e-tree-input",this.element)){var t=e.target,s=t.value,i=sf.base.closest(t,"."+ve),n=sf.base.closest(t,"."+me);sf.base.detach(this.inputObj.container),this.fields.dataSource instanceof sf.data.DataManager&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("update",null,n,s,null,null,!0):this.appendNewText(n,i,s,!0)}},t.prototype.appendNewText=function(e,t,s,i){var n=this,a=this.getEditEvent(e,s,null);this.trigger("nodeEdited",a,(function(a){s=a.cancel?a.oldText:a.newText;var r=sf.base.setValue(n.editFields.text,s,n.editData);if(sf.base.isNullOrUndefined(n.nodeTemplateFn))t.innerText=s;else{t.innerText="";var l=n.nodeTemplateFn(r,void 0,void 0,n.element.id+"nodeTemplate",n.isStringTemplate);l=Array.prototype.slice.call(l),sf.base.append(l,t),n.updateBlazorTemplate()}i&&(sf.base.removeClass([e],"e-editing"),t.focus()),a.oldText!==s&&n.triggerEvent()}))},t.prototype.getElement=function(e){return sf.base.isNullOrUndefined(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"===n()(e)?sf.base.getElement(e):null},t.prototype.getId=function(e){return sf.base.isNullOrUndefined(e)?null:"string"==typeof e?e:"object"===n()(e)?sf.base.getElement(e).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(e,t,s){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:s}},t.prototype.getNodeObject=function(e){if(!sf.base.isNullOrUndefined(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var t=0,s=this.treeData.length;t<s;t++){var i=sf.base.getValue(this.fields.id,this.treeData[t]);if(!sf.base.isNullOrUndefined(this.treeData[t])&&!sf.base.isNullOrUndefined(i)&&i.toString()===e)return this.treeData[t]}}},t.prototype.getChildNodeObject=function(e,t,s){var i;if(sf.base.isNullOrUndefined(e))return i;for(var n=0,a=e.length;n<a;n++){var r=sf.base.getValue(t.id,e[n]);if(e[n]&&r&&r.toString()===s)return e[n];if("string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[n]))){if(this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[n]))){if(void 0!==(i=this.getChildNodeObject(sf.base.getValue("child",e[n]),this.getChildMapper(t),s)))break}}else{var l=sf.base.getValue(t.child,e[n]);if(void 0!==(i=this.getChildNodeObject(l,this.getChildMapper(t),s)))break}}return i},t.prototype.setDragAndDrop=function(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var e,t=this,s=this;this.dragObj=new sf.base.Draggable(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+Oe,helper:function(i){t.dragTarget=i.sender.target;var n=sf.base.closest(t.dragTarget,"."+pe),a=sf.base.closest(t.dragTarget,"."+Oe);if(t.dragLi=sf.base.closest(t.dragTarget,"."+me),t.fullRowSelect&&!a&&t.dragTarget.classList.contains("e-fullrow")&&(a=t.dragTarget.nextElementSibling),!t.dragTarget||!i.element.isSameNode(n)||!a||t.dragTarget.classList.contains(pe)||t.dragTarget.classList.contains(ge)||t.dragTarget.classList.contains(me)||t.dragLi.classList.contains("e-disable"))return!1;var r=a.cloneNode(!0);if(sf.base.isNullOrUndefined(sf.base.select("div."+xe,r))){var l=s.createElement("div",{className:xe+" "+be});r.insertBefore(l,r.children[0])}var o="e-drag-item "+pe+" "+t.cssClass+" "+(t.enableRtl?"e-rtl":"");(e=s.createElement("div",{className:o})).appendChild(r);var d=t.selectedNodes.length;if(d>1&&t.allowMultiSelection&&t.dragLi.classList.contains(Ce)){var h=s.createElement("span",{className:"e-drop-count",innerHTML:""+d});e.appendChild(h)}return document.body.appendChild(e),document.body.style.cursor="",t.dragData=t.getNodeData(t.dragLi),e},dragStart:function(s){sf.base.addClass([t.element],"e-dragging");var i,n=sf.base.closest(s.target,".e-list-item");n&&(i=parseInt(n.getAttribute("aria-level"),10));var a=t.getDragEvent(s.event,t,null,s.target,null,e,i);a.draggedNode.classList.contains("e-editing")?(t.dragObj.intDestroy(s.event),t.dragCancelAction(e)):t.trigger("nodeDragStart",a,(function(i){i.cancel?(t.dragObj.intDestroy(s.event),t.dragCancelAction(e)):t.dragStartAction=!0,sf.base.isBlazor()&&s.bindEvents(sf.base.getElement(s.dragElement))}))},drag:function(s){t.dragObj.setProperties({cursorAt:{top:!sf.base.isNullOrUndefined(s.event.targetTouches)||sf.base.Browser.isDevice?60:-20}}),t.dragAction(s,e)},dragStop:function(e){sf.base.removeClass([t.element],"e-dragging"),t.removeVirtualEle();var s=e.target,i=sf.base.closest(s,".e-droppable");s&&i||(sf.base.detach(e.helper),document.body.style.cursor="");var n,a=sf.base.closest(s,".e-list-item");a&&(n=parseInt(a.getAttribute("aria-level"),10));var r=t.getDragEvent(e.event,t,s,s,null,e.helper,n);r.preventTargetExpand=!1,(t.isBlazorPlatform&&t.dragStartAction||!t.isBlazorPlatform)&&t.trigger("nodeDragStop",r,(function(s){t.dragParent=s.draggedParentNode,t.preventExpand=s.preventTargetExpand,s.cancel&&(e.helper.parentNode&&sf.base.detach(e.helper),document.body.style.cursor=""),t.dragStartAction=!1,t.isBlazorPlatform&&t.dropAction(e,!0)}))}}),this.dropObj=new sf.base.Droppable(this.element,{out:function(e){sf.base.isNullOrUndefined(e)||e.target.classList.contains(Se)||(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){t.isBlazorPlatform||t.dropAction(e)}})},t.prototype.dragCancelAction=function(e){sf.base.detach(e),sf.base.removeClass([this.element],"e-dragging"),this.dragStartAction=!1},t.prototype.dragAction=function(e,t){var s=sf.base.closest(e.target,".e-droppable"),i=sf.base.closest(e.target,"."+Oe),n=sf.base.select("div."+xe,t);sf.base.removeClass([n],["e-drop-in",we,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var a=e.target.classList;if(this.fullRowSelect&&!i&&!sf.base.isNullOrUndefined(a)&&a.contains("e-fullrow")&&(i=e.target.nextElementSibling),s){var r=sf.base.closest(e.target,"."+me),l=sf.base.closest(e.target,"."+Le),o=sf.base.closest(e.target,"."+ue),d=sf.base.closest(e.target,"."+be);if(!s.classList.contains(pe)||i&&!r.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,r))if(r&&e&&!d&&!o&&e.event.offsetY<7&&!l||d&&e.event.offsetY<5||o&&e.event.offsetX<3){sf.base.addClass([n],we);var h=this.createElement("div",{className:Se}),c=this.fullRowSelect?1:0;r.insertBefore(h,r.children[c])}else if(r&&e&&!d&&!o&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!l||d&&e.event.offsetY>19||o&&e.event.offsetX>19){sf.base.addClass([n],we);h=this.createElement("div",{className:Se}),c=this.fullRowSelect?2:1;r.insertBefore(h,r.children[c])}else sf.base.addClass([n],"e-drop-in");else"LI"!==e.target.nodeName||r.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,r)?e.target.classList.contains(Se)?sf.base.addClass([n],we):sf.base.addClass([n],"e-drop-out"):(sf.base.addClass([n],we),this.renderVirtualEle(e))}else sf.base.addClass([n],"e-no-drop"),document.body.style.cursor="not-allowed";var f,p=sf.base.closest(e.target,".e-list-item");p&&(f=parseInt(p.getAttribute("aria-level"),10));var u=this.getDragEvent(e.event,this,e.target,e.target,null,t,f);u.dropIndicator&&sf.base.removeClass([n],u.dropIndicator),this.trigger("nodeDragging",u),u.dropIndicator&&sf.base.addClass([n],u.dropIndicator)},t.prototype.dropAction=function(e,t){var i,n,a,r=e.event.offsetY,l=e.target,o=!1;a=t?e.element:e.dragData.draggable;for(var d=0;d<a.ej2_instances.length;d++)if(a.ej2_instances[d]instanceof s){i=a.ej2_instances[d];break}if(i&&i.dragTarget){var h=i.dragTarget,c=sf.base.closest(h,"."+me),f=sf.base.closest(l,"."+me);if(null==f&&l.classList.contains(pe)&&(f=l.firstElementChild),t?sf.base.detach(e.helper):sf.base.detach(e.droppedElement),document.body.style.cursor="",!f||f.isSameNode(c)||this.isDescendant(c,f))return void(this.fields.dataSource instanceof sf.data.DataManager==!1&&(this.preventExpand=!1));if(i.allowMultiSelection&&c.classList.contains(Ce)){var p=sf.base.selectAll("."+Ce,i.element);if(e.target.offsetHeight<=33&&r>e.target.offsetHeight-10&&r>6)for(d=p.length-1;d>=0;d--)f.isSameNode(p[d])||this.isDescendant(p[d],f)||this.appendNode(l,p[d],f,e,i,r);else for(d=0;d<p.length;d++)f.isSameNode(p[d])||this.isDescendant(p[d],f)||this.appendNode(l,p[d],f,e,i,r)}else this.appendNode(l,c,f,e,i,r);n=parseInt(c.getAttribute("aria-level"),10),o=!0}this.fields.dataSource instanceof sf.data.DataManager==!1&&(this.preventExpand=!1),t?this.trigger("nodeDropped",this.getDragEvent(e.event,i,l,e.target,e.element,null,n,o)):this.trigger("nodeDropped",this.getDragEvent(e.event,i,l,e.target,e.dragData.draggedElement,null,n,o)),this.triggerEvent()},t.prototype.appendNode=function(e,t,s,i,n,a){var r=sf.base.closest(e,"."+Le),l=sf.base.closest(i.target,"."+ue),o=sf.base.closest(i.target,"."+be);t.classList.contains("e-disable")||r||!(o&&i.event.offsetY<5||l&&i.event.offsetX<3||o&&i.event.offsetY>19||l&&i.event.offsetX>19||!o&&!l)?this.dropAsChildNode(t,s,n,null,i,a,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,s,i,n):e.firstElementChild&&e.classList.contains(pe)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,s,i,n):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,s,i,n):this.dropAsChildNode(t,s,n,null,i,a)},t.prototype.dropAsSiblingNode=function(e,t,s,i){var n,a=sf.base.closest(t,"."+ge),r=sf.base.closest(e,"."+ge),l=sf.base.closest(r,"."+me);if(s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?n=!1:s.event.offsetY<2?n=!0:(s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible"))&&(s.event.offsetY<5||s.event.offsetX<3?n=!0:(s.event.offsetY>15||s.event.offsetX>17)&&(n=!1)),s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible")){var o=s.target.closest("li");a.insertBefore(e,n?o:o.nextElementSibling)}else a.insertBefore(e,n?s.target:s.target.nextElementSibling);this.moveData(e,t,a,n,i),this.updateElement(r,l),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(e,t,s,i,n,a,r){var l=sf.base.closest(e,"."+ge),o=sf.base.closest(l,"."+me),d=sf.base.closest(t,"."+ge);if(n&&a<7&&!r)d.insertBefore(e,t),this.moveData(e,t,d,!0,s);else if(n&&n.target.offsetHeight>0&&a>n.target.offsetHeight-10&&!r)d.insertBefore(e,t.nextElementSibling),this.moveData(e,t,d,!1,s);else{var h=this.expandParent(t),c=h.childNodes[i];h.insertBefore(e,c),this.moveData(e,c,h,!0,s)}this.updateElement(l,o),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.moveData=function(e,t,s,i,n){var a=sf.base.closest(s,"."+me),r=this.getId(e),l=n.updateChildField(n.treeData,n.fields,r,null,null,!0),o=this.getId(t),d=this.getDataPos(this.treeData,this.fields,o),h=this.getId(a);if(1===this.dataType){this.updateField(this.treeData,this.fields,h,"hasChildren",!0);var c=sf.base.isNullOrUndefined(d)?this.treeData.length:i?d:d+1;if(sf.base.isNullOrUndefined(h)&&!this.hasPid)delete l[0][this.fields.parentID];else{var f=this.isNumberTypeId?parseFloat(h):h;sf.base.setValue(this.fields.parentID,f,l[0])}if(this.treeData.splice(c,0,l[0]),n.element.id!==this.element.id){var p=n.removeChildNodes(r);c++;for(var u=0,b=p.length;u<b;u++)this.treeData.splice(c,0,p[u]),c++;n.groupedData=n.getGroupedData(n.treeData,n.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,h,l,i?d:d+1)},t.prototype.expandParent=function(e){var t=sf.base.select("div."+xe,e);t&&t.classList.contains(be)&&!0!==this.preventExpand&&this.expandAction(e,t,null);var s,i=sf.base.select("."+ge,e);(!0===this.preventExpand&&!i&&t&&this.renderChildNodes(e),i=sf.base.select("."+ge,e),sf.base.isNullOrUndefined(i)||!0!==this.preventExpand||(i.style.display="none"),sf.base.isNullOrUndefined(i)||!1!==this.preventExpand||(i.style.display="block"),sf.base.isNullOrUndefined(i)&&!0===this.preventExpand)&&(sf.base.isNullOrUndefined(t)&&sf.lists.ListBase.generateIcon(this.createElement,e,be,this.listBaseOption),(s=sf.base.select("div."+xe,e))&&s.classList.add("e-icon-expandable"),i=sf.lists.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),s?sf.base.removeClass([s],ue):sf.lists.ListBase.generateIcon(this.createElement,e,be,this.listBaseOption),e.setAttribute("aria-expanded","false"),i.style.display="none");sf.base.isNullOrUndefined(i)&&(this.trigger("nodeExpanding",this.getExpandEvent(e,null)),sf.base.isNullOrUndefined(t)&&sf.lists.ListBase.generateIcon(this.createElement,e,ue,this.listBaseOption),(s=sf.base.select("div."+xe,e))||(sf.lists.ListBase.generateIcon(this.createElement,e,ue,this.listBaseOption),s=sf.base.select("div."+xe,e)),sf.base.removeClass([s],be),i=sf.lists.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null)));return i},t.prototype.updateElement=function(e,t){if(t&&0===e.childElementCount){var s=sf.base.select("div."+xe,t);sf.base.detach(e),sf.base.detach(s);var i=this.getId(t);this.updateField(this.treeData,this.fields,i,"hasChildren",!1),this.removeExpand(t,!0)}},t.prototype.updateAriaLevel=function(e){var t=this.parents(e,"."+ge).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(sf.base.select("."+ge,e),t+1)},t.prototype.updateChildAriaLevel=function(e,t){if(!sf.base.isNullOrUndefined(e))for(var s=e.childNodes,i=0,n=s.length;i<n;i++){var a=s[i];a.setAttribute("aria-level",""+t),this.updateChildAriaLevel(sf.base.select("."+ge,a),t+1)}},t.prototype.renderVirtualEle=function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var s=this.createElement("div",{className:Se}),i=this.fullRowSelect?t?1:2:t?0:1;e.target.insertBefore(s,e.target.children[i])},t.prototype.removeVirtualEle=function(){var e=sf.base.select("."+Se);e&&sf.base.detach(e)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(e,t,s,i,n,a,r,l){var o=s?sf.base.closest(s,"."+me):null,d=o?this.getNodeData(o):null,h=t?t.dragLi:n,c=t?t.dragData:null,f=s?this.parents(s,"."+me):null,p=t.dragLi.parentElement,u=t.dragLi?sf.base.closest(p,"."+me):null,b=null,m=null,v=[we,"e-drop-in","e-drop-out","e-no-drop"],g=null,y=!0===l?h:o,C=y?sf.base.closest(y,".e-list-parent"):null,N=0;if(u=t.dragLi&&null===u?sf.base.closest(p,"."+pe):u,u=!0===l?this.dragParent:u,a)for(;N<4;){if(sf.base.select("."+xe,a).classList.contains(v[N])){g=v[N];break}N++}if(C){var E=0;for(N=0;N<C.childElementCount;N++){if(E=!0!==l&&C.children[N]===h&&o!==h?++E:E,!0!==l&&C.children[N].classList.contains("e-hover")){m=e.offsetY>=23?N+1:N;break}if(C.children[N]===y){e.offsetY,m=N;break}}m=0!==E?--m:m}if(s&&(b=0===f.length?null:s.classList.contains(me)?f[0]:f[1]),o===h&&(b=o),s&&i.offsetHeight<=33&&e.offsetY<i.offsetHeight-10&&e.offsetY>6&&(b=o,!0!==l)){r=++r;var x=b?sf.base.select(".e-list-parent",b):null;if(m=x?x.children.length:0,!(this.fields.dataSource instanceof sf.data.DataManager)&&null===x&&b){var O=b.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,b.getAttribute("data-uid").toString()):null;m=O?O.length:0}}return{cancel:!1,clonedNode:a,event:e,draggedNode:h,draggedNodeData:c,droppedNode:o,droppedNodeData:d,dropIndex:m,dropLevel:r,draggedParentNode:u,dropTarget:b,dropIndicator:g,target:i}},t.prototype.addFullRow=function(e){var t=this.liList.length;if(e)for(var s=0;s<t;s++)this.createFullRow(this.liList[s]);else for(s=0;s<t;s++){var i=sf.base.select(".e-fullrow",this.liList[s]);sf.base.detach(i)}},t.prototype.createFullRow=function(e){var t=this.createElement("div",{className:"e-fullrow"});e.insertBefore(t,e.childNodes[0])},t.prototype.addMultiSelect=function(e){if(e)for(var t=0,s=sf.base.selectAll("."+me+':not([aria-selected="true"])',this.element);t<s.length;t++){s[t].setAttribute("aria-selected","false")}else for(var i=0,n=sf.base.selectAll("."+me+'[aria-selected="false"]',this.element);i<n.length;i++){n[i].removeAttribute("aria-selected")}},t.prototype.collapseByLevel=function(e,t,s){if(t>0&&!sf.base.isNullOrUndefined(e))for(var i=this.getVisibleNodes(s,e.childNodes),n=0,a=i.length;n<a;n++){var r=i[n],l=sf.base.select("."+ue,sf.base.select("."+Oe,r));sf.base.isNullOrUndefined(l)||this.collapseNode(r,l,null),this.collapseByLevel(sf.base.select("."+ge,r),t-1,s)}},t.prototype.collapseAllNodes=function(e){for(var t=this.getVisibleNodes(e,sf.base.selectAll("."+ue,this.element)),s=0,i=t.length;s<i;s++){var n=t[s],a=sf.base.closest(n,"."+me);this.collapseNode(a,n,null)}},t.prototype.expandByLevel=function(e,t,s){if(t>0&&!sf.base.isNullOrUndefined(e))for(var i=this.getVisibleNodes(s,e.childNodes),n=0,a=i.length;n<a;n++){var r=i[n],l=sf.base.select("."+be,sf.base.select("."+Oe,r));sf.base.isNullOrUndefined(l)||this.expandAction(r,l,null),this.expandByLevel(sf.base.select("."+ge,r),t-1,s)}},t.prototype.expandAllNodes=function(e){for(var t=this.getVisibleNodes(e,sf.base.selectAll("."+be,this.element)),s=0,i=t.length;s<i;s++){var n=t[s],a=sf.base.closest(n,"."+me);this.expandAction(a,n,null,!0)}},t.prototype.getVisibleNodes=function(e,t){var s=Array.prototype.slice.call(t);if(e)for(var i=0;i<s.length;i++)sf.base.isVisible(s[i])||(s.splice(i,1),i--);return s},t.prototype.removeNode=function(e){var t=sf.base.closest(e,"."+ge),s=sf.base.closest(t,"."+me);sf.base.detach(e),this.updateElement(t,s),this.updateInstance(),this.removeData(e)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes(),this.allowServerDataBinding=!1,this.updateServerProperties("expand"),this.updateServerProperties("check"),this.updateServerProperties("select"),this.allowServerDataBinding=!0},t.prototype.updateServerProperties=function(e){this.isBlazorPlatform&&("expand"==e?(this.isBlazorExpandedNodes=this.expandedNodes,this.setProperties({expandedNodes:[]},!0)):"check"==e?this.setProperties({checkedNodes:this.checkedNodes},!0):this.setProperties({selectedNodes:this.selectedNodes},!0))},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(sf.base.selectAll("."+me,this.element))},t.prototype.updateSelectedNodes=function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({selectedNodes:[]},!0);var e=sf.base.selectAll("."+Ce,this.element);this.selectGivenNodes(e)}else if(this.isBlazorPlatform&&this.initialRender){e=sf.base.selectAll("."+Ce,this.element);for(var t=0;t<e.length;t++){var s=e[t].getAttribute("data-uid").toString();sf.base.isNullOrUndefined(s)||-1!==this.selectedNodes.indexOf(s)||this.selectedNodes.push(s)}}},t.prototype.updateExpandedNodes=function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({expandedNodes:[]},!0);for(var e=0,t=(s=sf.base.selectAll('[aria-expanded="true"]',this.element)).length;e<t;e++)this.addExpand(s[e])}else if(this.isBlazorPlatform&&this.initialRender)for(var s=sf.base.selectAll('[aria-expanded="true"]',this.element),i=0;i<s.length;i++){var n=s[i].getAttribute("data-uid").toString();sf.base.isNullOrUndefined(n)||-1!==this.expandedNodes.indexOf(n)||this.expandedNodes.push(n)}},t.prototype.removeData=function(e){if(1===this.dataType){var t=new sf.data.DataManager(this.treeData),s=this.getId(e),i={},n=this.isNumberTypeId?parseFloat(s):s;i[this.fields.id]=n,t.remove(this.fields.id,i),this.removeChildNodes(s)}else{s=this.getId(e);this.updateChildField(this.treeData,this.fields,s,null,null,!0)}},t.prototype.removeChildNodes=function(e){var t=this.getChildGroup(this.groupedData,e,!1),s=[];if(t)for(var i=0,n=t.length;i<n;i++){var a=new sf.data.DataManager(this.treeData),r=sf.base.getValue(this.fields.id,t[i]).toString(),l={},o=this.isNumberTypeId?parseFloat(r):r;l[this.fields.id]=o;var d=a.remove(this.fields.id,l);s.push(d[0]),this.removeChildNodes(r)}return s},t.prototype.doGivenAction=function(e,t,s){for(var i=0,n=e.length;i<n;i++){var a=this.getElement(e[i]);if(!sf.base.isNullOrUndefined(a)){var r=sf.base.select("."+t,sf.base.select("."+Oe,a));sf.base.isNullOrUndefined(r)||(s?this.expandAction(a,r,null):this.collapseNode(a,r,null))}}},t.prototype.addGivenNodes=function(e,t,s,i,n){if(0!==e.length){var a=this.getSortedData(e),r=t?parseFloat(t.getAttribute("aria-level"))+1:1;i&&this.updateMapper(r);for(var l,o=sf.lists.ListBase.createListItemFromJson(this.createElement,a,this.listBaseOption,r),d=(l=n||(t?this.expandParent(t):sf.base.select("."+ge,this.element))).childNodes[s],h=0;h<o.length;h++)l.insertBefore(o[h],d);this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate();var c=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);for(var f=this.getId(d),p=sf.base.isNullOrUndefined(f)?this.treeData.length:this.getDataPos(this.treeData,this.fields,f),u=0;u<e.length;u++){if(!sf.base.isNullOrUndefined(c)){var b=this.isNumberTypeId?parseFloat(c):c;sf.base.setValue(this.fields.parentID,b,e[u])}this.treeData.splice(p,0,e[u]),p++}}else this.addChildData(this.treeData,this.fields,c,e,s);this.finalizeNode(l)}},t.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)},t.prototype.updateListProp=function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(e,t,s){for(var i=null,n=0,a=e.length;n<a;n++){var r=sf.base.getValue(t.id,e[n]);if(e[n]&&r&&r.toString()===s)return n;if("string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[n]))){if(this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[n]))){var l=sf.base.getValue("child",e[n]);if(null!==(i=this.getDataPos(l,this.getChildMapper(t),s)))break}}else{var o=sf.base.getValue(t.child,e[n]);if(null!==(i=this.getDataPos(o,this.getChildMapper(t),s)))break}}return i},t.prototype.addChildData=function(e,t,s,i,n){var a;if(sf.base.isNullOrUndefined(s)){n=sf.base.isNullOrUndefined(n)?e.length:n;for(var r=0,l=i.length;r<l;r++)e.splice(n,0,i[r]),n++;return a}for(var o=0,d=e.length;o<d;o++){var h=sf.base.getValue(t.id,e[o]);if(e[o]&&h&&h.toString()===s){if("string"==typeof t.child&&e[o].hasOwnProperty(t.child)||this.fields.dataSource instanceof sf.data.DataManager&&e[o].hasOwnProperty("child")){var c="string"==typeof t.child?t.child:"child",f=sf.base.getValue(c,e[o]);sf.base.isNullOrUndefined(f)&&(f=[]),n=sf.base.isNullOrUndefined(n)?f.length:n;for(r=0,l=i.length;r<l;r++)f.splice(n,0,i[r]),n++}else{c="string"==typeof t.child?t.child:"child";e[o][c]=i}return!0}if("string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[o]))){if(this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[o]))){f=sf.base.getValue("child",e[o]);if(void 0!==(a=this.addChildData(f,this.getChildMapper(t),s,i,n)))break}}else{var p=sf.base.getValue(t.child,e[o]);if(void 0!==(a=this.addChildData(p,this.getChildMapper(t),s,i,n)))break}}return a},t.prototype.doDisableAction=function(e){var t=this.nodeType(e),s=this.checkValidId(t);this.validArr=[];for(var i=0,n=s.length;i<n;i++){var a=s[i][this.fields.id].toString();a&&-1===this.disableNode.indexOf(a)&&this.disableNode.push(a);var r=this.getElement(a);r&&(r.setAttribute("aria-disabled","true"),sf.base.addClass([r],"e-disable"))}},t.prototype.doEnableAction=function(e){for(var t=this.nodeType(e),s=0,i=t.length;s<i;s++){var n=this.getElement(t[s]),a=t[s];a&&-1!==this.disableNode.indexOf(a)&&this.disableNode.splice(this.disableNode.indexOf(a),1),n&&(n.removeAttribute("aria-disabled"),sf.base.removeClass([n],"e-disable"))}},t.prototype.nodeType=function(e){for(var t=[],s=0,i=e.length;s<i;s++){var a=void 0;"string"==typeof e[s]?a=e[s]?e[s].toString():null:"object"===n()(e[s])&&(a=e[s]?e[s].getAttribute("data-uid").toString():null),-1==t.indexOf(a)&&t.push(a)}return t},t.prototype.checkValidId=function(e){var t=this;if(1===this.dataType)this.validArr=this.treeData.filter((function(s){return-1!==e.indexOf(s[t.fields.id]?s[t.fields.id].toString():null)}));else if(2===this.dataType)for(var s=0;s<this.treeData.length;s++){var i=this.treeData[s][this.fields.id]?this.treeData[s][this.fields.id].toString():null;-1!==e.indexOf(i)&&this.validArr.push(this.treeData[s]);var n=sf.base.getValue(this.fields.child.toString(),this.treeData[s]);n&&this.filterNestedChild(n,e)}return this.validArr},t.prototype.filterNestedChild=function(e,t){for(var s=0;s<e.length;s++){var i=e[s][this.fields.id]?e[s][this.fields.id].toString():null;-1!==t.indexOf(i)&&this.validArr.push(e[s]);var n=sf.base.getValue(this.fields.child.toString(),e[s]);n&&this.filterNestedChild(n,t)}},t.prototype.setTouchClass=function(){var e=sf.base.closest(this.element,".e-bigger");this.touchClass=sf.base.isNullOrUndefined(e)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,s=e.length;t<s;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);var i=this.expandedNodes;this.isBlazorPlatform&&(i=this.isBlazorExpandedNodes);for(var n=0,a=i.length;n<a;n++)this.updateField(this.treeData,this.fields,i[n],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);var r=this.checkedNodes,l=0;for(a=r.length;l<a;l++)this.updateField(this.treeData,this.fields,r[l],"isChecked",!0)}},t.prototype.removeField=function(e,t,s){if(!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(t))for(var i=0,n=e.length;i<n;i++){for(var a=0;a<s.length;a++){var r=this.getMapperProp(t,s[a]);sf.base.isNullOrUndefined(e[i][r])||delete e[i][r]}"string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[i]))?this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[i]))&&this.removeField(sf.base.getValue("child",e[i]),this.getChildMapper(t),s):this.removeField(sf.base.getValue(t.child,e[i]),this.getChildMapper(t),s)}},t.prototype.getMapperProp=function(e,t){switch(t){case"selected":return sf.base.isNullOrUndefined(e.selected)?"selected":e.selected;case"expanded":return sf.base.isNullOrUndefined(e.expanded)?"expanded":e.expanded;case"isChecked":return sf.base.isNullOrUndefined(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return sf.base.isNullOrUndefined(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}},t.prototype.updateField=function(e,t,s,i,n){if(!sf.base.isNullOrUndefined(s))if(1===this.dataType){var a=this.isNumberTypeId?parseFloat(s):s,r=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(t.id,"equal",a,!1));sf.base.setValue(this.getMapperProp(t,i),n,r[0])}else this.updateChildField(e,t,s,i,n)},t.prototype.updateChildField=function(e,t,s,i,n,a){var r;if(sf.base.isNullOrUndefined(e))return r;for(var l=0,o=e.length;l<o;l++){var d=sf.base.getValue(t.id,e[l]);if(e[l]&&d&&d.toString()===s)return a?r=e.splice(l,1):(sf.base.setValue(this.getMapperProp(t,i),n,e[l]),r=[]),r;if("string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[l]))){if(this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[l]))){var h=sf.base.getValue("child",e[l]);if(void 0!==(r=this.updateChildField(h,this.getChildMapper(t),s,i,n,a)))break}}else{var c=sf.base.getValue(t.child,e[l]);if(void 0!==(r=this.updateChildField(c,this.getChildMapper(t),s,i,n,a)))break}}return r},t.prototype.triggerEvent=function(){this.updateTemplateForBlazor();var e={data:this.treeData};this.trigger("dataSourceChanged",e)},t.prototype.updateBlazorTemplate=function(){sf.base.updateBlazorTemplate(this.element.id+"nodeTemplate","NodeTemplate",this,!1)},t.prototype.clientUpdateInitial=function(){this.blazorInitialRender=!0},t.prototype.wireInputEvents=function(e){sf.base.EventHandler.add(e,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(e){if(e&&!this.disabled){var t=this;this.touchEditObj=new sf.base.Touch(this.element,{tap:function(e){2===e.tapCount&&(e.originalEvent.preventDefault(),t.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(e){if(e){var t=this;this.touchClickObj=new sf.base.Touch(this.element,{tap:function(e){t.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(e){var t=this;if(e){var s=this;this.touchExpandObj=new sf.base.Touch(this.element,{tap:function(e){("Click"===t.expandOnType||"DblClick"===t.expandOnType&&2===e.tapCount)&&3!==e.originalEvent.which&&s.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&sf.base.EventHandler.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(e){e.preventDefault()},t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),sf.base.EventHandler.add(this.element,"focus",this.focusIn,this),sf.base.EventHandler.add(this.element,"blur",this.focusOut,this),sf.base.EventHandler.add(this.element,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),sf.base.EventHandler.remove(this.element,"focus",this.focusIn),sf.base.EventHandler.remove(this.element,"blur",this.focusOut),sf.base.EventHandler.remove(this.element,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(e,t){for(var s=[],i=e.parentNode;!sf.base.isNullOrUndefined(i);)sf.base.matches(i,t)&&s.push(i),i=i.parentNode;return s},t.prototype.isDescendant=function(e,t){for(var s=t.parentNode;!sf.base.isNullOrUndefined(s);){if(s===e)return!0;s=s.parentNode}return!1},t.prototype.showSpinner=function(e){sf.base.addClass([e],Ne),sf.popups.createSpinner({target:e,width:sf.base.Browser.isDevice?16:14},this.createElement),sf.popups.showSpinner(e)},t.prototype.hideSpinner=function(e){sf.popups.hideSpinner(e),e.innerHTML="",sf.base.removeClass([e],Ne)},t.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)},t.prototype.setValidCheckedNode=function(e){if(1===this.dataType){var t=this.fields,s=new sf.data.DataManager(this.treeData).executeLocal((new sf.data.Query).where(t.id,"equal",e,!0));if(s[0]&&(this.setChildCheckState(s,e,s[0]),this.autoCheck)){for(var i=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,n=this.getChildNodes(this.treeData,i),a=0,r=0;r<n.length;r++){var l=n[r][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&a++}a===n.length&&-1===this.checkedNodes.indexOf(i)&&i&&this.checkedNodes.push(i)}}else if(2===this.dataType)for(var o=0;o<this.treeData.length;o++){if((this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}var d=sf.base.getValue(this.fields.child.toString(),this.treeData[o]);d&&this.setChildCheckState(d,e,this.treeData[o])}},t.prototype.setChildCheckState=function(e,t,s){var i,n=0;if(1===this.dataType){s&&(i=s[this.fields.id]?s[this.fields.id].toString():null);for(var a=0;a<e.length;a++){var r=e[a][this.fields.id]?e[a][this.fields.id].toString():null;s&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r),r===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(l=this.getChildNodes(this.treeData,r))&&this.setChildCheckState(l,t,s)}}else{s&&(i=s[this.fields.id]?s[this.fields.id].toString():"");for(a=0;a<e.length;a++){var l,o=e[a][this.fields.id]?e[a][this.fields.id].toString():"";s&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),o===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(l=sf.base.getValue(this.fields.child.toString(),e[a]))&&this.setChildCheckState(l,t,e[a]),-1!==this.checkedNodes.indexOf(o)&&this.autoCheck&&n++,n===e.length&&-1===this.checkedNodes.indexOf(i)&&this.autoCheck&&this.checkedNodes.push(i)}}},t.prototype.setIndeterminate=function(e){for(var t=0;t<e.length;t++)this.setValidCheckedNode(e[t])},t.prototype.updatePosition=function(e,t,s,i){if(1===this.dataType){var n=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(n,1,t),s){this.removeChildNodes(e);for(var a=0;a<i.length;a++)this.treeData.splice(n,0,i[a]),n++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)},t.prototype.updateChildPosition=function(e,t,s,i,n){for(var a,r=0,l=e.length;r<l;r++){var o=sf.base.getValue(t.id,e[r]);if(e[r]&&o&&o.toString()===s)return e[r]=i[0],!0;if("string"!=typeof t.child||sf.base.isNullOrUndefined(sf.base.getValue(t.child,e[r]))){if(this.fields.dataSource instanceof sf.data.DataManager&&!sf.base.isNullOrUndefined(sf.base.getValue("child",e[r]))){var d=sf.base.getValue("child",e[r]);if(void 0!==(a=this.updateChildPosition(d,this.getChildMapper(t),s,i,n)))break}}else{var h=sf.base.getValue(t.child,e[r]);if(void 0!==(a=this.updateChildPosition(h,this.getChildMapper(t),s,i,n)))break}}return a},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(e,t,s,i,a,r,l){var o,d=this,h=this.fields.dataSource,c=[],f=this.getQuery(this.fields),p=this.fields.id,u={addedRecords:[],deletedRecords:[],changedRecords:[]},b=[];t?b=this.nodeType(t):s&&("string"==typeof s?b[0]=s.toString():"object"===n()(s)&&(b[0]=s.getAttribute("data-uid").toString()));for(var m=0,v=b.length;m<v;m++){var g=this.getElement(b[m]);if(!sf.base.isNullOrUndefined(g)){var y=this.getNodeObject(b[m]);c.push(y)}}switch(e){case"delete":1==t.length?o=h.remove(p,c[0],f.fromTable,f):(u.deletedRecords=c,o=h.saveChanges(u,p,f.fromTable,f)),o.then((function(e){return d.deleteSuccess(b)})).catch((function(e){return d.dmFailure(e)}));break;case"update":c[0][this.fields.text]=i,(o=h.update(p,c[0],f.fromTable,f)).then((function(e){return d.editSucess(s,i,l)})).catch((function(e){return d.dmFailure(e)}));break;case"insert":if(1==a.length)o=h.insert(a[0],f.fromTable,f);else{var C=[];for(m=0,v=a.length;m<v;m++)C.push(a[m]);u.addedRecords=C,o=h.saveChanges(u,p,f.fromTable,f)}o.then((function(e){var t=d.getElement(s);d.addSuccess(a,t,r),d.preventExpand=!1})).catch((function(e){return d.dmFailure(e)}))}},t.prototype.deleteSuccess=function(e){for(var t=0,s=e.length;t<s;t++){var i=this.getElement(e[t]);sf.base.isNullOrUndefined(i)||this.removeNode(i)}1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()},t.prototype.editSucess=function(e,t,s){var i=this.getElement(e),n=sf.base.select("."+ve,i);this.appendNewText(i,n,t,s)},t.prototype.addSuccess=function(e,t,s){var i,n=t?t.querySelector("."+xe):null,a=this;t&&n&&n.classList.contains(be)&&null===t.querySelector("."+ge)?a.renderChildNodes(t,null,(function(){i=t.querySelector("."+ge),a.addGivenNodes(e,t,s,!0,i),a.triggerEvent()})):(this.addGivenNodes(e,t,s,!0),this.triggerEvent())},t.prototype.dmFailure=function(e){this.trigger("actionFailure",{error:e})},t.prototype.onPropertyChanged=function(e,t){for(var s=0,i=Object.keys(e);s<i.length;s++){switch(i[s]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var n=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(n,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.isBlazorPlatform||this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.isBlazorPlatform||this.setProperties({expandedNodes:sf.base.isNullOrUndefined(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.blazorInitialRender||this.reRenderNodes(),this.blazorInitialRender=!1,this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var a=this.element.querySelectorAll("li"),r=0;r<a.length;)"true"!==a[r].getAttribute("aria-expanded")&&this.renderChildNodes(a[r],!0,null,!0),r++;this.onLoaded=!0}break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}},t.prototype.destroy=function(){sf.base.resetBlazorTemplate(this.element.id+"nodeTemplate","NodeTemplate"),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.isBlazorPlatform&&(this.ulElement=this.element.querySelector(".e-list-parent.e-ul")),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.isBlazorPlatform||e.prototype.destroy.call(this)},t.prototype.addNodes=function(e,t,s,i){if(!sf.base.isNullOrUndefined(e)){e=JSON.parse(JSON.stringify(e));var n=this.getElement(t);if(this.preventExpand=i,this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.fields.dataSource.dataSource.offline?this.addSuccess(e,n,s):this.crudOperation("insert",null,t,null,e,s,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,n,s);else{if(n)this.addGivenNodes(e,n,s);else{e=this.getSortedData(e);for(var a=0;a<e.length;a++){var r=sf.base.getValue(this.fields.parentID,e[a]);n=r?this.getElement(r.toString()):r,this.addGivenNodes([e[a]],n,s)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.showCheckBox&&n&&this.ensureParentCheckState(n),(this.fields.dataSource instanceof sf.data.DataManager==!1||this.fields.dataSource instanceof sf.data.DataManager&&"BlazorAdaptor"===this.fields.dataSource.adaptorName)&&(this.preventExpand=!1,this.triggerEvent())}},t.prototype.beginEdit=function(e){var t=this.getElement(e);sf.base.isNullOrUndefined(t)||this.disabled||this.createTextbox(t,null)},t.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},t.prototype.collapseAll=function(e,t,s){sf.base.isNullOrUndefined(e)?t>0?this.collapseByLevel(sf.base.select("."+ge,this.element),t,s):this.collapseAllNodes(s):this.doGivenAction(e,ue,!1)},t.prototype.disableNodes=function(e){sf.base.isNullOrUndefined(e)||this.doDisableAction(e)},t.prototype.enableNodes=function(e){sf.base.isNullOrUndefined(e)||this.doEnableAction(e)},t.prototype.ensureVisible=function(e){var t=this.getElement(e);if(!sf.base.isNullOrUndefined(t)){var s=this.parents(t,"."+me);this.expandAll(s),setTimeout((function(){t.scrollIntoView(!0)}),450)}},t.prototype.expandAll=function(e,t,s){sf.base.isNullOrUndefined(e)?t>0?this.expandByLevel(sf.base.select("."+ge,this.element),t,s):this.expandAllNodes(s):this.doGivenAction(e,be,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(e){var t=this.getElement(e);return this.getNodeData(t,!0)},t.prototype.getTreeData=function(e){var t=this.getId(e);if(this.updatePersistProp(),sf.base.isNullOrUndefined(t))return this.treeData;var s=this.getNodeObject(t);return sf.base.isNullOrUndefined(s)?[]:[s]},t.prototype.moveNodes=function(e,t,s,i){var n=this.getElement(t);if(!sf.base.isNullOrUndefined(n)){for(var a=0;a<e.length;a++){var r=this.getElement(e[a]);sf.base.isNullOrUndefined(r)||n.isSameNode(r)||this.isDescendant(r,n)||(this.preventExpand=i,this.dropAsChildNode(r,n,this,s))}this.fields.dataSource instanceof sf.data.DataManager==!1&&(this.preventExpand=!1),this.triggerEvent()}},t.prototype.refreshNode=function(e,t){if(!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(t)){var s,i=!1;if(1==this.dataType&&t.length>1)i=!0;else if(2==this.dataType&&1===t.length){var n=sf.base.getValue(this.fields.child.toString(),t[0]);sf.base.isNullOrUndefined(n)||(i=!0)}var a,r,l=this.getElement(e);if(s=l?l.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(s),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&i){for(var o=0;o<t.length;o++)if(sf.base.isNullOrUndefined(t[o][this.fields.parentID])){r=t[o],t.splice(o,1);break}a=sf.base.extend({},this.refreshData,r)}else a=sf.base.extend({},this.refreshData,t[0]);if(sf.base.isNullOrUndefined(l))this.updatePosition(s,a,i,t);else{this.isRefreshed=!0;var d=parseFloat(l.getAttribute("aria-level")),h=sf.lists.ListBase.createListItemFromJson(this.createElement,[a],this.listBaseOption,d),c=sf.base.select("."+ge,l),f=sf.base.getValue(this.fields.child.toString(),a);if(i&&c||i&&!sf.base.isNullOrUndefined(f))l.innerHTML=h[0].innerHTML,this.updatePosition(s,a,i,t),i&&c&&this.expandAll([s]);else{var p=sf.base.select("."+Oe,l),u=sf.base.select("."+Oe,h[0]),b=sf.base.select("div."+xe,p),m=sf.base.select("div."+xe,u);b&&m&&(m.classList.contains(be)&&b.classList.contains(ue)?(sf.base.removeClass([m],be),sf.base.addClass([m],ue)):m.classList.contains(ue)&&b.classList.contains(be)?(sf.base.removeClass([m],ue),sf.base.addClass([m],be)):b.classList.contains("interaction")&&sf.base.addClass([m],"interaction")),p.innerHTML=u.innerHTML,this.updatePosition(s,a,i,t)}if(a[this.fields.tooltip]&&l.setAttribute("title",a[this.fields.tooltip]),a.hasOwnProperty(this.fields.htmlAttributes)&&a[this.fields.htmlAttributes]){var v={};sf.base.merge(v,a[this.fields.htmlAttributes]),v.class?(sf.base.addClass([l],v.class.split(" ")),delete v.class):sf.base.attributes(l,v)}this.isRefreshed=!1,this.triggerEvent()}}},t.prototype.removeNodes=function(e){sf.base.isNullOrUndefined(e)||(this.fields.dataSource instanceof sf.data.DataManager&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("delete",e):this.deleteSuccess(e))},t.prototype.updateNode=function(e,t){var s=this;if(!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(t)&&this.allowEditing){var i=this.getElement(e);if(!sf.base.isNullOrUndefined(i)){var n=sf.base.select("."+ve,i);this.updateOldText(i);var a=this.getEditEvent(i,null,null);this.trigger("nodeEditing",a,(function(a){a.cancel||(s.fields.dataSource instanceof sf.data.DataManager&&!s.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==s.fields.dataSource.adaptorName?s.crudOperation("update",null,e,t,null,null,!1):s.appendNewText(i,n,t,!1))}))}}},t.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)},fe([sf.base.Property(!1)],t.prototype,"allowDragAndDrop",void 0),fe([sf.base.Property(!1)],t.prototype,"allowEditing",void 0),fe([sf.base.Property(!1)],t.prototype,"allowMultiSelection",void 0),fe([sf.base.Complex({},Me)],t.prototype,"animation",void 0),fe([sf.base.Property()],t.prototype,"checkedNodes",void 0),fe([sf.base.Property("")],t.prototype,"cssClass",void 0),fe([sf.base.Property(!1)],t.prototype,"disabled",void 0),fe([sf.base.Property(null)],t.prototype,"dragArea",void 0),fe([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),fe([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),fe([sf.base.Property()],t.prototype,"expandedNodes",void 0),fe([sf.base.Property("Auto")],t.prototype,"expandOn",void 0),fe([sf.base.Complex({},De)],t.prototype,"fields",void 0),fe([sf.base.Property(!0)],t.prototype,"fullRowSelect",void 0),fe([sf.base.Property(!0)],t.prototype,"loadOnDemand",void 0),fe([sf.base.Property()],t.prototype,"locale",void 0),fe([sf.base.Property()],t.prototype,"nodeTemplate",void 0),fe([sf.base.Property()],t.prototype,"selectedNodes",void 0),fe([sf.base.Property("None")],t.prototype,"sortOrder",void 0),fe([sf.base.Property(!1)],t.prototype,"showCheckBox",void 0),fe([sf.base.Property(!0)],t.prototype,"autoCheck",void 0),fe([sf.base.Property(!1)],t.prototype,"fullRowNavigable",void 0),fe([sf.base.Event()],t.prototype,"actionFailure",void 0),fe([sf.base.Event()],t.prototype,"created",void 0),fe([sf.base.Event()],t.prototype,"dataBound",void 0),fe([sf.base.Event()],t.prototype,"dataSourceChanged",void 0),fe([sf.base.Event()],t.prototype,"drawNode",void 0),fe([sf.base.Event()],t.prototype,"destroyed",void 0),fe([sf.base.Event()],t.prototype,"keyPress",void 0),fe([sf.base.Event()],t.prototype,"nodeChecked",void 0),fe([sf.base.Event()],t.prototype,"nodeChecking",void 0),fe([sf.base.Event()],t.prototype,"nodeClicked",void 0),fe([sf.base.Event()],t.prototype,"nodeCollapsed",void 0),fe([sf.base.Event()],t.prototype,"nodeCollapsing",void 0),fe([sf.base.Event()],t.prototype,"nodeDragging",void 0),fe([sf.base.Event()],t.prototype,"nodeDragStart",void 0),fe([sf.base.Event()],t.prototype,"nodeDragStop",void 0),fe([sf.base.Event()],t.prototype,"nodeDropped",void 0),fe([sf.base.Event()],t.prototype,"nodeEdited",void 0),fe([sf.base.Event()],t.prototype,"nodeEditing",void 0),fe([sf.base.Event()],t.prototype,"nodeExpanded",void 0),fe([sf.base.Event()],t.prototype,"nodeExpanding",void 0),fe([sf.base.Event()],t.prototype,"nodeSelected",void 0),fe([sf.base.Event()],t.prototype,"nodeSelecting",void 0),t=s=fe([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),Ue=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),Te=function(e,t,s,i){var a,r=arguments.length,l=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(r<3?a(l):r>3?a(t,s,l):a(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},Be="e-close",Re="e-open",je="e-right",Fe="e-left",ze="e-over",qe="e-push",Ve="e-sidebar-context",We=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.isBlazor=!1,i}return Ue(t,e),t.prototype.preRender=function(){this.isBlazor=sf.base.isBlazor()&&this.isServerRendered,this.isBlazor||this.setWidth()},t.prototype.render=function(){this.initialize(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){this.setTarget(),this.addClass(),this.isBlazor||this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?this.show():this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.isBlazor||this.setEnableRTL(),sf.base.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.setEnableRTL=function(){this.enableRtl?sf.base.addClass([this.element],"e-rtl"):sf.base.removeClass([this.element],"e-rtl")},t.prototype.setTarget=function(){this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),sf.base.addClass([this.element],"e-sidebar-absolute"),sf.base.addClass([this.target],Ve))},t.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?sf.base.EventHandler.add(document,"mousedown touchstart",this.documentclickHandler,this):sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler)},t.prototype.setWidth=function(){this.enableDock&&"Left"===this.position||this.enableDock&&"Right"===this.position?sf.base.setStyleAttribute(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||sf.base.setStyleAttribute(this.element,{width:this.setDimension(this.width)})},t.prototype.setDimension=function(e){return e="number"==typeof e?sf.base.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:sf.base.formatUnit(e):"100%"},t.prototype.setZindex=function(){sf.base.setStyleAttribute(this.element,{"z-index":""+this.zIndex})},t.prototype.addClass=function(){var e=document.querySelector(".e-main-content");sf.base.isNullOrUndefined(e||this.element.nextElementSibling)||sf.base.addClass([e||this.element.nextElementSibling],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.isBlazor||(this.enableDock||"Auto"===this.type||sf.base.addClass([this.element],["e-visibility"]),sf.base.removeClass([this.element],[Re,Be,je,Fe,"e-slide",qe,ze]),this.element.classList.add("e-sidebar"),sf.base.addClass([this.element],"Right"===this.position?je:Fe),this.enableDock&&sf.base.addClass([this.element],"e-dock"),this.element.setAttribute("tabindex",this.tabIndex)),"Auto"!==this.type||sf.base.Browser.isDevice?this.isOpen||sf.base.addClass([this.element],Be):this.show()},t.prototype.checkType=function(e){"Push"!==this.type&&"Over"!==this.type&&"Slide"!==this.type?this.type="Auto":this.element.classList.contains(Be)||e||this.hide()},t.prototype.transitionEnd=function(e){this.setDock(),sf.base.isNullOrUndefined(e)||e.target!==this.element||this.triggerChange(),sf.base.EventHandler.remove(this.element,"transitionend",this.transitionEnd)},t.prototype.destroyBackDrop=function(){var e=document.querySelector(".e-main-content")||this.element.nextElementSibling;this.target&&this.showBackdrop&&e?sf.base.removeClass([e],"e-backdrop"):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.hide=function(e){var t=this,s={model:this,element:this.element,cancel:!1,isInteracted:!sf.base.isNullOrUndefined(e),event:e||null};sf.base.isBlazor()&&delete s.model,this.trigger("close",s,(function(e){if(!e.cancel){if(t.element.classList.contains(Be))return;t.element.classList.contains(Re)&&!t.animate&&t.triggerChange(),sf.base.addClass([t.element],Be),sf.base.removeClass([t.element],Re),t.enableDock?sf.base.setStyleAttribute(t.element,{width:sf.base.formatUnit(t.dockSize)}):sf.base.setStyleAttribute(t.element,{width:sf.base.formatUnit(t.width)}),t.setType(t.type);var s=document.querySelector(".e-main-content")||t.element.nextElementSibling;!t.enableDock&&s&&(s.style.transform="translateX(0px)","Left"===t.position?s.style.marginLeft="0px":s.style.marginRight="0px"),t.destroyBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.remove("e-sidebar-overflow"),t.setProperties({isOpen:!1},!0),t.enableDock&&setTimeout((function(){return t.setTimeOut()}),50),sf.base.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}}))},t.prototype.setTimeOut=function(){var e=document.querySelector(".e-main-content")||this.element.nextElementSibling;this.element.classList.contains(Re)&&e?"Left"===this.position?"auto"===this.width?e.style.marginLeft=this.setDimension(this.element.getBoundingClientRect().width):e.style.marginLeft=this.setDimension(this.width):"auto"===this.width?e.style.marginRight=this.setDimension(this.element.getBoundingClientRect().width):e.style.marginRight=this.setDimension(this.width):this.element.classList.contains(Be)&&e&&("Left"===this.position?"auto"===this.dockSize?e.style.marginLeft=this.setDimension(this.element.getBoundingClientRect().width):e.style.marginLeft=this.setDimension(this.dockSize):"auto"===this.dockSize?e.style.marginRight=this.setDimension(this.element.getBoundingClientRect().width):e.style.marginRight=this.setDimension(this.dockSize))},t.prototype.show=function(e){var t=this,s={model:this,element:this.element,cancel:!1,isInteracted:!sf.base.isNullOrUndefined(e),event:e||null};sf.base.isBlazor()&&delete s.model,this.trigger("open",s,(function(e){if(!e.cancel){if(sf.base.removeClass([t.element],"e-visibility"),t.element.classList.contains(Re))return;t.element.classList.contains(Be)&&!t.animate&&t.triggerChange(),sf.base.addClass([t.element],[Re,"e-transition"]),sf.base.setStyleAttribute(t.element,{transform:""}),sf.base.removeClass([t.element],Be),sf.base.setStyleAttribute(t.element,{width:sf.base.formatUnit(t.width)}),t.setType(t.type),t.createBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.add("e-sidebar-overflow"),t.setProperties({isOpen:!0},!0),sf.base.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}}))},t.prototype.setAnimation=function(){this.animate?sf.base.removeClass([this.element],"e-disable-animation"):sf.base.addClass([this.element],"e-disable-animation")},t.prototype.triggerChange=function(){var e={name:"change",element:this.element};this.trigger("change",e)},t.prototype.setDock=function(){this.enableDock&&"Left"===this.position&&!this.getState()?sf.base.setStyleAttribute(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&sf.base.setStyleAttribute(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(Be)&&this.enableDock&&sf.base.setStyleAttribute(this.element,{width:this.setDimension(this.dockSize)})},t.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop&&this.getState()){var e=document.querySelector(".e-main-content")||this.element.nextElementSibling;sf.base.addClass([e],"e-backdrop")}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className="e-sidebar-overlay",this.modal.style.display="block",document.body.appendChild(this.modal))},t.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},t.prototype.getModuleName=function(){return"sidebar"},t.prototype.toggle=function(e){this.element.classList.contains(Re)?this.hide():this.show()},t.prototype.getState=function(){return!!this.element.classList.contains(Re)},t.prototype.setMediaQuery=function(){if(this.mediaQuery){("string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches)&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}},t.prototype.resize=function(e){"Auto"===this.type&&(sf.base.Browser.isDevice?sf.base.addClass([this.element],ze):sf.base.addClass([this.element],qe)),this.setMediaQuery(),sf.base.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.documentclickHandler=function(e){sf.base.closest(e.target,".e-control.e-sidebar")||this.hide(e)},t.prototype.enableGestureHandler=function(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection||this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()},t.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new sf.base.Touch(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new sf.base.Touch(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},t.prototype.wireEvents=function(){this.setEnableGestures(),window.addEventListener("resize",this.resize.bind(this))},t.prototype.unWireEvents=function(){window.removeEventListener("resize",this.resize.bind(this)),sf.base.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},t.prototype.onPropertyChanged=function(t,s){for(var i=document.querySelector(".e-main-content")||this.element.nextElementSibling,n=0,a=Object.keys(t);n<a.length;n++){switch(a[n]){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),sf.base.removeClass([this.element],["e-visibility"]),this.addClass(),sf.base.addClass([this.element],"Auto"===this.type?sf.base.Browser.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),i&&("Left"===this.position?i.style.marginRight="0px":i.style.marginLeft="0px"),"Right"===this.position?(sf.base.removeClass([this.element],Fe),sf.base.addClass([this.element],je)):(sf.base.removeClass([this.element],je),sf.base.addClass([this.element],Fe)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":if("string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),sf.base.isNullOrUndefined(this.target))sf.base.removeClass([this.element],"e-sidebar-absolute"),sf.base.removeClass([s.target],Ve),sf.base.setStyleAttribute(i,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element);else{var r=this.isServerRendered;this.isServerRendered=!1,e.prototype.refresh.call(this),this.isServerRendered=r}break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}}},t.prototype.setType=function(e){var t=this.element.getBoundingClientRect().width;this.setZindex();var s=document.querySelector(".e-main-content")||this.element.nextElementSibling;s&&(s.style.transform="translateX(0px)",sf.base.Browser.isDevice||"Auto"===this.type||("Left"===this.position?s.style.marginLeft="0px":s.style.marginRight="0px"));var i=(this.position,t+"px"),n="Left"===this.position?t:-t;switch(sf.base.removeClass([this.element],[qe,ze,"e-slide"]),e){case"Push":sf.base.addClass([this.element],[qe]),s&&(this.enableDock||this.element.classList.contains(Re))&&("Left"===this.position?s.style.marginLeft=i:s.style.marginRight=i);break;case"Slide":sf.base.addClass([this.element],["e-slide"]),s&&(this.enableDock||this.element.classList.contains(Re))&&(s.style.transform="translateX("+n+"px)");break;case"Over":sf.base.addClass([this.element],[ze]),this.enableDock&&this.element.classList.contains(Be)&&s&&("Left"===this.position?s.style.marginLeft=i:s.style.marginRight=i);break;case"Auto":sf.base.addClass([this.element],["e-transition"]),sf.base.Browser.isDevice?s&&this.enableDock&&!this.getState()?("Left"===this.position?s.style.marginLeft=i:s.style.marginRight=i,sf.base.addClass([this.element],qe)):sf.base.addClass([this.element],ze):(sf.base.addClass([this.element],qe),s&&(this.enableDock||this.element.classList.contains(Re))&&("Left"===this.position?s.style.marginLeft=i:s.style.marginRight=i)),this.createBackDrop()}},t.prototype.destroy=function(){e.prototype.destroy.call(this),sf.base.removeClass([this.element],[Re,Be,qe,"e-slide",ze,Fe,je,"e-transition"]),this.target&&(sf.base.removeClass([this.element],"e-sidebar-absolute"),sf.base.removeClass([this.target],Ve)),this.destroyBackDrop(),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",this.windowWidth=null,sf.base.isNullOrUndefined(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex);var t=document.querySelector(".e-main-content")||this.element.nextElementSibling;sf.base.isNullOrUndefined(t)||(t.style.margin="",t.style.transform=""),this.unWireEvents()},Te([sf.base.Property("auto")],t.prototype,"dockSize",void 0),Te([sf.base.Property(null)],t.prototype,"mediaQuery",void 0),Te([sf.base.Property(!1)],t.prototype,"enableDock",void 0),Te([sf.base.Property("en-US")],t.prototype,"locale",void 0),Te([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),Te([sf.base.Property(!0)],t.prototype,"enableGestures",void 0),Te([sf.base.Property(!1)],t.prototype,"isOpen",void 0),Te([sf.base.Property(!1)],t.prototype,"enableRtl",void 0),Te([sf.base.Property(!0)],t.prototype,"animate",void 0),Te([sf.base.Property("auto")],t.prototype,"height",void 0),Te([sf.base.Property(!1)],t.prototype,"closeOnDocumentClick",void 0),Te([sf.base.Property("Left")],t.prototype,"position",void 0),Te([sf.base.Property(null)],t.prototype,"target",void 0),Te([sf.base.Property(!1)],t.prototype,"showBackdrop",void 0),Te([sf.base.Property("Auto")],t.prototype,"type",void 0),Te([sf.base.Property("auto")],t.prototype,"width",void 0),Te([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),Te([sf.base.Event()],t.prototype,"created",void 0),Te([sf.base.Event()],t.prototype,"close",void 0),Te([sf.base.Event()],t.prototype,"open",void 0),Te([sf.base.Event()],t.prototype,"change",void 0),Te([sf.base.Event()],t.prototype,"destroyed",void 0),t=Te([sf.base.NotifyPropertyChanges],t)}(sf.base.Component);return e.MenuAnimationSettings=L,e.MenuItem=k,e.HScroll=u,e.VScroll=v,e.Item=T,e.Toolbar=B,e.AccordionActionSettings=V,e.AccordionAnimationSettings=W,e.AccordionItem=_,e.Accordion=K,e.ContextMenu=X,e.Menu=$,e.TabActionSettings=re,e.TabAnimationSettings=le,e.Header=oe,e.TabItem=de,e.Tab=he,e.FieldsSettings=De,e.ActionSettings=Pe,e.NodeAnimationSettings=Me,e.TreeView=He,e.Sidebar=We,e},sfBlazor.loadDependencies(sfBlazor.dependencyJson.navigations,(function(){sf.navigations=sf.navigations({})}))}}]);